function EN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function RS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var AS={exports:{}},uf={},NS={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),_N=Symbol.for("react.portal"),SN=Symbol.for("react.fragment"),bN=Symbol.for("react.strict_mode"),TN=Symbol.for("react.profiler"),kN=Symbol.for("react.provider"),CN=Symbol.for("react.context"),xN=Symbol.for("react.forward_ref"),RN=Symbol.for("react.suspense"),AN=Symbol.for("react.memo"),NN=Symbol.for("react.lazy"),k1=Symbol.iterator;function PN(t){return t===null||typeof t!="object"?null:(t=k1&&t[k1]||t["@@iterator"],typeof t=="function"?t:null)}var PS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DS=Object.assign,OS={};function qa(t,e,n){this.props=t,this.context=e,this.refs=OS,this.updater=n||PS}qa.prototype.isReactComponent={};qa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $S(){}$S.prototype=qa.prototype;function dv(t,e,n){this.props=t,this.context=e,this.refs=OS,this.updater=n||PS}var hv=dv.prototype=new $S;hv.constructor=dv;DS(hv,qa.prototype);hv.isPureReactComponent=!0;var C1=Array.isArray,MS=Object.prototype.hasOwnProperty,fv={current:null},LS={key:!0,ref:!0,__self:!0,__source:!0};function FS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MS.call(e,r)&&!LS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fc,type:t,key:s,ref:o,props:i,_owner:fv.current}}function DN(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pv(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function ON(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x1=/\/+/g;function sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ON(""+t.key):e.toString(36)}function xd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fc:case _N:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+sm(o,0):r,C1(i)?(n="",t!=null&&(n=t.replace(x1,"$&/")+"/"),xd(i,e,n,"",function(u){return u})):i!=null&&(pv(i)&&(i=DN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(x1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",C1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+sm(s,a);o+=xd(s,e,n,l,i)}else if(l=PN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+sm(s,a++),o+=xd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gc(t,e,n){if(t==null)return t;var r=[],i=0;return xd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $N(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Rd={transition:null},MN={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Rd,ReactCurrentOwner:fv};fe.Children={map:Gc,forEach:function(t,e,n){Gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gc(t,function(){e++}),e},toArray:function(t){return Gc(t,function(e){return e})||[]},only:function(t){if(!pv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=qa;fe.Fragment=SN;fe.Profiler=TN;fe.PureComponent=dv;fe.StrictMode=bN;fe.Suspense=RN;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=fv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MS.call(e,l)&&!LS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fc,type:t.type,key:i,ref:s,props:r,_owner:o}};fe.createContext=function(t){return t={$$typeof:CN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kN,_context:t},t.Consumer=t};fe.createElement=FS;fe.createFactory=function(t){var e=FS.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:xN,render:t}};fe.isValidElement=pv;fe.lazy=function(t){return{$$typeof:NN,_payload:{_status:-1,_result:t},_init:$N}};fe.memo=function(t,e){return{$$typeof:AN,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Rd.transition;Rd.transition={};try{t()}finally{Rd.transition=e}};fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};fe.useCallback=function(t,e){return un.current.useCallback(t,e)};fe.useContext=function(t){return un.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return un.current.useDeferredValue(t)};fe.useEffect=function(t,e){return un.current.useEffect(t,e)};fe.useId=function(){return un.current.useId()};fe.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return un.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};fe.useRef=function(t){return un.current.useRef(t)};fe.useState=function(t){return un.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return un.current.useTransition()};fe.version="18.2.0";NS.exports=fe;var I=NS.exports;const sr=RS(I),hg=EN({__proto__:null,default:sr},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN=I,FN=Symbol.for("react.element"),UN=Symbol.for("react.fragment"),VN=Object.prototype.hasOwnProperty,BN=LN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zN={key:!0,ref:!0,__self:!0,__source:!0};function US(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VN.call(e,r)&&!zN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FN,type:t,key:s,ref:o,props:i,_owner:BN.current}}uf.Fragment=UN;uf.jsx=US;uf.jsxs=US;AS.exports=uf;var P=AS.exports,fg={},VS={exports:{}},Ln={},BS={exports:{}},zS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,j){var $=D.length;D.push(j);e:for(;0<$;){var ee=$-1>>>1,X=D[ee];if(0<i(X,j))D[ee]=j,D[$]=X,$=ee;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var j=D[0],$=D.pop();if($!==j){D[0]=$;e:for(var ee=0,X=D.length,Ne=X>>>1;ee<Ne;){var de=2*(ee+1)-1,ue=D[de],pe=de+1,ht=D[pe];if(0>i(ue,$))pe<X&&0>i(ht,ue)?(D[ee]=ht,D[pe]=$,ee=pe):(D[ee]=ue,D[de]=$,ee=de);else if(pe<X&&0>i(ht,$))D[ee]=ht,D[pe]=$,ee=pe;else break e}}return j}function i(D,j){var $=D.sortIndex-j.sortIndex;return $!==0?$:D.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=D)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function w(D){if(v=!1,g(D),!m)if(n(l)!==null)m=!0,Z(E);else{var j=n(u);j!==null&&Y(w,j.startTime-D)}}function E(D,j){m=!1,v&&(v=!1,y(x),x=-1),f=!0;var $=h;try{for(g(j),d=n(l);d!==null&&(!(d.expirationTime>j)||D&&!q());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var X=ee(d.expirationTime<=j);j=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),g(j)}else r(l);d=n(l)}if(d!==null)var Ne=!0;else{var de=n(u);de!==null&&Y(w,de.startTime-j),Ne=!1}return Ne}finally{d=null,h=$,f=!1}}var T=!1,S=null,x=-1,L=5,R=-1;function q(){return!(t.unstable_now()-R<L)}function ne(){if(S!==null){var D=t.unstable_now();R=D;var j=!0;try{j=S(!0,D)}finally{j?Q():(T=!1,S=null)}}else T=!1}var Q;if(typeof p=="function")Q=function(){p(ne)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=ne,Q=function(){F.postMessage(null)}}else Q=function(){_(ne,0)};function Z(D){S=D,T||(T=!0,Q())}function Y(D,j){x=_(function(){D(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,Z(E))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var $=h;h=j;try{return D()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return j()}finally{h=$}},t.unstable_scheduleCallback=function(D,j,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,D={id:c++,callback:j,priorityLevel:D,startTime:$,expirationTime:X,sortIndex:-1},$>ee?(D.sortIndex=$,e(u,D),n(l)===null&&D===n(u)&&(v?(y(x),x=-1):v=!0,Y(w,$-ee))):(D.sortIndex=X,e(l,D),m||f||(m=!0,Z(E))),D},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(D){var j=h;return function(){var $=h;h=j;try{return D.apply(this,arguments)}finally{h=$}}}})(zS);BS.exports=zS;var jN=BS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=I,On=jN;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WS=new Set,Iu={};function go(t,e){wa(t,e),wa(t+"Capture",e)}function wa(t,e){for(Iu[t]=e,t=0;t<e.length;t++)WS.add(e[t])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pg=Object.prototype.hasOwnProperty,WN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R1={},A1={};function qN(t){return pg.call(A1,t)?!0:pg.call(R1,t)?!1:WN.test(t)?A1[t]=!0:(R1[t]=!0,!1)}function HN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KN(t,e,n,r){if(e===null||typeof e>"u"||HN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var mv=/[\-:]([a-z])/g;function gv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mv,gv);zt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mv,gv);zt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mv,gv);zt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function yv(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KN(e,n,i,r)&&(n=null),r||i===null?qN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var li=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),vv=Symbol.for("react.strict_mode"),mg=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),gg=Symbol.for("react.suspense"),yg=Symbol.for("react.suspense_list"),Iv=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),KS=Symbol.for("react.offscreen"),N1=Symbol.iterator;function pl(t){return t===null||typeof t!="object"?null:(t=N1&&t[N1]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Object.assign,om;function Ul(t){if(om===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);om=e&&e[1]||""}return`
`+om+t}var am=!1;function lm(t,e){if(!t||am)return"";am=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{am=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ul(t):""}function GN(t){switch(t.tag){case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return t=lm(t.type,!1),t;case 11:return t=lm(t.type.render,!1),t;case 1:return t=lm(t.type,!0),t;default:return""}}function vg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case Bo:return"Portal";case mg:return"Profiler";case vv:return"StrictMode";case gg:return"Suspense";case yg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HS:return(t.displayName||"Context")+".Consumer";case qS:return(t._context.displayName||"Context")+".Provider";case wv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Iv:return e=t.displayName||null,e!==null?e:vg(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return vg(t(e))}catch{}}return null}function QN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(e);case 8:return e===vv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YN(t){var e=GS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yc(t){t._valueTracker||(t._valueTracker=YN(t))}function QS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function th(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wg(t,e){var n=e.checked;return Ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function YS(t,e){e=e.checked,e!=null&&yv(t,"checked",e,!1)}function Ig(t,e){YS(t,e);var n=Wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Eg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Eg(t,e.type,Wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function D1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Eg(t,e,n){(e!=="number"||th(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vl=Array.isArray;function ra(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _g(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Vl(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wi(n)}}function XS(t,e){var n=Wi(e.value),r=Wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,ZS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XN=["Webkit","ms","Moz","O"];Object.keys(Xl).forEach(function(t){XN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xl[e]=Xl[t]})});function eb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xl.hasOwnProperty(t)&&Xl[t]?(""+e).trim():e+"px"}function tb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JN=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bg(t,e){if(e){if(JN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Tg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kg=null;function Ev(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cg=null,ia=null,sa=null;function M1(t){if(t=gc(t)){if(typeof Cg!="function")throw Error(O(280));var e=t.stateNode;e&&(e=pf(e),Cg(t.stateNode,t.type,e))}}function nb(t){ia?sa?sa.push(t):sa=[t]:ia=t}function rb(){if(ia){var t=ia,e=sa;if(sa=ia=null,M1(t),e)for(t=0;t<e.length;t++)M1(e[t])}}function ib(t,e){return t(e)}function sb(){}var um=!1;function ob(t,e,n){if(um)return t(e,n);um=!0;try{return ib(t,e,n)}finally{um=!1,(ia!==null||sa!==null)&&(sb(),rb())}}function _u(t,e){var n=t.stateNode;if(n===null)return null;var r=pf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var xg=!1;if(ei)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){xg=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{xg=!1}function ZN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Jl=!1,nh=null,rh=!1,Rg=null,eP={onError:function(t){Jl=!0,nh=t}};function tP(t,e,n,r,i,s,o,a,l){Jl=!1,nh=null,ZN.apply(eP,arguments)}function nP(t,e,n,r,i,s,o,a,l){if(tP.apply(this,arguments),Jl){if(Jl){var u=nh;Jl=!1,nh=null}else throw Error(O(198));rh||(rh=!0,Rg=u)}}function yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ab(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L1(t){if(yo(t)!==t)throw Error(O(188))}function rP(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return L1(i),t;if(s===r)return L1(i),e;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function lb(t){return t=rP(t),t!==null?ub(t):null}function ub(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ub(t);if(e!==null)return e;t=t.sibling}return null}var cb=On.unstable_scheduleCallback,F1=On.unstable_cancelCallback,iP=On.unstable_shouldYield,sP=On.unstable_requestPaint,at=On.unstable_now,oP=On.unstable_getCurrentPriorityLevel,_v=On.unstable_ImmediatePriority,db=On.unstable_UserBlockingPriority,ih=On.unstable_NormalPriority,aP=On.unstable_LowPriority,hb=On.unstable_IdlePriority,cf=null,Ar=null;function lP(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(cf,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:dP,uP=Math.log,cP=Math.LN2;function dP(t){return t>>>=0,t===0?32:31-(uP(t)/cP|0)|0}var Jc=64,Zc=4194304;function Bl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bl(a):(s&=o,s!==0&&(r=Bl(s)))}else o=n&~i,o!==0?r=Bl(o):s!==0&&(r=Bl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function hP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ar(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ag(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fb(){var t=Jc;return Jc<<=1,!(Jc&4194240)&&(Jc=64),t}function cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function pP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function pb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mb,bv,gb,yb,vb,Ng=!1,ed=[],$i=null,Mi=null,Li=null,Su=new Map,bu=new Map,Ci=[],mP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U1(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Su.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(e.pointerId)}}function gl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&bv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gP(t,e,n,r,i){switch(e){case"focusin":return $i=gl($i,t,e,n,r,i),!0;case"dragenter":return Mi=gl(Mi,t,e,n,r,i),!0;case"mouseover":return Li=gl(Li,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Su.set(s,gl(Su.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,bu.set(s,gl(bu.get(s)||null,t,e,n,r,i)),!0}return!1}function wb(t){var e=Ds(t.target);if(e!==null){var n=yo(e);if(n!==null){if(e=n.tag,e===13){if(e=ab(n),e!==null){t.blockedOn=e,vb(t.priority,function(){gb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kg=r,n.target.dispatchEvent(r),kg=null}else return e=gc(n),e!==null&&bv(e),t.blockedOn=n,!1;e.shift()}return!0}function V1(t,e,n){Ad(t)&&n.delete(e)}function yP(){Ng=!1,$i!==null&&Ad($i)&&($i=null),Mi!==null&&Ad(Mi)&&(Mi=null),Li!==null&&Ad(Li)&&(Li=null),Su.forEach(V1),bu.forEach(V1)}function yl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ng||(Ng=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,yP)))}function Tu(t){function e(i){return yl(i,t)}if(0<ed.length){yl(ed[0],t);for(var n=1;n<ed.length;n++){var r=ed[n];r.blockedOn===t&&(r.blockedOn=null)}}for($i!==null&&yl($i,t),Mi!==null&&yl(Mi,t),Li!==null&&yl(Li,t),Su.forEach(e),bu.forEach(e),n=0;n<Ci.length;n++)r=Ci[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ci.length&&(n=Ci[0],n.blockedOn===null);)wb(n),n.blockedOn===null&&Ci.shift()}var oa=li.ReactCurrentBatchConfig,oh=!0;function vP(t,e,n,r){var i=ke,s=oa.transition;oa.transition=null;try{ke=1,Tv(t,e,n,r)}finally{ke=i,oa.transition=s}}function wP(t,e,n,r){var i=ke,s=oa.transition;oa.transition=null;try{ke=4,Tv(t,e,n,r)}finally{ke=i,oa.transition=s}}function Tv(t,e,n,r){if(oh){var i=Pg(t,e,n,r);if(i===null)Im(t,e,r,ah,n),U1(t,r);else if(gP(i,t,e,n,r))r.stopPropagation();else if(U1(t,r),e&4&&-1<mP.indexOf(t)){for(;i!==null;){var s=gc(i);if(s!==null&&mb(s),s=Pg(t,e,n,r),s===null&&Im(t,e,r,ah,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Im(t,e,r,null,n)}}var ah=null;function Pg(t,e,n,r){if(ah=null,t=Ev(r),t=Ds(t),t!==null)if(e=yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ab(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ah=t,null}function Ib(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oP()){case _v:return 1;case db:return 4;case ih:case aP:return 16;case hb:return 536870912;default:return 16}default:return 16}}var Ni=null,kv=null,Nd=null;function Eb(){if(Nd)return Nd;var t,e=kv,n=e.length,r,i="value"in Ni?Ni.value:Ni.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Nd=i.slice(t,1<r?1-r:void 0)}function Pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function td(){return!0}function B1(){return!1}function Fn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?td:B1,this.isPropagationStopped=B1,this}return Ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=td)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=td)},persist:function(){},isPersistent:td}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cv=Fn(Ha),mc=Ge({},Ha,{view:0,detail:0}),IP=Fn(mc),dm,hm,vl,df=Ge({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vl&&(vl&&t.type==="mousemove"?(dm=t.screenX-vl.screenX,hm=t.screenY-vl.screenY):hm=dm=0,vl=t),dm)},movementY:function(t){return"movementY"in t?t.movementY:hm}}),z1=Fn(df),EP=Ge({},df,{dataTransfer:0}),_P=Fn(EP),SP=Ge({},mc,{relatedTarget:0}),fm=Fn(SP),bP=Ge({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),TP=Fn(bP),kP=Ge({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CP=Fn(kP),xP=Ge({},Ha,{data:0}),j1=Fn(xP),RP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NP[t])?!!e[t]:!1}function xv(){return PP}var DP=Ge({},mc,{key:function(t){if(t.key){var e=RP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xv,charCode:function(t){return t.type==="keypress"?Pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OP=Fn(DP),$P=Ge({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W1=Fn($P),MP=Ge({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xv}),LP=Fn(MP),FP=Ge({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),UP=Fn(FP),VP=Ge({},df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BP=Fn(VP),zP=[9,13,27,32],Rv=ei&&"CompositionEvent"in window,Zl=null;ei&&"documentMode"in document&&(Zl=document.documentMode);var jP=ei&&"TextEvent"in window&&!Zl,_b=ei&&(!Rv||Zl&&8<Zl&&11>=Zl),q1=String.fromCharCode(32),H1=!1;function Sb(t,e){switch(t){case"keyup":return zP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jo=!1;function WP(t,e){switch(t){case"compositionend":return bb(e);case"keypress":return e.which!==32?null:(H1=!0,q1);case"textInput":return t=e.data,t===q1&&H1?null:t;default:return null}}function qP(t,e){if(jo)return t==="compositionend"||!Rv&&Sb(t,e)?(t=Eb(),Nd=kv=Ni=null,jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _b&&e.locale!=="ko"?null:e.data;default:return null}}var HP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HP[t.type]:e==="textarea"}function Tb(t,e,n,r){nb(r),e=lh(e,"onChange"),0<e.length&&(n=new Cv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var eu=null,ku=null;function KP(t){Mb(t,0)}function hf(t){var e=Ho(t);if(QS(e))return t}function GP(t,e){if(t==="change")return e}var kb=!1;if(ei){var pm;if(ei){var mm="oninput"in document;if(!mm){var G1=document.createElement("div");G1.setAttribute("oninput","return;"),mm=typeof G1.oninput=="function"}pm=mm}else pm=!1;kb=pm&&(!document.documentMode||9<document.documentMode)}function Q1(){eu&&(eu.detachEvent("onpropertychange",Cb),ku=eu=null)}function Cb(t){if(t.propertyName==="value"&&hf(ku)){var e=[];Tb(e,ku,t,Ev(t)),ob(KP,e)}}function QP(t,e,n){t==="focusin"?(Q1(),eu=e,ku=n,eu.attachEvent("onpropertychange",Cb)):t==="focusout"&&Q1()}function YP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hf(ku)}function XP(t,e){if(t==="click")return hf(e)}function JP(t,e){if(t==="input"||t==="change")return hf(e)}function ZP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:ZP;function Cu(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pg.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function Y1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function X1(t,e){var n=Y1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Y1(n)}}function xb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rb(){for(var t=window,e=th();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=th(t.document)}return e}function Av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e2(t){var e=Rb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xb(n.ownerDocument.documentElement,n)){if(r!==null&&Av(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=X1(n,s);var o=X1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t2=ei&&"documentMode"in document&&11>=document.documentMode,Wo=null,Dg=null,tu=null,Og=!1;function J1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Og||Wo==null||Wo!==th(r)||(r=Wo,"selectionStart"in r&&Av(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tu&&Cu(tu,r)||(tu=r,r=lh(Dg,"onSelect"),0<r.length&&(e=new Cv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wo)))}function nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:nd("Animation","AnimationEnd"),animationiteration:nd("Animation","AnimationIteration"),animationstart:nd("Animation","AnimationStart"),transitionend:nd("Transition","TransitionEnd")},gm={},Ab={};ei&&(Ab=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function ff(t){if(gm[t])return gm[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ab)return gm[t]=e[n];return t}var Nb=ff("animationend"),Pb=ff("animationiteration"),Db=ff("animationstart"),Ob=ff("transitionend"),$b=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){$b.set(t,e),go(e,[t])}for(var ym=0;ym<Z1.length;ym++){var vm=Z1[ym],n2=vm.toLowerCase(),r2=vm[0].toUpperCase()+vm.slice(1);os(n2,"on"+r2)}os(Nb,"onAnimationEnd");os(Pb,"onAnimationIteration");os(Db,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(Ob,"onTransitionEnd");wa("onMouseEnter",["mouseout","mouseover"]);wa("onMouseLeave",["mouseout","mouseover"]);wa("onPointerEnter",["pointerout","pointerover"]);wa("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i2=new Set("cancel close invalid load scroll toggle".split(" ").concat(zl));function eI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nP(r,e,void 0,t),t.currentTarget=null}function Mb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;eI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;eI(i,a,u),s=l}}}if(rh)throw t=Rg,rh=!1,Rg=null,t}function $e(t,e){var n=e[Ug];n===void 0&&(n=e[Ug]=new Set);var r=t+"__bubble";n.has(r)||(Lb(e,t,2,!1),n.add(r))}function wm(t,e,n){var r=0;e&&(r|=4),Lb(n,t,r,e)}var rd="_reactListening"+Math.random().toString(36).slice(2);function xu(t){if(!t[rd]){t[rd]=!0,WS.forEach(function(n){n!=="selectionchange"&&(i2.has(n)||wm(n,!1,t),wm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rd]||(e[rd]=!0,wm("selectionchange",!1,e))}}function Lb(t,e,n,r){switch(Ib(e)){case 1:var i=vP;break;case 4:i=wP;break;default:i=Tv}n=i.bind(null,e,n,t),i=void 0,!xg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Im(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ob(function(){var u=s,c=Ev(n),d=[];e:{var h=$b.get(t);if(h!==void 0){var f=Cv,m=t;switch(t){case"keypress":if(Pd(n)===0)break e;case"keydown":case"keyup":f=OP;break;case"focusin":m="focus",f=fm;break;case"focusout":m="blur",f=fm;break;case"beforeblur":case"afterblur":f=fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=_P;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=LP;break;case Nb:case Pb:case Db:f=TP;break;case Ob:f=UP;break;case"scroll":f=IP;break;case"wheel":f=BP;break;case"copy":case"cut":case"paste":f=CP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=W1}var v=(e&4)!==0,_=!v&&t==="scroll",y=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=_u(p,y),w!=null&&v.push(Ru(p,w,g)))),_)break;p=p.return}0<v.length&&(h=new f(h,m,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==kg&&(m=n.relatedTarget||n.fromElement)&&(Ds(m)||m[ti]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?Ds(m):null,m!==null&&(_=yo(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=z1,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=W1,w="onPointerLeave",y="onPointerEnter",p="pointer"),_=f==null?h:Ho(f),g=m==null?h:Ho(m),h=new v(w,p+"leave",f,n,c),h.target=_,h.relatedTarget=g,w=null,Ds(c)===u&&(v=new v(y,p+"enter",m,n,c),v.target=g,v.relatedTarget=_,w=v),_=w,f&&m)t:{for(v=f,y=m,p=0,g=v;g;g=ko(g))p++;for(g=0,w=y;w;w=ko(w))g++;for(;0<p-g;)v=ko(v),p--;for(;0<g-p;)y=ko(y),g--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=ko(v),y=ko(y)}v=null}else v=null;f!==null&&tI(d,h,f,v,!1),m!==null&&_!==null&&tI(d,_,m,v,!0)}}e:{if(h=u?Ho(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var E=GP;else if(K1(h))if(kb)E=JP;else{E=YP;var T=QP}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=XP);if(E&&(E=E(t,u))){Tb(d,E,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Eg(h,"number",h.value)}switch(T=u?Ho(u):window,t){case"focusin":(K1(T)||T.contentEditable==="true")&&(Wo=T,Dg=u,tu=null);break;case"focusout":tu=Dg=Wo=null;break;case"mousedown":Og=!0;break;case"contextmenu":case"mouseup":case"dragend":Og=!1,J1(d,n,c);break;case"selectionchange":if(t2)break;case"keydown":case"keyup":J1(d,n,c)}var S;if(Rv)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else jo?Sb(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(_b&&n.locale!=="ko"&&(jo||x!=="onCompositionStart"?x==="onCompositionEnd"&&jo&&(S=Eb()):(Ni=c,kv="value"in Ni?Ni.value:Ni.textContent,jo=!0)),T=lh(u,x),0<T.length&&(x=new j1(x,t,null,n,c),d.push({event:x,listeners:T}),S?x.data=S:(S=bb(n),S!==null&&(x.data=S)))),(S=jP?WP(t,n):qP(t,n))&&(u=lh(u,"onBeforeInput"),0<u.length&&(c=new j1("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}Mb(d,e)})}function Ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_u(t,n),s!=null&&r.unshift(Ru(t,s,i)),s=_u(t,e),s!=null&&r.push(Ru(t,s,i))),t=t.return}return r}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=_u(n,s),l!=null&&o.unshift(Ru(n,l,a))):i||(l=_u(n,s),l!=null&&o.push(Ru(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function nI(t){return(typeof t=="string"?t:""+t).replace(s2,`
`).replace(o2,"")}function id(t,e,n){if(e=nI(e),nI(t)!==e&&n)throw Error(O(425))}function uh(){}var $g=null,Mg=null;function Lg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fg=typeof setTimeout=="function"?setTimeout:void 0,a2=typeof clearTimeout=="function"?clearTimeout:void 0,rI=typeof Promise=="function"?Promise:void 0,l2=typeof queueMicrotask=="function"?queueMicrotask:typeof rI<"u"?function(t){return rI.resolve(null).then(t).catch(u2)}:Fg;function u2(t){setTimeout(function(){throw t})}function Em(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Tu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tu(e)}function Fi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ka=Math.random().toString(36).slice(2),wr="__reactFiber$"+Ka,Au="__reactProps$"+Ka,ti="__reactContainer$"+Ka,Ug="__reactEvents$"+Ka,c2="__reactListeners$"+Ka,d2="__reactHandles$"+Ka;function Ds(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iI(t);t!==null;){if(n=t[wr])return n;t=iI(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[wr]||t[ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function pf(t){return t[Au]||null}var Vg=[],Ko=-1;function as(t){return{current:t}}function Le(t){0>Ko||(t.current=Vg[Ko],Vg[Ko]=null,Ko--)}function De(t,e){Ko++,Vg[Ko]=t.current,t.current=e}var qi={},Zt=as(qi),wn=as(!1),Qs=qi;function Ia(t,e){var n=t.type.contextTypes;if(!n)return qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function In(t){return t=t.childContextTypes,t!=null}function ch(){Le(wn),Le(Zt)}function sI(t,e,n){if(Zt.current!==qi)throw Error(O(168));De(Zt,e),De(wn,n)}function Fb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,QN(t)||"Unknown",i));return Ge({},n,r)}function dh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qi,Qs=Zt.current,De(Zt,t),De(wn,wn.current),!0}function oI(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=Fb(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,Le(wn),Le(Zt),De(Zt,t)):Le(wn),De(wn,n)}var jr=null,mf=!1,_m=!1;function Ub(t){jr===null?jr=[t]:jr.push(t)}function h2(t){mf=!0,Ub(t)}function ls(){if(!_m&&jr!==null){_m=!0;var t=0,e=ke;try{var n=jr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,mf=!1}catch(i){throw jr!==null&&(jr=jr.slice(t+1)),cb(_v,ls),i}finally{ke=e,_m=!1}}return null}var Go=[],Qo=0,hh=null,fh=0,zn=[],jn=0,Ys=null,Wr=1,qr="";function Es(t,e){Go[Qo++]=fh,Go[Qo++]=hh,hh=t,fh=e}function Vb(t,e,n){zn[jn++]=Wr,zn[jn++]=qr,zn[jn++]=Ys,Ys=t;var r=Wr;t=qr;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var s=32-ar(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Wr=1<<32-ar(e)+i|n<<i|r,qr=s+t}else Wr=1<<s|n<<i|r,qr=t}function Nv(t){t.return!==null&&(Es(t,1),Vb(t,1,0))}function Pv(t){for(;t===hh;)hh=Go[--Qo],Go[Qo]=null,fh=Go[--Qo],Go[Qo]=null;for(;t===Ys;)Ys=zn[--jn],zn[jn]=null,qr=zn[--jn],zn[jn]=null,Wr=zn[--jn],zn[jn]=null}var Nn=null,Rn=null,Be=!1,ir=null;function Bb(t,e){var n=qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=Fi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ys!==null?{id:Wr,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,Rn=null,!0):!1;default:return!1}}function Bg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zg(t){if(Be){var e=Rn;if(e){var n=e;if(!aI(t,e)){if(Bg(t))throw Error(O(418));e=Fi(n.nextSibling);var r=Nn;e&&aI(t,e)?Bb(r,n):(t.flags=t.flags&-4097|2,Be=!1,Nn=t)}}else{if(Bg(t))throw Error(O(418));t.flags=t.flags&-4097|2,Be=!1,Nn=t}}}function lI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function sd(t){if(t!==Nn)return!1;if(!Be)return lI(t),Be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lg(t.type,t.memoizedProps)),e&&(e=Rn)){if(Bg(t))throw zb(),Error(O(418));for(;e;)Bb(t,e),e=Fi(e.nextSibling)}if(lI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Fi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=Nn?Fi(t.stateNode.nextSibling):null;return!0}function zb(){for(var t=Rn;t;)t=Fi(t.nextSibling)}function Ea(){Rn=Nn=null,Be=!1}function Dv(t){ir===null?ir=[t]:ir.push(t)}var f2=li.ReactCurrentBatchConfig;function nr(t,e){if(t&&t.defaultProps){e=Ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ph=as(null),mh=null,Yo=null,Ov=null;function $v(){Ov=Yo=mh=null}function Mv(t){var e=ph.current;Le(ph),t._currentValue=e}function jg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function aa(t,e){mh=t,Ov=Yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(Ov!==t)if(t={context:t,memoizedValue:e,next:null},Yo===null){if(mh===null)throw Error(O(308));Yo=t,mh.dependencies={lanes:0,firstContext:t}}else Yo=Yo.next=t;return e}var Os=null;function Lv(t){Os===null?Os=[t]:Os.push(t)}function jb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lv(e)):(n.next=i.next,i.next=n),e.interleaved=n,ni(t,r)}function ni(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ki=!1;function Fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ni(t,n)}return i=r.interleaved,i===null?(e.next=e,Lv(r)):(e.next=i.next,i.next=e),r.interleaved=e,ni(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sv(t,n)}}function uI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gh(t,e,n,r){var i=t.updateQueue;ki=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Ge({},d,h);break e;case 2:ki=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Js|=o,t.lanes=o,t.memoizedState=d}}function cI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var qb=new jS.Component().refs;function Wg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gf={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=Bi(t),s=Xr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(lr(e,t,i,r),Dd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=Bi(t),s=Xr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(lr(e,t,i,r),Dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Bi(t),i=Xr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ui(t,i,r),e!==null&&(lr(e,t,r,n),Dd(e,t,r))}};function dI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Cu(n,r)||!Cu(i,s):!0}function Hb(t,e,n){var r=!1,i=qi,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=In(e)?Qs:Zt.current,r=e.contextTypes,s=(r=r!=null)?Ia(t,i):qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gf.enqueueReplaceState(e,e.state,null)}function qg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=qb,Fv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=In(e)?Qs:Zt.current,i.context=Ia(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gf.enqueueReplaceState(i,i.state,null),gh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===qb&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function od(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fI(t){var e=t._init;return e(t._payload)}function Kb(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=zi(y,p),y.index=0,y.sibling=null,y}function s(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,g,w){return p===null||p.tag!==6?(p=Rm(g,y.mode,w),p.return=y,p):(p=i(p,g),p.return=y,p)}function l(y,p,g,w){var E=g.type;return E===zo?c(y,p,g.props.children,w,g.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ti&&fI(E)===p.type)?(w=i(p,g.props),w.ref=wl(y,p,g),w.return=y,w):(w=Ud(g.type,g.key,g.props,null,y.mode,w),w.ref=wl(y,p,g),w.return=y,w)}function u(y,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Am(g,y.mode,w),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function c(y,p,g,w,E){return p===null||p.tag!==7?(p=js(g,y.mode,w,E),p.return=y,p):(p=i(p,g),p.return=y,p)}function d(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Rm(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qc:return g=Ud(p.type,p.key,p.props,null,y.mode,g),g.ref=wl(y,null,p),g.return=y,g;case Bo:return p=Am(p,y.mode,g),p.return=y,p;case Ti:var w=p._init;return d(y,w(p._payload),g)}if(Vl(p)||pl(p))return p=js(p,y.mode,g,null),p.return=y,p;od(y,p)}return null}function h(y,p,g,w){var E=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:a(y,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qc:return g.key===E?l(y,p,g,w):null;case Bo:return g.key===E?u(y,p,g,w):null;case Ti:return E=g._init,h(y,p,E(g._payload),w)}if(Vl(g)||pl(g))return E!==null?null:c(y,p,g,w,null);od(y,g)}return null}function f(y,p,g,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,a(p,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qc:return y=y.get(w.key===null?g:w.key)||null,l(p,y,w,E);case Bo:return y=y.get(w.key===null?g:w.key)||null,u(p,y,w,E);case Ti:var T=w._init;return f(y,p,g,T(w._payload),E)}if(Vl(w)||pl(w))return y=y.get(g)||null,c(p,y,w,E,null);od(p,w)}return null}function m(y,p,g,w){for(var E=null,T=null,S=p,x=p=0,L=null;S!==null&&x<g.length;x++){S.index>x?(L=S,S=null):L=S.sibling;var R=h(y,S,g[x],w);if(R===null){S===null&&(S=L);break}t&&S&&R.alternate===null&&e(y,S),p=s(R,p,x),T===null?E=R:T.sibling=R,T=R,S=L}if(x===g.length)return n(y,S),Be&&Es(y,x),E;if(S===null){for(;x<g.length;x++)S=d(y,g[x],w),S!==null&&(p=s(S,p,x),T===null?E=S:T.sibling=S,T=S);return Be&&Es(y,x),E}for(S=r(y,S);x<g.length;x++)L=f(S,y,x,g[x],w),L!==null&&(t&&L.alternate!==null&&S.delete(L.key===null?x:L.key),p=s(L,p,x),T===null?E=L:T.sibling=L,T=L);return t&&S.forEach(function(q){return e(y,q)}),Be&&Es(y,x),E}function v(y,p,g,w){var E=pl(g);if(typeof E!="function")throw Error(O(150));if(g=E.call(g),g==null)throw Error(O(151));for(var T=E=null,S=p,x=p=0,L=null,R=g.next();S!==null&&!R.done;x++,R=g.next()){S.index>x?(L=S,S=null):L=S.sibling;var q=h(y,S,R.value,w);if(q===null){S===null&&(S=L);break}t&&S&&q.alternate===null&&e(y,S),p=s(q,p,x),T===null?E=q:T.sibling=q,T=q,S=L}if(R.done)return n(y,S),Be&&Es(y,x),E;if(S===null){for(;!R.done;x++,R=g.next())R=d(y,R.value,w),R!==null&&(p=s(R,p,x),T===null?E=R:T.sibling=R,T=R);return Be&&Es(y,x),E}for(S=r(y,S);!R.done;x++,R=g.next())R=f(S,y,x,R.value,w),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?x:R.key),p=s(R,p,x),T===null?E=R:T.sibling=R,T=R);return t&&S.forEach(function(ne){return e(y,ne)}),Be&&Es(y,x),E}function _(y,p,g,w){if(typeof g=="object"&&g!==null&&g.type===zo&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Qc:e:{for(var E=g.key,T=p;T!==null;){if(T.key===E){if(E=g.type,E===zo){if(T.tag===7){n(y,T.sibling),p=i(T,g.props.children),p.return=y,y=p;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ti&&fI(E)===T.type){n(y,T.sibling),p=i(T,g.props),p.ref=wl(y,T,g),p.return=y,y=p;break e}n(y,T);break}else e(y,T);T=T.sibling}g.type===zo?(p=js(g.props.children,y.mode,w,g.key),p.return=y,y=p):(w=Ud(g.type,g.key,g.props,null,y.mode,w),w.ref=wl(y,p,g),w.return=y,y=w)}return o(y);case Bo:e:{for(T=g.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Am(g,y.mode,w),p.return=y,y=p}return o(y);case Ti:return T=g._init,_(y,p,T(g._payload),w)}if(Vl(g))return m(y,p,g,w);if(pl(g))return v(y,p,g,w);od(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,g),p.return=y,y=p):(n(y,p),p=Rm(g,y.mode,w),p.return=y,y=p),o(y)):n(y,p)}return _}var _a=Kb(!0),Gb=Kb(!1),yc={},Nr=as(yc),Nu=as(yc),Pu=as(yc);function $s(t){if(t===yc)throw Error(O(174));return t}function Uv(t,e){switch(De(Pu,e),De(Nu,t),De(Nr,yc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sg(e,t)}Le(Nr),De(Nr,e)}function Sa(){Le(Nr),Le(Nu),Le(Pu)}function Qb(t){$s(Pu.current);var e=$s(Nr.current),n=Sg(e,t.type);e!==n&&(De(Nu,t),De(Nr,n))}function Vv(t){Nu.current===t&&(Le(Nr),Le(Nu))}var He=as(0);function yh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sm=[];function Bv(){for(var t=0;t<Sm.length;t++)Sm[t]._workInProgressVersionPrimary=null;Sm.length=0}var Od=li.ReactCurrentDispatcher,bm=li.ReactCurrentBatchConfig,Xs=0,Ke=null,It=null,Tt=null,vh=!1,nu=!1,Du=0,p2=0;function Ht(){throw Error(O(321))}function zv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function jv(t,e,n,r,i,s){if(Xs=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Od.current=t===null||t.memoizedState===null?v2:w2,t=n(r,i),nu){s=0;do{if(nu=!1,Du=0,25<=s)throw Error(O(301));s+=1,Tt=It=null,e.updateQueue=null,Od.current=I2,t=n(r,i)}while(nu)}if(Od.current=wh,e=It!==null&&It.next!==null,Xs=0,Tt=It=Ke=null,vh=!1,e)throw Error(O(300));return t}function Wv(){var t=Du!==0;return Du=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ke.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Yn(){if(It===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Tt===null?Ke.memoizedState:Tt.next;if(e!==null)Tt=e,It=t;else{if(t===null)throw Error(O(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Tt===null?Ke.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ou(t,e){return typeof e=="function"?e(t):e}function Tm(t){var e=Yn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Xs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ke.lanes|=c,Js|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ur(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,Js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function km(t){var e=Yn(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ur(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Yb(){}function Xb(t,e){var n=Ke,r=Yn(),i=e(),s=!ur(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,qv(eT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,$u(9,Zb.bind(null,n,r,i,e),void 0,null),Ct===null)throw Error(O(349));Xs&30||Jb(n,e,i)}return i}function Jb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Zb(t,e,n,r){e.value=n,e.getSnapshot=r,tT(e)&&nT(t)}function eT(t,e,n){return n(function(){tT(e)&&nT(t)})}function tT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function nT(t){var e=ni(t,1);e!==null&&lr(e,t,1,-1)}function pI(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=y2.bind(null,Ke,t),[e.memoizedState,t]}function $u(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rT(){return Yn().memoizedState}function $d(t,e,n,r){var i=gr();Ke.flags|=t,i.memoizedState=$u(1|e,n,void 0,r===void 0?null:r)}function yf(t,e,n,r){var i=Yn();r=r===void 0?null:r;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,r!==null&&zv(r,o.deps)){i.memoizedState=$u(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=$u(1|e,n,s,r)}function mI(t,e){return $d(8390656,8,t,e)}function qv(t,e){return yf(2048,8,t,e)}function iT(t,e){return yf(4,2,t,e)}function sT(t,e){return yf(4,4,t,e)}function oT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aT(t,e,n){return n=n!=null?n.concat([t]):null,yf(4,4,oT.bind(null,e,t),n)}function Hv(){}function lT(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uT(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cT(t,e,n){return Xs&21?(ur(n,e)||(n=fb(),Ke.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function m2(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=bm.transition;bm.transition={};try{t(!1),e()}finally{ke=n,bm.transition=r}}function dT(){return Yn().memoizedState}function g2(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hT(t))fT(e,n);else if(n=jb(t,e,n,r),n!==null){var i=on();lr(n,t,r,i),pT(n,e,r)}}function y2(t,e,n){var r=Bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hT(t))fT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,o)){var l=e.interleaved;l===null?(i.next=i,Lv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jb(t,e,i,r),n!==null&&(i=on(),lr(n,t,r,i),pT(n,e,r))}}function hT(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function fT(t,e){nu=vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sv(t,n)}}var wh={readContext:Qn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},v2={readContext:Qn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:mI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$d(4194308,4,oT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $d(4194308,4,t,e)},useInsertionEffect:function(t,e){return $d(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g2.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:pI,useDebugValue:Hv,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=pI(!1),e=t[0];return t=m2.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=gr();if(Be){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Ct===null)throw Error(O(349));Xs&30||Jb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mI(eT.bind(null,r,s,t),[t]),r.flags|=2048,$u(9,Zb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=Ct.identifierPrefix;if(Be){var n=qr,r=Wr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Du++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=p2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},w2={readContext:Qn,useCallback:lT,useContext:Qn,useEffect:qv,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:Tm,useRef:rT,useState:function(){return Tm(Ou)},useDebugValue:Hv,useDeferredValue:function(t){var e=Yn();return cT(e,It.memoizedState,t)},useTransition:function(){var t=Tm(Ou)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:Yb,useSyncExternalStore:Xb,useId:dT,unstable_isNewReconciler:!1},I2={readContext:Qn,useCallback:lT,useContext:Qn,useEffect:qv,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:uT,useReducer:km,useRef:rT,useState:function(){return km(Ou)},useDebugValue:Hv,useDeferredValue:function(t){var e=Yn();return It===null?e.memoizedState=t:cT(e,It.memoizedState,t)},useTransition:function(){var t=km(Ou)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:Yb,useSyncExternalStore:Xb,useId:dT,unstable_isNewReconciler:!1};function ba(t,e){try{var n="",r=e;do n+=GN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Hg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E2=typeof WeakMap=="function"?WeakMap:Map;function mT(t,e,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Eh||(Eh=!0,ny=r),Hg(t,e)},n}function gT(t,e,n){n=Xr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Hg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hg(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$2.bind(null,t,e,n),e.then(t,t))}function yI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xr(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var _2=li.ReactCurrentOwner,mn=!1;function tn(t,e,n,r){e.child=t===null?Gb(e,null,n,r):_a(e,t.child,n,r)}function wI(t,e,n,r,i){n=n.render;var s=e.ref;return aa(e,i),r=jv(t,e,n,r,s,i),n=Wv(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ri(t,e,i)):(Be&&n&&Nv(e),e.flags|=1,tn(t,e,r,i),e.child)}function II(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!e0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,yT(t,e,s,r,i)):(t=Ud(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(o,r)&&t.ref===e.ref)return ri(t,e,i)}return e.flags|=1,t=zi(s,r),t.ref=e.ref,t.return=e,e.child=t}function yT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Cu(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,ri(t,e,i)}return Kg(t,e,n,r,i)}function vT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Jo,kn),kn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(Jo,kn),kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(Jo,kn),kn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(Jo,kn),kn|=r;return tn(t,e,i,n),e.child}function wT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kg(t,e,n,r,i){var s=In(n)?Qs:Zt.current;return s=Ia(e,s),aa(e,i),n=jv(t,e,n,r,s,i),r=Wv(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ri(t,e,i)):(Be&&r&&Nv(e),e.flags|=1,tn(t,e,n,i),e.child)}function EI(t,e,n,r,i){if(In(n)){var s=!0;dh(e)}else s=!1;if(aa(e,i),e.stateNode===null)Md(t,e),Hb(e,n,r),qg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=In(n)?Qs:Zt.current,u=Ia(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&hI(e,o,r,u),ki=!1;var h=e.memoizedState;o.state=h,gh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||wn.current||ki?(typeof c=="function"&&(Wg(e,n,c,r),l=e.memoizedState),(a=ki||dI(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=In(n)?Qs:Zt.current,l=Ia(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&hI(e,o,r,l),ki=!1,h=e.memoizedState,o.state=h,gh(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||wn.current||ki?(typeof f=="function"&&(Wg(e,n,f,r),m=e.memoizedState),(u=ki||dI(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Gg(t,e,n,r,s,i)}function Gg(t,e,n,r,i,s){wT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&oI(e,n,!1),ri(t,e,s);r=e.stateNode,_2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_a(e,t.child,null,s),e.child=_a(e,null,a,s)):tn(t,e,a,s),e.memoizedState=r.state,i&&oI(e,n,!0),e.child}function IT(t){var e=t.stateNode;e.pendingContext?sI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sI(t,e.context,!1),Uv(t,e.containerInfo)}function _I(t,e,n,r,i){return Ea(),Dv(i),e.flags|=256,tn(t,e,n,r),e.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function Yg(t){return{baseLanes:t,cachePool:null,transitions:null}}function ET(t,e,n){var r=e.pendingProps,i=He.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(He,i&1),t===null)return zg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=If(o,r,0,null),t=js(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Yg(n),e.memoizedState=Qg,t):Kv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return S2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zi(a,s):(s=js(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Yg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qg,r}return s=t.child,t=s.sibling,r=zi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Kv(t,e){return e=If({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ad(t,e,n,r){return r!==null&&Dv(r),_a(e,t.child,null,n),t=Kv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Cm(Error(O(422))),ad(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=If({mode:"visible",children:r.children},i,0,null),s=js(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_a(e,t.child,null,o),e.child.memoizedState=Yg(o),e.memoizedState=Qg,s);if(!(e.mode&1))return ad(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Cm(s,r,void 0),ad(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=Ct,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ni(t,i),lr(r,t,i,-1))}return Zv(),r=Cm(Error(O(421))),ad(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=M2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=Fi(i.nextSibling),Nn=e,Be=!0,ir=null,t!==null&&(zn[jn++]=Wr,zn[jn++]=qr,zn[jn++]=Ys,Wr=t.id,qr=t.overflow,Ys=e),e=Kv(e,r.children),e.flags|=4096,e)}function SI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jg(t.return,e,n)}function xm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _T(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&SI(t,n,e);else if(t.tag===19)SI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(He,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xm(e,!0,n,null,s);break;case"together":xm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function b2(t,e,n){switch(e.tag){case 3:IT(e),Ea();break;case 5:Qb(e);break;case 1:In(e.type)&&dh(e);break;case 4:Uv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(ph,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?ET(t,e,n):(De(He,He.current&1),t=ri(t,e,n),t!==null?t.sibling:null);De(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _T(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,vT(t,e,n)}return ri(t,e,n)}var ST,Xg,bT,TT;ST=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xg=function(){};bT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$s(Nr.current);var s=null;switch(n){case"input":i=wg(t,i),r=wg(t,r),s=[];break;case"select":i=Ge({},i,{value:void 0}),r=Ge({},r,{value:void 0}),s=[];break;case"textarea":i=_g(t,i),r=_g(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uh)}bg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Iu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Iu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&$e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};TT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Il(t,e){if(!Be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function T2(t,e,n){var r=e.pendingProps;switch(Pv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(e),null;case 1:return In(e.type)&&ch(),Kt(e),null;case 3:return r=e.stateNode,Sa(),Le(wn),Le(Zt),Bv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(sy(ir),ir=null))),Xg(t,e),Kt(e),null;case 5:Vv(e);var i=$s(Pu.current);if(n=e.type,t!==null&&e.stateNode!=null)bT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Kt(e),null}if(t=$s(Nr.current),sd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wr]=e,r[Au]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<zl.length;i++)$e(zl[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":P1(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":O1(r,s),$e("invalid",r)}bg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&id(r.textContent,a,t),i=["children",""+a]):Iu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":Yc(r),D1(r,s,!0);break;case"textarea":Yc(r),$1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[Au]=r,ST(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tg(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<zl.length;i++)$e(zl[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":P1(t,r),i=wg(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ge({},r,{value:void 0}),$e("invalid",t);break;case"textarea":O1(t,r),i=_g(t,r),$e("invalid",t);break;default:i=r}bg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?tb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Eu(t,l):typeof l=="number"&&Eu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Iu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&$e("scroll",t):l!=null&&yv(t,s,l,o))}switch(n){case"input":Yc(t),D1(t,r,!1);break;case"textarea":Yc(t),$1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ra(t,!!r.multiple,s,!1):r.defaultValue!=null&&ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Kt(e),null;case 6:if(t&&e.stateNode!=null)TT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=$s(Pu.current),$s(Nr.current),sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&id(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return Kt(e),null;case 13:if(Le(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Rn!==null&&e.mode&1&&!(e.flags&128))zb(),Ea(),e.flags|=98560,s=!1;else if(s=sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(O(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[wr]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Kt(e),s=!1}else ir!==null&&(sy(ir),ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?Et===0&&(Et=3):Zv())),e.updateQueue!==null&&(e.flags|=4),Kt(e),null);case 4:return Sa(),Xg(t,e),t===null&&xu(e.stateNode.containerInfo),Kt(e),null;case 10:return Mv(e.type._context),Kt(e),null;case 17:return In(e.type)&&ch(),Kt(e),null;case 19:if(Le(He),s=e.memoizedState,s===null)return Kt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Il(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yh(t),o!==null){for(e.flags|=128,Il(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(He,He.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Ta&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304)}else{if(!r)if(t=yh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Be)return Kt(e),null}else 2*at()-s.renderingStartTime>Ta&&n!==1073741824&&(e.flags|=128,r=!0,Il(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=He.current,De(He,r?n&1|2:n&1),e):(Kt(e),null);case 22:case 23:return Jv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kn&1073741824&&(Kt(e),e.subtreeFlags&6&&(e.flags|=8192)):Kt(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function k2(t,e){switch(Pv(e),e.tag){case 1:return In(e.type)&&ch(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),Le(wn),Le(Zt),Bv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vv(e),null;case 13:if(Le(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(He),null;case 4:return Sa(),null;case 10:return Mv(e.type._context),null;case 22:case 23:return Jv(),null;case 24:return null;default:return null}}var ld=!1,Yt=!1,C2=typeof WeakSet=="function"?WeakSet:Set,H=null;function Xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function Jg(t,e,n){try{n()}catch(r){et(t,e,r)}}var bI=!1;function x2(t,e){if($g=oh,t=Rb(),Av(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mg={focusedElem:t,selectionRange:n},oh=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,_=m.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:nr(e.type,v),_);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){et(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return m=bI,bI=!1,m}function ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jg(e,n,s)}i=i.next}while(i!==r)}}function vf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kT(t){var e=t.alternate;e!==null&&(t.alternate=null,kT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[Au],delete e[Ug],delete e[c2],delete e[d2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CT(t){return t.tag===5||t.tag===3||t.tag===4}function TI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ey(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uh));else if(r!==4&&(t=t.child,t!==null))for(ey(t,e,n),t=t.sibling;t!==null;)ey(t,e,n),t=t.sibling}function ty(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ty(t,e,n),t=t.sibling;t!==null;)ty(t,e,n),t=t.sibling}var Ot=null,rr=!1;function wi(t,e,n){for(n=n.child;n!==null;)xT(t,e,n),n=n.sibling}function xT(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(cf,n)}catch{}switch(n.tag){case 5:Yt||Xo(n,e);case 6:var r=Ot,i=rr;Ot=null,wi(t,e,n),Ot=r,rr=i,Ot!==null&&(rr?(t=Ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(rr?(t=Ot,n=n.stateNode,t.nodeType===8?Em(t.parentNode,n):t.nodeType===1&&Em(t,n),Tu(t)):Em(Ot,n.stateNode));break;case 4:r=Ot,i=rr,Ot=n.stateNode.containerInfo,rr=!0,wi(t,e,n),Ot=r,rr=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jg(n,e,o),i=i.next}while(i!==r)}wi(t,e,n);break;case 1:if(!Yt&&(Xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(Yt=(r=Yt)||n.memoizedState!==null,wi(t,e,n),Yt=r):wi(t,e,n);break;default:wi(t,e,n)}}function kI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C2),e.forEach(function(r){var i=L2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ot=a.stateNode,rr=!1;break e;case 3:Ot=a.stateNode.containerInfo,rr=!0;break e;case 4:Ot=a.stateNode.containerInfo,rr=!0;break e}a=a.return}if(Ot===null)throw Error(O(160));xT(s,o,i),Ot=null,rr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RT(e,t),e=e.sibling}function RT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),mr(t),r&4){try{ru(3,t,t.return),vf(3,t)}catch(v){et(t,t.return,v)}try{ru(5,t,t.return)}catch(v){et(t,t.return,v)}}break;case 1:tr(e,t),mr(t),r&512&&n!==null&&Xo(n,n.return);break;case 5:if(tr(e,t),mr(t),r&512&&n!==null&&Xo(n,n.return),t.flags&32){var i=t.stateNode;try{Eu(i,"")}catch(v){et(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&YS(i,s),Tg(a,o);var u=Tg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?tb(i,d):c==="dangerouslySetInnerHTML"?ZS(i,d):c==="children"?Eu(i,d):yv(i,c,d,u)}switch(a){case"input":Ig(i,s);break;case"textarea":XS(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ra(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ra(i,!!s.multiple,s.defaultValue,!0):ra(i,!!s.multiple,s.multiple?[]:"",!1))}i[Au]=s}catch(v){et(t,t.return,v)}}break;case 6:if(tr(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){et(t,t.return,v)}}break;case 3:if(tr(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tu(e.containerInfo)}catch(v){et(t,t.return,v)}break;case 4:tr(e,t),mr(t);break;case 13:tr(e,t),mr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Yv=at())),r&4&&kI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Yt=(u=Yt)||c,tr(e,t),Yt=u):tr(e,t),mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(H=t,c=t.child;c!==null;){for(d=H=c;H!==null;){switch(h=H,f=h.child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:Xo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){et(r,n,v)}}break;case 5:Xo(h,h.return);break;case 22:if(h.memoizedState!==null){xI(d);continue}}f!==null?(f.return=h,H=f):xI(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=eb("display",o))}catch(v){et(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){et(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tr(e,t),mr(t),r&4&&kI(t);break;case 21:break;default:tr(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CT(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Eu(i,""),r.flags&=-33);var s=TI(t);ty(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=TI(t);ey(t,a,o);break;default:throw Error(O(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R2(t,e,n){H=t,AT(t)}function AT(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var i=H,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ld;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=ld;var u=Yt;if(ld=o,(Yt=l)&&!u)for(H=i;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?RI(i):l!==null?(l.return=o,H=l):RI(i);for(;s!==null;)H=s,AT(s),s=s.sibling;H=i,ld=a,Yt=u}CI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,H=s):CI(t)}}function CI(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||vf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Tu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Yt||e.flags&512&&Zg(e)}catch(h){et(e,e.return,h)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function xI(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function RI(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vf(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){et(e,i,l)}}var s=e.return;try{Zg(e)}catch(l){et(e,s,l)}break;case 5:var o=e.return;try{Zg(e)}catch(l){et(e,o,l)}}}catch(l){et(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var A2=Math.ceil,Ih=li.ReactCurrentDispatcher,Gv=li.ReactCurrentOwner,Kn=li.ReactCurrentBatchConfig,Ie=0,Ct=null,vt=null,Ut=0,kn=0,Jo=as(0),Et=0,Mu=null,Js=0,wf=0,Qv=0,iu=null,pn=null,Yv=0,Ta=1/0,zr=null,Eh=!1,ny=null,Vi=null,ud=!1,Pi=null,_h=0,su=0,ry=null,Ld=-1,Fd=0;function on(){return Ie&6?at():Ld!==-1?Ld:Ld=at()}function Bi(t){return t.mode&1?Ie&2&&Ut!==0?Ut&-Ut:f2.transition!==null?(Fd===0&&(Fd=fb()),Fd):(t=ke,t!==0||(t=window.event,t=t===void 0?16:Ib(t.type)),t):1}function lr(t,e,n,r){if(50<su)throw su=0,ry=null,Error(O(185));pc(t,n,r),(!(Ie&2)||t!==Ct)&&(t===Ct&&(!(Ie&2)&&(wf|=n),Et===4&&xi(t,Ut)),En(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Ta=at()+500,mf&&ls()))}function En(t,e){var n=t.callbackNode;fP(t,e);var r=sh(t,t===Ct?Ut:0);if(r===0)n!==null&&F1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F1(n),e===1)t.tag===0?h2(AI.bind(null,t)):Ub(AI.bind(null,t)),l2(function(){!(Ie&6)&&ls()}),n=null;else{switch(pb(r)){case 1:n=_v;break;case 4:n=db;break;case 16:n=ih;break;case 536870912:n=hb;break;default:n=ih}n=FT(n,NT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NT(t,e){if(Ld=-1,Fd=0,Ie&6)throw Error(O(327));var n=t.callbackNode;if(la()&&t.callbackNode!==n)return null;var r=sh(t,t===Ct?Ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sh(t,r);else{e=r;var i=Ie;Ie|=2;var s=DT();(Ct!==t||Ut!==e)&&(zr=null,Ta=at()+500,zs(t,e));do try{D2();break}catch(a){PT(t,a)}while(1);$v(),Ih.current=s,Ie=i,vt!==null?e=0:(Ct=null,Ut=0,e=Et)}if(e!==0){if(e===2&&(i=Ag(t),i!==0&&(r=i,e=iy(t,i))),e===1)throw n=Mu,zs(t,0),xi(t,r),En(t,at()),n;if(e===6)xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!N2(i)&&(e=Sh(t,r),e===2&&(s=Ag(t),s!==0&&(r=s,e=iy(t,s))),e===1))throw n=Mu,zs(t,0),xi(t,r),En(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:_s(t,pn,zr);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=Yv+500-at(),10<e)){if(sh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fg(_s.bind(null,t,pn,zr),e);break}_s(t,pn,zr);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ar(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A2(r/1960))-r,10<r){t.timeoutHandle=Fg(_s.bind(null,t,pn,zr),r);break}_s(t,pn,zr);break;case 5:_s(t,pn,zr);break;default:throw Error(O(329))}}}return En(t,at()),t.callbackNode===n?NT.bind(null,t):null}function iy(t,e){var n=iu;return t.current.memoizedState.isDehydrated&&(zs(t,e).flags|=256),t=Sh(t,e),t!==2&&(e=pn,pn=n,e!==null&&sy(e)),t}function sy(t){pn===null?pn=t:pn.push.apply(pn,t)}function N2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~Qv,e&=~wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function AI(t){if(Ie&6)throw Error(O(327));la();var e=sh(t,0);if(!(e&1))return En(t,at()),null;var n=Sh(t,e);if(t.tag!==0&&n===2){var r=Ag(t);r!==0&&(e=r,n=iy(t,r))}if(n===1)throw n=Mu,zs(t,0),xi(t,e),En(t,at()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,pn,zr),En(t,at()),null}function Xv(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Ta=at()+500,mf&&ls())}}function Zs(t){Pi!==null&&Pi.tag===0&&!(Ie&6)&&la();var e=Ie;Ie|=1;var n=Kn.transition,r=ke;try{if(Kn.transition=null,ke=1,t)return t()}finally{ke=r,Kn.transition=n,Ie=e,!(Ie&6)&&ls()}}function Jv(){kn=Jo.current,Le(Jo)}function zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a2(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Pv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ch();break;case 3:Sa(),Le(wn),Le(Zt),Bv();break;case 5:Vv(r);break;case 4:Sa();break;case 13:Le(He);break;case 19:Le(He);break;case 10:Mv(r.type._context);break;case 22:case 23:Jv()}n=n.return}if(Ct=t,vt=t=zi(t.current,null),Ut=kn=e,Et=0,Mu=null,Qv=wf=Js=0,pn=iu=null,Os!==null){for(e=0;e<Os.length;e++)if(n=Os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return t}function PT(t,e){do{var n=vt;try{if($v(),Od.current=wh,vh){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vh=!1}if(Xs=0,Tt=It=Ke=null,nu=!1,Du=0,Gv.current=null,n===null||n.return===null){Et=1,Mu=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=yI(o);if(f!==null){f.flags&=-257,vI(f,o,a,s,e),f.mode&1&&gI(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){gI(s,u,e),Zv();break e}l=Error(O(426))}}else if(Be&&a.mode&1){var _=yI(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),vI(_,o,a,s,e),Dv(ba(l,a));break e}}s=l=ba(l,a),Et!==4&&(Et=2),iu===null?iu=[s]:iu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=mT(s,l,e);uI(s,y);break e;case 1:a=l;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vi===null||!Vi.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=gT(s,a,e);uI(s,w);break e}}s=s.return}while(s!==null)}$T(n)}catch(E){e=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(1)}function DT(){var t=Ih.current;return Ih.current=wh,t===null?wh:t}function Zv(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||!(Js&268435455)&&!(wf&268435455)||xi(Ct,Ut)}function Sh(t,e){var n=Ie;Ie|=2;var r=DT();(Ct!==t||Ut!==e)&&(zr=null,zs(t,e));do try{P2();break}catch(i){PT(t,i)}while(1);if($v(),Ie=n,Ih.current=r,vt!==null)throw Error(O(261));return Ct=null,Ut=0,Et}function P2(){for(;vt!==null;)OT(vt)}function D2(){for(;vt!==null&&!iP();)OT(vt)}function OT(t){var e=LT(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?$T(t):vt=e,Gv.current=null}function $T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k2(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,vt=null;return}}else if(n=T2(n,e,kn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Et===0&&(Et=5)}function _s(t,e,n){var r=ke,i=Kn.transition;try{Kn.transition=null,ke=1,O2(t,e,n,r)}finally{Kn.transition=i,ke=r}return null}function O2(t,e,n,r){do la();while(Pi!==null);if(Ie&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pP(t,s),t===Ct&&(vt=Ct=null,Ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,FT(ih,function(){return la(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kn.transition,Kn.transition=null;var o=ke;ke=1;var a=Ie;Ie|=4,Gv.current=null,x2(t,n),RT(n,t),e2(Mg),oh=!!$g,Mg=$g=null,t.current=n,R2(n),sP(),Ie=a,ke=o,Kn.transition=s}else t.current=n;if(ud&&(ud=!1,Pi=t,_h=i),s=t.pendingLanes,s===0&&(Vi=null),lP(n.stateNode),En(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Eh)throw Eh=!1,t=ny,ny=null,t;return _h&1&&t.tag!==0&&la(),s=t.pendingLanes,s&1?t===ry?su++:(su=0,ry=t):su=0,ls(),null}function la(){if(Pi!==null){var t=pb(_h),e=Kn.transition,n=ke;try{if(Kn.transition=null,ke=16>t?16:t,Pi===null)var r=!1;else{if(t=Pi,Pi=null,_h=0,Ie&6)throw Error(O(331));var i=Ie;for(Ie|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(H=u;H!==null;){var c=H;switch(c.tag){case 0:case 11:case 15:ru(8,c,s)}var d=c.child;if(d!==null)d.return=c,H=d;else for(;H!==null;){c=H;var h=c.sibling,f=c.return;if(kT(c),c===u){H=null;break}if(h!==null){h.return=f,H=h;break}H=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ru(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,H=y;break e}H=s.return}}var p=t.current;for(H=p;H!==null;){o=H;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,H=g;else e:for(o=p;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vf(9,a)}}catch(E){et(a,a.return,E)}if(a===o){H=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,H=w;break e}H=a.return}}if(Ie=i,ls(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(cf,t)}catch{}r=!0}return r}finally{ke=n,Kn.transition=e}}return!1}function NI(t,e,n){e=ba(n,e),e=mT(t,e,1),t=Ui(t,e,1),e=on(),t!==null&&(pc(t,1,e),En(t,e))}function et(t,e,n){if(t.tag===3)NI(t,t,n);else for(;e!==null;){if(e.tag===3){NI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=ba(n,t),t=gT(e,t,1),e=Ui(e,t,1),t=on(),e!==null&&(pc(e,1,t),En(e,t));break}}e=e.return}}function $2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Ut&n)===n&&(Et===4||Et===3&&(Ut&130023424)===Ut&&500>at()-Yv?zs(t,0):Qv|=n),En(t,e)}function MT(t,e){e===0&&(t.mode&1?(e=Zc,Zc<<=1,!(Zc&130023424)&&(Zc=4194304)):e=1);var n=on();t=ni(t,e),t!==null&&(pc(t,e,n),En(t,n))}function M2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MT(t,n)}function L2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),MT(t,n)}var LT;LT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,b2(t,e,n);mn=!!(t.flags&131072)}else mn=!1,Be&&e.flags&1048576&&Vb(e,fh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var i=Ia(e,Zt.current);aa(e,n),i=jv(null,e,r,t,i,n);var s=Wv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(s=!0,dh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fv(e),i.updater=gf,e.stateNode=i,i._reactInternals=e,qg(e,r,t,n),e=Gg(null,e,r,!0,s,n)):(e.tag=0,Be&&s&&Nv(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=U2(r),t=nr(r,t),i){case 0:e=Kg(null,e,r,t,n);break e;case 1:e=EI(null,e,r,t,n);break e;case 11:e=wI(null,e,r,t,n);break e;case 14:e=II(null,e,r,nr(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Kg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),EI(t,e,r,i,n);case 3:e:{if(IT(e),t===null)throw Error(O(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Wb(t,e),gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ba(Error(O(423)),e),e=_I(t,e,r,n,i);break e}else if(r!==i){i=ba(Error(O(424)),e),e=_I(t,e,r,n,i);break e}else for(Rn=Fi(e.stateNode.containerInfo.firstChild),Nn=e,Be=!0,ir=null,n=Gb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ea(),r===i){e=ri(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return Qb(e),t===null&&zg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lg(r,i)?o=null:s!==null&&Lg(r,s)&&(e.flags|=32),wT(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&zg(e),null;case 13:return ET(t,e,n);case 4:return Uv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),wI(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(ph,r._currentValue),r._currentValue=o,s!==null)if(ur(s.value,o)){if(s.children===i.children&&!wn.current){e=ri(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Xr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,aa(e,n),i=Qn(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=nr(r,e.pendingProps),i=nr(r.type,i),II(t,e,r,i,n);case 15:return yT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nr(r,i),Md(t,e),e.tag=1,In(r)?(t=!0,dh(e)):t=!1,aa(e,n),Hb(e,r,i),qg(e,r,i,n),Gg(null,e,r,!0,t,n);case 19:return _T(t,e,n);case 22:return vT(t,e,n)}throw Error(O(156,e.tag))};function FT(t,e){return cb(t,e)}function F2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(t,e,n,r){return new F2(t,e,n,r)}function e0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U2(t){if(typeof t=="function")return e0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wv)return 11;if(t===Iv)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ud(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")e0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zo:return js(n.children,i,s,e);case vv:o=8,i|=8;break;case mg:return t=qn(12,n,e,i|2),t.elementType=mg,t.lanes=s,t;case gg:return t=qn(13,n,e,i),t.elementType=gg,t.lanes=s,t;case yg:return t=qn(19,n,e,i),t.elementType=yg,t.lanes=s,t;case KS:return If(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qS:o=10;break e;case HS:o=9;break e;case wv:o=11;break e;case Iv:o=14;break e;case Ti:o=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function js(t,e,n,r){return t=qn(7,t,r,e),t.lanes=n,t}function If(t,e,n,r){return t=qn(22,t,r,e),t.elementType=KS,t.lanes=n,t.stateNode={isHidden:!1},t}function Rm(t,e,n){return t=qn(6,t,null,e),t.lanes=n,t}function Am(t,e,n){return e=qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function t0(t,e,n,r,i,s,o,a,l){return t=new V2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fv(s),t}function B2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UT(t){if(!t)return qi;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(In(n))return Fb(t,n,e)}return e}function VT(t,e,n,r,i,s,o,a,l){return t=t0(n,r,!0,t,i,s,o,a,l),t.context=UT(null),n=t.current,r=on(),i=Bi(n),s=Xr(r,i),s.callback=e??null,Ui(n,s,i),t.current.lanes=i,pc(t,i,r),En(t,r),t}function Ef(t,e,n,r){var i=e.current,s=on(),o=Bi(i);return n=UT(n),e.context===null?e.context=n:e.pendingContext=n,e=Xr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(i,e,o),t!==null&&(lr(t,i,o,s),Dd(t,i,o)),o}function bh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function n0(t,e){PI(t,e),(t=t.alternate)&&PI(t,e)}function z2(){return null}var BT=typeof reportError=="function"?reportError:function(t){console.error(t)};function r0(t){this._internalRoot=t}_f.prototype.render=r0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Ef(t,e,null,null)};_f.prototype.unmount=r0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zs(function(){Ef(null,t,null,null)}),e[ti]=null}};function _f(t){this._internalRoot=t}_f.prototype.unstable_scheduleHydration=function(t){if(t){var e=yb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ci.length&&e!==0&&e<Ci[n].priority;n++);Ci.splice(n,0,t),n===0&&wb(t)}};function i0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DI(){}function j2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bh(o);s.call(u)}}var o=VT(e,r,t,0,null,!1,!1,"",DI);return t._reactRootContainer=o,t[ti]=o.current,xu(t.nodeType===8?t.parentNode:t),Zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=bh(l);a.call(u)}}var l=t0(t,0,!1,null,null,!1,!1,"",DI);return t._reactRootContainer=l,t[ti]=l.current,xu(t.nodeType===8?t.parentNode:t),Zs(function(){Ef(e,l,n,r)}),l}function bf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=bh(o);a.call(l)}}Ef(e,o,t,i)}else o=j2(n,e,t,i,r);return bh(o)}mb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bl(e.pendingLanes);n!==0&&(Sv(e,n|1),En(e,at()),!(Ie&6)&&(Ta=at()+500,ls()))}break;case 13:Zs(function(){var r=ni(t,1);if(r!==null){var i=on();lr(r,t,1,i)}}),n0(t,1)}};bv=function(t){if(t.tag===13){var e=ni(t,134217728);if(e!==null){var n=on();lr(e,t,134217728,n)}n0(t,134217728)}};gb=function(t){if(t.tag===13){var e=Bi(t),n=ni(t,e);if(n!==null){var r=on();lr(n,t,e,r)}n0(t,e)}};yb=function(){return ke};vb=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Cg=function(t,e,n){switch(e){case"input":if(Ig(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pf(r);if(!i)throw Error(O(90));QS(r),Ig(r,i)}}}break;case"textarea":XS(t,n);break;case"select":e=n.value,e!=null&&ra(t,!!n.multiple,e,!1)}};ib=Xv;sb=Zs;var W2={usingClientEntryPoint:!1,Events:[gc,Ho,pf,nb,rb,Xv]},El={findFiberByHostInstance:Ds,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},q2={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lb(t),t===null?null:t.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||z2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{cf=cd.inject(q2),Ar=cd}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W2;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!i0(e))throw Error(O(200));return B2(t,e,null,n)};Ln.createRoot=function(t,e){if(!i0(t))throw Error(O(299));var n=!1,r="",i=BT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=t0(t,1,!1,null,null,n,!1,r,i),t[ti]=e.current,xu(t.nodeType===8?t.parentNode:t),new r0(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=lb(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Zs(t)};Ln.hydrate=function(t,e,n){if(!Sf(e))throw Error(O(200));return bf(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!i0(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=BT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=VT(e,null,t,1,n??null,i,!1,s,o),t[ti]=e.current,xu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _f(e)};Ln.render=function(t,e,n){if(!Sf(e))throw Error(O(200));return bf(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!Sf(t))throw Error(O(40));return t._reactRootContainer?(Zs(function(){bf(null,null,t,!1,function(){t._reactRootContainer=null,t[ti]=null})}),!0):!1};Ln.unstable_batchedUpdates=Xv;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sf(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return bf(t,e,n,!1,r)};Ln.version="18.2.0-next-9e3b772b8-20220608";function zT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zT)}catch(t){console.error(t)}}zT(),VS.exports=Ln;var Tf=VS.exports;const dd=RS(Tf);var OI=Tf;fg.createRoot=OI.createRoot,fg.hydrateRoot=OI.hydrateRoot;const H2={black:"#000",white:"#fff"},Lu=H2,K2={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Co=K2,G2={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Q2=G2,Y2={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},xo=Y2,X2={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ro=X2,J2={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ao=J2,Z2={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},No=Z2,eD={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},_l=eD,tD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},nD=tD;function Cs(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function jT(t){if(!Cs(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=jT(t[n])}),e}function Gn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Cs(t)&&Cs(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Cs(e[i])&&i in t&&Cs(t[i])?r[i]=Gn(t[i],e[i],n):n.clone?r[i]=Cs(e[i])?jT(e[i]):e[i]:r[i]=e[i])}),r}function Hi(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=Symbol.for("react.element"),o0=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),Rf=Symbol.for("react.provider"),Af=Symbol.for("react.context"),rD=Symbol.for("react.server_context"),Nf=Symbol.for("react.forward_ref"),Pf=Symbol.for("react.suspense"),Df=Symbol.for("react.suspense_list"),Of=Symbol.for("react.memo"),$f=Symbol.for("react.lazy"),iD=Symbol.for("react.offscreen"),WT;WT=Symbol.for("react.module.reference");function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case s0:switch(t=t.type,t){case kf:case xf:case Cf:case Pf:case Df:return t;default:switch(t=t&&t.$$typeof,t){case rD:case Af:case Nf:case $f:case Of:case Rf:return t;default:return e}}case o0:return e}}}Ae.ContextConsumer=Af;Ae.ContextProvider=Rf;Ae.Element=s0;Ae.ForwardRef=Nf;Ae.Fragment=kf;Ae.Lazy=$f;Ae.Memo=Of;Ae.Portal=o0;Ae.Profiler=xf;Ae.StrictMode=Cf;Ae.Suspense=Pf;Ae.SuspenseList=Df;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(t){return Jn(t)===Af};Ae.isContextProvider=function(t){return Jn(t)===Rf};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===s0};Ae.isForwardRef=function(t){return Jn(t)===Nf};Ae.isFragment=function(t){return Jn(t)===kf};Ae.isLazy=function(t){return Jn(t)===$f};Ae.isMemo=function(t){return Jn(t)===Of};Ae.isPortal=function(t){return Jn(t)===o0};Ae.isProfiler=function(t){return Jn(t)===xf};Ae.isStrictMode=function(t){return Jn(t)===Cf};Ae.isSuspense=function(t){return Jn(t)===Pf};Ae.isSuspenseList=function(t){return Jn(t)===Df};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kf||t===xf||t===Cf||t===Pf||t===Df||t===iD||typeof t=="object"&&t!==null&&(t.$$typeof===$f||t.$$typeof===Of||t.$$typeof===Rf||t.$$typeof===Af||t.$$typeof===Nf||t.$$typeof===WT||t.getModuleId!==void 0)};Ae.typeOf=Jn;function ge(t){if(typeof t!="string")throw new Error(Hi(7));return t.charAt(0).toUpperCase()+t.slice(1)}function $I(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function qT(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Nm(t,e){return I.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function Pn(t){return t&&t.ownerDocument||document}function eo(t){return Pn(t).defaultView||window}function oy(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const sD=typeof window<"u"?I.useLayoutEffect:I.useEffect,ka=sD;let MI=0;function oD(t){const[e,n]=I.useState(t),r=t||e;return I.useEffect(()=>{e==null&&(MI+=1,n(`mui-${MI}`))},[e]),r}const LI=hg["useId".toString()];function aD(t){if(LI!==void 0){const e=LI();return t??e}return oD(t)}function FI({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=I.useRef(t!==void 0),[s,o]=I.useState(e),a=i?t:s,l=I.useCallback(u=>{i||o(u)},[]);return[a,l]}function Zo(t){const e=I.useRef(t);return ka(()=>{e.current=t}),I.useCallback((...n)=>(0,e.current)(...n),[])}function _n(...t){return I.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{oy(n,e)})},t)}let Mf=!0,ay=!1,UI;const lD={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function uD(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&lD[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function cD(t){t.metaKey||t.altKey||t.ctrlKey||(Mf=!0)}function Pm(){Mf=!1}function dD(){this.visibilityState==="hidden"&&ay&&(Mf=!0)}function hD(t){t.addEventListener("keydown",cD,!0),t.addEventListener("mousedown",Pm,!0),t.addEventListener("pointerdown",Pm,!0),t.addEventListener("touchstart",Pm,!0),t.addEventListener("visibilitychange",dD,!0)}function fD(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Mf||uD(e)}function pD(){const t=I.useCallback(i=>{i!=null&&hD(i.ownerDocument)},[]),e=I.useRef(!1);function n(){return e.current?(ay=!0,window.clearTimeout(UI),UI=window.setTimeout(()=>{ay=!1},100),e.current=!1,!0):!1}function r(i){return fD(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function HT(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function a0(t,e){const n={...e};return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]={...t[r],...n[r]};else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]={...s},Object.keys(i).forEach(o=>{n[r][o]=a0(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function it(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const VI=t=>t,mD=()=>{let t=VI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=VI}}},gD=mD(),yD=gD,vD={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Ye(t,e,n="Mui"){const r=vD[e];return r?`${n}-${r}`:`${yD.generate(t)}-${e}`}function st(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Ye(t,i,n)}),r}const Ca="$$material";function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(this,arguments)}function se(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var wD=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ID=KT(function(t){return wD.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function ED(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function _D(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var SD=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_D(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ED(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Qt="-ms-",Th="-moz-",_e="-webkit-",GT="comm",l0="rule",u0="decl",bD="@import",QT="@keyframes",TD="@layer",kD=Math.abs,Lf=String.fromCharCode,CD=Object.assign;function xD(t,e){return Mt(t,0)^45?(((e<<2^Mt(t,0))<<2^Mt(t,1))<<2^Mt(t,2))<<2^Mt(t,3):0}function YT(t){return t.trim()}function RD(t,e){return(t=e.exec(t))?t[0]:t}function Se(t,e,n){return t.replace(e,n)}function ly(t,e){return t.indexOf(e)}function Mt(t,e){return t.charCodeAt(e)|0}function Fu(t,e,n){return t.slice(e,n)}function yr(t){return t.length}function c0(t){return t.length}function hd(t,e){return e.push(t),t}function AD(t,e){return t.map(e).join("")}var Ff=1,xa=1,XT=0,Sn=0,yt=0,Ga="";function Uf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Ff,column:xa,length:o,return:""}}function Sl(t,e){return CD(Uf("",null,null,"",null,null,0),t,{length:-t.length},e)}function ND(){return yt}function PD(){return yt=Sn>0?Mt(Ga,--Sn):0,xa--,yt===10&&(xa=1,Ff--),yt}function Dn(){return yt=Sn<XT?Mt(Ga,Sn++):0,xa++,yt===10&&(xa=1,Ff++),yt}function Pr(){return Mt(Ga,Sn)}function Vd(){return Sn}function vc(t,e){return Fu(Ga,t,e)}function Uu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JT(t){return Ff=xa=1,XT=yr(Ga=t),Sn=0,[]}function ZT(t){return Ga="",t}function Bd(t){return YT(vc(Sn-1,uy(t===91?t+2:t===40?t+1:t)))}function DD(t){for(;(yt=Pr())&&yt<33;)Dn();return Uu(t)>2||Uu(yt)>3?"":" "}function OD(t,e){for(;--e&&Dn()&&!(yt<48||yt>102||yt>57&&yt<65||yt>70&&yt<97););return vc(t,Vd()+(e<6&&Pr()==32&&Dn()==32))}function uy(t){for(;Dn();)switch(yt){case t:return Sn;case 34:case 39:t!==34&&t!==39&&uy(yt);break;case 40:t===41&&uy(t);break;case 92:Dn();break}return Sn}function $D(t,e){for(;Dn()&&t+yt!==47+10;)if(t+yt===42+42&&Pr()===47)break;return"/*"+vc(e,Sn-1)+"*"+Lf(t===47?t:Dn())}function MD(t){for(;!Uu(Pr());)Dn();return vc(t,Sn)}function LD(t){return ZT(zd("",null,null,null,[""],t=JT(t),0,[0],t))}function zd(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,m=0,v=1,_=1,y=1,p=0,g="",w=i,E=s,T=r,S=g;_;)switch(m=p,p=Dn()){case 40:if(m!=108&&Mt(S,d-1)==58){ly(S+=Se(Bd(p),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=Bd(p);break;case 9:case 10:case 13:case 32:S+=DD(m);break;case 92:S+=OD(Vd()-1,7);continue;case 47:switch(Pr()){case 42:case 47:hd(FD($D(Dn(),Vd()),e,n),l);break;default:S+="/"}break;case 123*v:a[u++]=yr(S)*y;case 125*v:case 59:case 0:switch(p){case 0:case 125:_=0;case 59+c:y==-1&&(S=Se(S,/\f/g,"")),f>0&&yr(S)-d&&hd(f>32?zI(S+";",r,n,d-1):zI(Se(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(hd(T=BI(S,e,n,u,c,i,a,g,w=[],E=[],d),s),p===123)if(c===0)zd(S,e,T,T,w,s,d,a,E);else switch(h===99&&Mt(S,3)===110?100:h){case 100:case 108:case 109:case 115:zd(t,T,T,r&&hd(BI(t,T,T,0,0,i,a,g,i,w=[],d),E),i,E,d,a,r?w:E);break;default:zd(S,T,T,T,[""],E,0,a,E)}}u=c=f=0,v=y=1,g=S="",d=o;break;case 58:d=1+yr(S),f=m;default:if(v<1){if(p==123)--v;else if(p==125&&v++==0&&PD()==125)continue}switch(S+=Lf(p),p*v){case 38:y=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(yr(S)-1)*y,y=1;break;case 64:Pr()===45&&(S+=Bd(Dn())),h=Pr(),c=d=yr(g=S+=MD(Vd())),p++;break;case 45:m===45&&yr(S)==2&&(v=0)}}return s}function BI(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=c0(h),m=0,v=0,_=0;m<r;++m)for(var y=0,p=Fu(t,d+1,d=kD(v=o[m])),g=t;y<f;++y)(g=YT(v>0?h[y]+" "+p:Se(p,/&\f/g,h[y])))&&(l[_++]=g);return Uf(t,e,n,i===0?l0:a,l,u,c)}function FD(t,e,n){return Uf(t,e,n,GT,Lf(ND()),Fu(t,2,-2),0)}function zI(t,e,n,r){return Uf(t,e,n,u0,Fu(t,0,r),Fu(t,r+1,-1),r)}function ua(t,e){for(var n="",r=c0(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function UD(t,e,n,r){switch(t.type){case TD:if(t.children.length)break;case bD:case u0:return t.return=t.return||t.value;case GT:return"";case QT:return t.return=t.value+"{"+ua(t.children,r)+"}";case l0:t.value=t.props.join(",")}return yr(n=ua(t.children,r))?t.return=t.value+"{"+n+"}":""}function VD(t){var e=c0(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function BD(t){return function(e){e.root||(e=e.return)&&t(e)}}var zD=function(e,n,r){for(var i=0,s=0;i=s,s=Pr(),i===38&&s===12&&(n[r]=1),!Uu(s);)Dn();return vc(e,Sn)},jD=function(e,n){var r=-1,i=44;do switch(Uu(i)){case 0:i===38&&Pr()===12&&(n[r]=1),e[r]+=zD(Sn-1,n,r);break;case 2:e[r]+=Bd(i);break;case 4:if(i===44){e[++r]=Pr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Lf(i)}while(i=Dn());return e},WD=function(e,n){return ZT(jD(JT(e),n))},jI=new WeakMap,qD=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!jI.get(r))&&!i){jI.set(e,!0);for(var s=[],o=WD(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},HD=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ek(t,e){switch(xD(t,e)){case 5103:return _e+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _e+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _e+t+Th+t+Qt+t+t;case 6828:case 4268:return _e+t+Qt+t+t;case 6165:return _e+t+Qt+"flex-"+t+t;case 5187:return _e+t+Se(t,/(\w+).+(:[^]+)/,_e+"box-$1$2"+Qt+"flex-$1$2")+t;case 5443:return _e+t+Qt+"flex-item-"+Se(t,/flex-|-self/,"")+t;case 4675:return _e+t+Qt+"flex-line-pack"+Se(t,/align-content|flex-|-self/,"")+t;case 5548:return _e+t+Qt+Se(t,"shrink","negative")+t;case 5292:return _e+t+Qt+Se(t,"basis","preferred-size")+t;case 6060:return _e+"box-"+Se(t,"-grow","")+_e+t+Qt+Se(t,"grow","positive")+t;case 4554:return _e+Se(t,/([^-])(transform)/g,"$1"+_e+"$2")+t;case 6187:return Se(Se(Se(t,/(zoom-|grab)/,_e+"$1"),/(image-set)/,_e+"$1"),t,"")+t;case 5495:case 3959:return Se(t,/(image-set\([^]*)/,_e+"$1$`$1");case 4968:return Se(Se(t,/(.+:)(flex-)?(.*)/,_e+"box-pack:$3"+Qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_e+t+t;case 4095:case 3583:case 4068:case 2532:return Se(t,/(.+)-inline(.+)/,_e+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yr(t)-1-e>6)switch(Mt(t,e+1)){case 109:if(Mt(t,e+4)!==45)break;case 102:return Se(t,/(.+:)(.+)-([^]+)/,"$1"+_e+"$2-$3$1"+Th+(Mt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ly(t,"stretch")?ek(Se(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mt(t,e+1)!==115)break;case 6444:switch(Mt(t,yr(t)-3-(~ly(t,"!important")&&10))){case 107:return Se(t,":",":"+_e)+t;case 101:return Se(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_e+(Mt(t,14)===45?"inline-":"")+"box$3$1"+_e+"$2$3$1"+Qt+"$2box$3")+t}break;case 5936:switch(Mt(t,e+11)){case 114:return _e+t+Qt+Se(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _e+t+Qt+Se(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _e+t+Qt+Se(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _e+t+Qt+t+t}return t}var KD=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case u0:e.return=ek(e.value,e.length);break;case QT:return ua([Sl(e,{value:Se(e.value,"@","@"+_e)})],i);case l0:if(e.length)return AD(e.props,function(s){switch(RD(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ua([Sl(e,{props:[Se(s,/:(read-\w+)/,":"+Th+"$1")]})],i);case"::placeholder":return ua([Sl(e,{props:[Se(s,/:(plac\w+)/,":"+_e+"input-$1")]}),Sl(e,{props:[Se(s,/:(plac\w+)/,":"+Th+"$1")]}),Sl(e,{props:[Se(s,/:(plac\w+)/,Qt+"input-$1")]})],i)}return""})}},GD=[KD],QD=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||GD,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),y=1;y<_.length;y++)s[_[y]]=!0;a.push(v)});var l,u=[qD,HD];{var c,d=[UD,BD(function(v){c.insert(v)})],h=VD(u.concat(i,d)),f=function(_){return ua(LD(_),h)};l=function(_,y,p,g){c=p,f(_?_+"{"+y.styles+"}":y.styles),g&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new SD({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},tk={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At=typeof Symbol=="function"&&Symbol.for,d0=At?Symbol.for("react.element"):60103,h0=At?Symbol.for("react.portal"):60106,Vf=At?Symbol.for("react.fragment"):60107,Bf=At?Symbol.for("react.strict_mode"):60108,zf=At?Symbol.for("react.profiler"):60114,jf=At?Symbol.for("react.provider"):60109,Wf=At?Symbol.for("react.context"):60110,f0=At?Symbol.for("react.async_mode"):60111,qf=At?Symbol.for("react.concurrent_mode"):60111,Hf=At?Symbol.for("react.forward_ref"):60112,Kf=At?Symbol.for("react.suspense"):60113,YD=At?Symbol.for("react.suspense_list"):60120,Gf=At?Symbol.for("react.memo"):60115,Qf=At?Symbol.for("react.lazy"):60116,XD=At?Symbol.for("react.block"):60121,JD=At?Symbol.for("react.fundamental"):60117,ZD=At?Symbol.for("react.responder"):60118,eO=At?Symbol.for("react.scope"):60119;function Un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case d0:switch(t=t.type,t){case f0:case qf:case Vf:case zf:case Bf:case Kf:return t;default:switch(t=t&&t.$$typeof,t){case Wf:case Hf:case Qf:case Gf:case jf:return t;default:return e}}case h0:return e}}}function nk(t){return Un(t)===qf}xe.AsyncMode=f0;xe.ConcurrentMode=qf;xe.ContextConsumer=Wf;xe.ContextProvider=jf;xe.Element=d0;xe.ForwardRef=Hf;xe.Fragment=Vf;xe.Lazy=Qf;xe.Memo=Gf;xe.Portal=h0;xe.Profiler=zf;xe.StrictMode=Bf;xe.Suspense=Kf;xe.isAsyncMode=function(t){return nk(t)||Un(t)===f0};xe.isConcurrentMode=nk;xe.isContextConsumer=function(t){return Un(t)===Wf};xe.isContextProvider=function(t){return Un(t)===jf};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===d0};xe.isForwardRef=function(t){return Un(t)===Hf};xe.isFragment=function(t){return Un(t)===Vf};xe.isLazy=function(t){return Un(t)===Qf};xe.isMemo=function(t){return Un(t)===Gf};xe.isPortal=function(t){return Un(t)===h0};xe.isProfiler=function(t){return Un(t)===zf};xe.isStrictMode=function(t){return Un(t)===Bf};xe.isSuspense=function(t){return Un(t)===Kf};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Vf||t===qf||t===zf||t===Bf||t===Kf||t===YD||typeof t=="object"&&t!==null&&(t.$$typeof===Qf||t.$$typeof===Gf||t.$$typeof===jf||t.$$typeof===Wf||t.$$typeof===Hf||t.$$typeof===JD||t.$$typeof===ZD||t.$$typeof===eO||t.$$typeof===XD)};xe.typeOf=Un;tk.exports=xe;var tO=tk.exports,rk=tO,nO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ik={};ik[rk.ForwardRef]=nO;ik[rk.Memo]=rO;var iO=!0;function sO(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var sk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||iO===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ok=function(e,n,r){sk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function oO(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var aO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lO=/[A-Z]|^ms/g,uO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ak=function(e){return e.charCodeAt(1)===45},WI=function(e){return e!=null&&typeof e!="boolean"},Dm=KT(function(t){return ak(t)?t:t.replace(lO,"-$&").toLowerCase()}),qI=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(uO,function(r,i,s){return vr={name:i,styles:s,next:vr},i})}return aO[e]!==1&&!ak(e)&&typeof n=="number"&&n!==0?n+"px":n};function Vu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return vr={name:n.name,styles:n.styles,next:vr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)vr={name:r.name,styles:r.styles,next:vr},r=r.next;var i=n.styles+";";return i}return cO(t,e,n)}case"function":{if(t!==void 0){var s=vr,o=n(t);return vr=s,Vu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function cO(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Vu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":WI(o)&&(r+=Dm(s)+":"+qI(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)WI(o[a])&&(r+=Dm(s)+":"+qI(s,o[a])+";");else{var l=Vu(t,e,o);switch(s){case"animation":case"animationName":{r+=Dm(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var HI=/label:\s*([^\s;\n{]+)\s*(;|$)/g,vr,p0=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";vr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Vu(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Vu(r,n,e[a]),i&&(s+=o[a]);HI.lastIndex=0;for(var l="",u;(u=HI.exec(s))!==null;)l+="-"+u[1];var c=oO(s)+l;return{name:c,styles:s,next:vr}},dO=function(e){return e()},lk=hg["useInsertionEffect"]?hg["useInsertionEffect"]:!1,hO=lk||dO,KI=lk||I.useLayoutEffect,uk=I.createContext(typeof HTMLElement<"u"?QD({key:"css"}):null);uk.Provider;var ck=function(e){return I.forwardRef(function(n,r){var i=I.useContext(uk);return e(n,i,r)})},Yf=I.createContext({}),fO=ck(function(t,e){var n=t.styles,r=p0([n],void 0,I.useContext(Yf)),i=I.useRef();return KI(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),KI(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&ok(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function pO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return p0(e)}var m0=function(){var e=pO.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},mO=ID,gO=function(e){return e!=="theme"},GI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?mO:gO},QI=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},yO=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return sk(n,r,i),hO(function(){return ok(n,r,i)}),null},vO=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=QI(e,n,r),l=a||GI(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var m=ck(function(v,_,y){var p=u&&v.as||i,g="",w=[],E=v;if(v.theme==null){E={};for(var T in v)E[T]=v[T];E.theme=I.useContext(Yf)}typeof v.className=="string"?g=sO(_.registered,w,v.className):v.className!=null&&(g=v.className+" ");var S=p0(d.concat(w),_.registered,E);g+=_.key+"-"+S.name,o!==void 0&&(g+=" "+o);var x=u&&a===void 0?GI(p):l,L={};for(var R in v)u&&R==="as"||x(R)&&(L[R]=v[R]);return L.className=g,L.ref=y,I.createElement(I.Fragment,null,I.createElement(yO,{cache:_,serialized:S,isStringTag:typeof p=="string"}),I.createElement(p,L))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(v,_){return t(v,b({},n,_,{shouldForwardProp:QI(m,_,!0)})).apply(void 0,d)},m}},wO=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],cy=vO.bind();wO.forEach(function(t){cy[t]=cy(t)});function IO(t){return t==null||Object.keys(t).length===0}function EO(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(IO(i)?n:i):e;return P.jsx(fO,{styles:r})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function _O(t,e){return cy(t,e)}const SO=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},bO=["values","unit","step"],TO=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>b({},n,{[r.key]:r.val}),{})};function kO(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=se(t,bO),s=TO(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const m=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return b({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const CO={borderRadius:4},xO=CO;function ou(t,e){return e?Gn(t,e,{clone:!1}):t}const g0={xs:0,sm:600,md:900,lg:1200,xl:1536},YI={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${g0[t]}px)`};function ii(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||YI;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||YI;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||g0).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function RO(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function AO(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Xf(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function kh(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Xf(t,n)||r,e&&(i=e(i,r,t)),i}function be(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Xf(l,r)||{};return ii(o,a,d=>{let h=kh(u,i,d);return d===h&&typeof d=="string"&&(h=kh(u,i,`${e}${d==="default"?"":ge(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function NO(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const PO={m:"margin",p:"padding"},DO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},OO=NO(t=>{if(t.length>2)if(XI[t])t=XI[t];else return[t];const[e,n]=t.split(""),r=PO[e],i=DO[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),y0=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],v0=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...y0,...v0];function wc(t,e,n,r){var i;const s=(i=Xf(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function dk(t){return wc(t,"spacing",8)}function Ic(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function $O(t,e){return n=>t.reduce((r,i)=>(r[i]=Ic(e,n),r),{})}function MO(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=OO(n),s=$O(i,r),o=t[n];return ii(t,o,s)}function hk(t,e){const n=dk(t.theme);return Object.keys(t).map(r=>MO(t,e,r,n)).reduce(ou,{})}function Je(t){return hk(t,y0)}Je.propTypes={};Je.filterProps=y0;function Ze(t){return hk(t,v0)}Ze.propTypes={};Ze.filterProps=v0;function LO(t=8){if(t.mui)return t;const e=dk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Jf(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?ou(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ir(t){return typeof t!="number"?t:`${t}px solid`}const FO=be({prop:"border",themeKey:"borders",transform:Ir}),UO=be({prop:"borderTop",themeKey:"borders",transform:Ir}),VO=be({prop:"borderRight",themeKey:"borders",transform:Ir}),BO=be({prop:"borderBottom",themeKey:"borders",transform:Ir}),zO=be({prop:"borderLeft",themeKey:"borders",transform:Ir}),jO=be({prop:"borderColor",themeKey:"palette"}),WO=be({prop:"borderTopColor",themeKey:"palette"}),qO=be({prop:"borderRightColor",themeKey:"palette"}),HO=be({prop:"borderBottomColor",themeKey:"palette"}),KO=be({prop:"borderLeftColor",themeKey:"palette"}),Zf=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=wc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Ic(e,r)});return ii(t,t.borderRadius,n)}return null};Zf.propTypes={};Zf.filterProps=["borderRadius"];Jf(FO,UO,VO,BO,zO,jO,WO,qO,HO,KO,Zf);const ep=t=>{if(t.gap!==void 0&&t.gap!==null){const e=wc(t.theme,"spacing",8),n=r=>({gap:Ic(e,r)});return ii(t,t.gap,n)}return null};ep.propTypes={};ep.filterProps=["gap"];const tp=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=wc(t.theme,"spacing",8),n=r=>({columnGap:Ic(e,r)});return ii(t,t.columnGap,n)}return null};tp.propTypes={};tp.filterProps=["columnGap"];const np=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=wc(t.theme,"spacing",8),n=r=>({rowGap:Ic(e,r)});return ii(t,t.rowGap,n)}return null};np.propTypes={};np.filterProps=["rowGap"];const GO=be({prop:"gridColumn"}),QO=be({prop:"gridRow"}),YO=be({prop:"gridAutoFlow"}),XO=be({prop:"gridAutoColumns"}),JO=be({prop:"gridAutoRows"}),ZO=be({prop:"gridTemplateColumns"}),e$=be({prop:"gridTemplateRows"}),t$=be({prop:"gridTemplateAreas"}),n$=be({prop:"gridArea"});Jf(ep,tp,np,GO,QO,YO,XO,JO,ZO,e$,t$,n$);function ca(t,e){return e==="grey"?e:t}const r$=be({prop:"color",themeKey:"palette",transform:ca}),i$=be({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ca}),s$=be({prop:"backgroundColor",themeKey:"palette",transform:ca});Jf(r$,i$,s$);function xn(t){return t<=1&&t!==0?`${t*100}%`:t}const o$=be({prop:"width",transform:xn}),w0=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||g0[n]||xn(n)}};return ii(t,t.maxWidth,e)}return null};w0.filterProps=["maxWidth"];const a$=be({prop:"minWidth",transform:xn}),l$=be({prop:"height",transform:xn}),u$=be({prop:"maxHeight",transform:xn}),c$=be({prop:"minHeight",transform:xn});be({prop:"size",cssProperty:"width",transform:xn});be({prop:"size",cssProperty:"height",transform:xn});const d$=be({prop:"boxSizing"});Jf(o$,w0,a$,l$,u$,c$,d$);const h$={border:{themeKey:"borders",transform:Ir},borderTop:{themeKey:"borders",transform:Ir},borderRight:{themeKey:"borders",transform:Ir},borderBottom:{themeKey:"borders",transform:Ir},borderLeft:{themeKey:"borders",transform:Ir},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Zf},color:{themeKey:"palette",transform:ca},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ca},backgroundColor:{themeKey:"palette",transform:ca},p:{style:Ze},pt:{style:Ze},pr:{style:Ze},pb:{style:Ze},pl:{style:Ze},px:{style:Ze},py:{style:Ze},padding:{style:Ze},paddingTop:{style:Ze},paddingRight:{style:Ze},paddingBottom:{style:Ze},paddingLeft:{style:Ze},paddingX:{style:Ze},paddingY:{style:Ze},paddingInline:{style:Ze},paddingInlineStart:{style:Ze},paddingInlineEnd:{style:Ze},paddingBlock:{style:Ze},paddingBlockStart:{style:Ze},paddingBlockEnd:{style:Ze},m:{style:Je},mt:{style:Je},mr:{style:Je},mb:{style:Je},ml:{style:Je},mx:{style:Je},my:{style:Je},margin:{style:Je},marginTop:{style:Je},marginRight:{style:Je},marginBottom:{style:Je},marginLeft:{style:Je},marginX:{style:Je},marginY:{style:Je},marginInline:{style:Je},marginInlineStart:{style:Je},marginInlineEnd:{style:Je},marginBlock:{style:Je},marginBlockStart:{style:Je},marginBlockEnd:{style:Je},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ep},rowGap:{style:np},columnGap:{style:tp},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:xn},maxWidth:{style:w0},minWidth:{transform:xn},height:{transform:xn},maxHeight:{transform:xn},minHeight:{transform:xn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},rp=h$;function f$(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function p$(t,e){return typeof t=="function"?t(e):t}function m$(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Xf(i,u)||{};return d?d(o):ii(o,r,m=>{let v=kh(h,c,m);return m===v&&typeof m=="string"&&(v=kh(h,c,`${n}${m==="default"?"":ge(m)}`,m)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:rp;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=RO(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const m=p$(u[f],s);if(m!=null)if(typeof m=="object")if(o[f])h=ou(h,t(f,m,s,o));else{const v=ii({theme:s},m,_=>({[f]:_}));f$(v,m)?h[f]=e({sx:m,theme:s}):h=ou(h,v)}else h=ou(h,t(f,m,s,o))}),AO(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const fk=m$();fk.filterProps=["sx"];const I0=fk,g$=["breakpoints","palette","spacing","shape"];function ip(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=se(t,g$),a=kO(n),l=LO(i);let u=Gn({breakpoints:a,direction:"ltr",components:{},palette:b({mode:"light"},r),spacing:l,shape:b({},xO,s)},o);return u=e.reduce((c,d)=>Gn(c,d),u),u.unstable_sxConfig=b({},rp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return I0({sx:d,theme:this})},u}function y$(t){return Object.keys(t).length===0}function pk(t=null){const e=I.useContext(Yf);return!e||y$(e)?t:e}const v$=ip();function E0(t=v$){return pk(t)}function w$({styles:t,themeId:e,defaultTheme:n={}}){const r=E0(n),i=typeof t=="function"?t(e&&r[e]||r):t;return P.jsx(EO,{styles:i})}const I$=["sx"],E$=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:rp;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function _$(t){const{sx:e}=t,n=se(t,I$),{systemProps:r,otherProps:i}=E$(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Cs(a)?b({},r,a):r}:s=b({},r,e),b({},i,{sx:s})}function mk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=mk(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function me(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=mk(t))&&(r&&(r+=" "),r+=e);return r}const S$=["variant"];function JI(t){return t.length===0}function gk(t){const{variant:e}=t,n=se(t,S$);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=JI(r)?t[i]:ge(t[i]):r+=`${JI(r)?i:ge(i)}${ge(t[i].toString())}`}),r}const b$=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function T$(t){return Object.keys(t).length===0}function k$(t){return typeof t=="string"&&t.charCodeAt(0)>96}const C$=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,x$=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=gk(i.props);r[s]=i.style}),r},R$=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[gk(u.props)])}),a};function au(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const A$=ip();function bl({defaultTheme:t,theme:e,themeId:n}){return T$(e)?t:e[n]||e}function yk(t={}){const{themeId:e,defaultTheme:n=A$,rootShouldForwardProp:r=au,slotShouldForwardProp:i=au}=t,s=o=>I0(b({},o,{theme:bl(b({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{SO(o,w=>w.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,f=se(a,b$),m=c!==void 0?c:u&&u!=="Root"||!1,v=d||!1;let _,y=au;u==="Root"?y=r:u?y=i:k$(o)&&(y=void 0);const p=_O(o,b({shouldForwardProp:y,label:_},f)),g=(w,...E)=>{const T=E?E.map(R=>typeof R=="function"&&R.__emotion_real!==R?q=>R(b({},q,{theme:bl(b({},q,{defaultTheme:n,themeId:e}))})):R):[];let S=w;l&&h&&T.push(R=>{const q=bl(b({},R,{defaultTheme:n,themeId:e})),ne=C$(l,q);if(ne){const Q={};return Object.entries(ne).forEach(([V,F])=>{Q[V]=typeof F=="function"?F(b({},R,{theme:q})):F}),h(R,Q)}return null}),l&&!m&&T.push(R=>{const q=bl(b({},R,{defaultTheme:n,themeId:e}));return R$(R,x$(l,q),q,l)}),v||T.push(s);const x=T.length-E.length;if(Array.isArray(w)&&x>0){const R=new Array(x).fill("");S=[...w,...R],S.raw=[...w.raw,...R]}else typeof w=="function"&&w.__emotion_real!==w&&(S=R=>w(b({},R,{theme:bl(b({},R,{defaultTheme:n,themeId:e}))})));const L=p(S,...T);return o.muiName&&(L.muiName=o.muiName),L};return p.withConfig&&(g.withConfig=p.withConfig),g}}const N$=yk(),P$=N$;function D$(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:a0(e.components[n].defaultProps,r)}function vk({props:t,name:e,defaultTheme:n,themeId:r}){let i=E0(n);return r&&(i=i[r]||i),D$({theme:i,name:e,props:t})}function _0(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function O$(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function to(t){if(t.type)return t;if(t.charAt(0)==="#")return to(O$(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Hi(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Hi(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function sp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $$(t){t=to(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),sp({type:a,values:l})}function ZI(t){t=to(t);let e=t.type==="hsl"||t.type==="hsla"?to($$(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function M$(t,e){const n=ZI(t),r=ZI(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function ea(t,e){return t=to(t),e=_0(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,sp(t)}function L$(t,e){if(t=to(t),e=_0(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return sp(t)}function F$(t,e){if(t=to(t),e=_0(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return sp(t)}const U$=I.createContext(null),wk=U$;function Ik(){return I.useContext(wk)}const V$=typeof Symbol=="function"&&Symbol.for,B$=V$?Symbol.for("mui.nested"):"__THEME_NESTED__";function z$(t,e){return typeof e=="function"?e(t):{...t,...e}}function j$(t){const{children:e,theme:n}=t,r=Ik(),i=I.useMemo(()=>{const s=r===null?n:z$(r,n);return s!=null&&(s[B$]=r!==null),s},[n,r]);return P.jsx(wk.Provider,{value:i,children:e})}const eE={};function tE(t,e,n,r=!1){return I.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?b({},e,{[t]:s}):s;return r?()=>o:o}return t?b({},e,{[t]:n}):b({},e,n)},[t,e,n,r])}function W$(t){const{children:e,theme:n,themeId:r}=t,i=pk(eE),s=Ik()||eE,o=tE(r,i,n),a=tE(r,s,n,!0);return P.jsx(j$,{theme:a,children:P.jsx(Yf.Provider,{value:o,children:e})})}const q$=["className","component","disableGutters","fixed","maxWidth","classes"],H$=ip(),K$=P$("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),G$=t=>vk({props:t,name:"MuiContainer",defaultTheme:H$}),Q$=(t,e)=>{const n=l=>Ye(e,l),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=t,a={root:["root",o&&`maxWidth${ge(String(o))}`,i&&"fixed",s&&"disableGutters"]};return it(a,n,r)};function Y$(t={}){const{createStyledComponent:e=K$,useThemeProps:n=G$,componentName:r="MuiContainer"}=t,i=e(({theme:o,ownerState:a})=>b({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}),({theme:o,ownerState:a})=>a.fixed&&Object.keys(o.breakpoints.values).reduce((l,u)=>{const c=u,d=o.breakpoints.values[c];return d!==0&&(l[o.breakpoints.up(c)]={maxWidth:`${d}${o.breakpoints.unit}`}),l},{}),({theme:o,ownerState:a})=>b({},a.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[o.breakpoints.up(a.maxWidth)]:{maxWidth:`${o.breakpoints.values[a.maxWidth]}${o.breakpoints.unit}`}}));return I.forwardRef(function(a,l){const u=n(a),{className:c,component:d="div",disableGutters:h=!1,fixed:f=!1,maxWidth:m="lg"}=u,v=se(u,q$),_=b({},u,{component:d,disableGutters:h,fixed:f,maxWidth:m}),y=Q$(_,r);return P.jsx(i,b({as:d,ownerState:_,className:me(y.root,c),ref:l},v))})}function X$(t,e){return b({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const J$=["mode","contrastThreshold","tonalOffset"],nE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Lu.white,default:Lu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Om={text:{primary:Lu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Lu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rE(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=F$(t.main,i):e==="dark"&&(t.dark=L$(t.main,s)))}function Z$(t="light"){return t==="dark"?{main:Ro[200],light:Ro[50],dark:Ro[400]}:{main:Ro[700],light:Ro[400],dark:Ro[800]}}function eM(t="light"){return t==="dark"?{main:xo[200],light:xo[50],dark:xo[400]}:{main:xo[500],light:xo[300],dark:xo[700]}}function tM(t="light"){return t==="dark"?{main:Co[500],light:Co[300],dark:Co[700]}:{main:Co[700],light:Co[400],dark:Co[800]}}function nM(t="light"){return t==="dark"?{main:Ao[400],light:Ao[300],dark:Ao[700]}:{main:Ao[700],light:Ao[500],dark:Ao[900]}}function rM(t="light"){return t==="dark"?{main:No[400],light:No[300],dark:No[700]}:{main:No[800],light:No[500],dark:No[900]}}function iM(t="light"){return t==="dark"?{main:_l[400],light:_l[300],dark:_l[700]}:{main:"#ed6c02",light:_l[500],dark:_l[900]}}function sM(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=se(t,J$),s=t.primary||Z$(e),o=t.secondary||eM(e),a=t.error||tM(e),l=t.info||nM(e),u=t.success||rM(e),c=t.warning||iM(e);function d(v){return M$(v,Om.text.primary)>=n?Om.text.primary:nE.text.primary}const h=({color:v,name:_,mainShade:y=500,lightShade:p=300,darkShade:g=700})=>{if(v=b({},v),!v.main&&v[y]&&(v.main=v[y]),!v.hasOwnProperty("main"))throw new Error(Hi(11,_?` (${_})`:"",y));if(typeof v.main!="string")throw new Error(Hi(12,_?` (${_})`:"",JSON.stringify(v.main)));return rE(v,"light",p,r),rE(v,"dark",g,r),v.contrastText||(v.contrastText=d(v.main)),v},f={dark:Om,light:nE};return Gn(b({common:b({},Lu),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:nD,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const oM=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function aM(t){return Math.round(t*1e5)/1e5}const iE={textTransform:"uppercase"},sE='"Roboto", "Helvetica", "Arial", sans-serif';function lM(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=sE,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=se(n,oM),f=i/14,m=d||(y=>`${y/u*f}rem`),v=(y,p,g,w,E)=>b({fontFamily:r,fontWeight:y,fontSize:m(p),lineHeight:g},r===sE?{letterSpacing:`${aM(w/p)}em`}:{},E,c),_={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,iE),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,iE),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Gn(b({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const uM=.2,cM=.14,dM=.12;function Ve(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${uM})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${cM})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${dM})`].join(",")}const hM=["none",Ve(0,2,1,-1,0,1,1,0,0,1,3,0),Ve(0,3,1,-2,0,2,2,0,0,1,5,0),Ve(0,3,3,-2,0,3,4,0,0,1,8,0),Ve(0,2,4,-1,0,4,5,0,0,1,10,0),Ve(0,3,5,-1,0,5,8,0,0,1,14,0),Ve(0,3,5,-1,0,6,10,0,0,1,18,0),Ve(0,4,5,-2,0,7,10,1,0,2,16,1),Ve(0,5,5,-3,0,8,10,1,0,3,14,2),Ve(0,5,6,-3,0,9,12,1,0,3,16,2),Ve(0,6,6,-3,0,10,14,1,0,4,18,3),Ve(0,6,7,-4,0,11,15,1,0,4,20,3),Ve(0,7,8,-4,0,12,17,2,0,5,22,4),Ve(0,7,8,-4,0,13,19,2,0,5,24,4),Ve(0,7,9,-4,0,14,21,2,0,5,26,4),Ve(0,8,9,-5,0,15,22,2,0,6,28,5),Ve(0,8,10,-5,0,16,24,2,0,6,30,5),Ve(0,8,11,-5,0,17,26,2,0,6,32,5),Ve(0,9,11,-5,0,18,28,2,0,7,34,6),Ve(0,9,12,-6,0,19,29,2,0,7,36,6),Ve(0,10,13,-6,0,20,31,3,0,8,38,7),Ve(0,10,13,-6,0,21,33,3,0,8,40,7),Ve(0,10,14,-6,0,22,35,3,0,8,42,7),Ve(0,11,14,-7,0,23,36,3,0,9,44,8),Ve(0,11,15,-7,0,24,38,3,0,9,46,8)],fM=hM,pM=["duration","easing","delay"],mM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oE(t){return`${Math.round(t)}ms`}function yM(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function vM(t){const e=b({},mM,t.easing),n=b({},gM,t.duration);return b({getAutoHeightDuration:yM,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return se(s,pM),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:oE(o)} ${a} ${typeof l=="string"?l:oE(l)}`).join(",")}},t,{easing:e,duration:n})}const wM={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},IM=wM,EM=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ek(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=se(t,EM);if(t.vars)throw new Error(Hi(18));const a=sM(r),l=ip(t);let u=Gn(l,{mixins:X$(l.breakpoints,n),palette:a,shadows:fM.slice(),typography:lM(a,s),transitions:vM(i),zIndex:b({},IM)});return u=Gn(u,o),u=e.reduce((c,d)=>Gn(c,d),u),u.unstable_sxConfig=b({},rp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return I0({sx:d,theme:this})},u}const _M=Ek(),op=_M;function S0(){const t=E0(op);return t[Ca]||t}function ot({props:t,name:e}){return vk({props:t,name:e,defaultTheme:op,themeId:Ca})}const ui=t=>au(t)&&t!=="classes",SM=au,bM=yk({themeId:Ca,defaultTheme:op,rootShouldForwardProp:ui}),oe=bM,TM=["theme"];function kM(t){let{theme:e}=t,n=se(t,TM);const r=e[Ca];return P.jsx(W$,b({},n,{themeId:r?Ca:void 0,theme:r||e}))}const CM=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},aE=CM;function Ch(t){return typeof t=="string"}function xM(t,e,n){return t===void 0||Ch(t)?e:b({},e,{ownerState:b({},e.ownerState,n)})}const RM={disableDefaultClasses:!1},AM=I.createContext(RM);function NM(t){const{disableDefaultClasses:e}=I.useContext(AM);return n=>e?"":t(n)}function PM(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function dy(t,e){return typeof t=="function"?t(e):t}function lE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function DM(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=me(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),m=b({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=b({},n,i,r);return f.length>0&&(v.className=f),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:void 0}}const o=PM(b({},i,r)),a=lE(r),l=lE(i),u=e(o),c=me(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=b({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=b({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const OM=["elementType","externalSlotProps","ownerState"];function uE(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=se(t,OM),o=dy(r,i),{props:a,internalRef:l}=DM(b({},s,{externalSlotProps:o})),u=_n(l,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return xM(n,b({},a,{ref:u}),i)}const $M=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function MM(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function LM(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function FM(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||LM(t))}function UM(t){const e=[],n=[];return Array.from(t.querySelectorAll($M)).forEach((r,i)=>{const s=MM(r);s===-1||!FM(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function VM(){return!0}function BM(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=UM,isEnabled:o=VM,open:a}=t,l=I.useRef(!1),u=I.useRef(null),c=I.useRef(null),d=I.useRef(null),h=I.useRef(null),f=I.useRef(!1),m=I.useRef(null),v=_n(e.ref,m),_=I.useRef(null);I.useEffect(()=>{!a||!m.current||(f.current=!n)},[n,a]),I.useEffect(()=>{if(!a||!m.current)return;const g=Pn(m.current);return m.current.contains(g.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),I.useEffect(()=>{if(!a||!m.current)return;const g=Pn(m.current),w=S=>{const{current:x}=m;if(x!==null){if(!g.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!x.contains(g.activeElement)){if(S&&h.current!==S.target||g.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let q=[];if((g.activeElement===u.current||g.activeElement===c.current)&&(q=s(m.current)),q.length>0){var L,R;const ne=!!((L=_.current)!=null&&L.shiftKey&&((R=_.current)==null?void 0:R.key)==="Tab"),Q=q[0],V=q[q.length-1];typeof Q!="string"&&typeof V!="string"&&(ne?V.focus():Q.focus())}else x.focus()}}},E=S=>{_.current=S,!(r||!o()||S.key!=="Tab")&&g.activeElement===m.current&&S.shiftKey&&(l.current=!0,c.current&&c.current.focus())};g.addEventListener("focusin",w),g.addEventListener("keydown",E,!0);const T=setInterval(()=>{g.activeElement&&g.activeElement.tagName==="BODY"&&w(null)},50);return()=>{clearInterval(T),g.removeEventListener("focusin",w),g.removeEventListener("keydown",E,!0)}},[n,r,i,o,a,s]);const y=g=>{d.current===null&&(d.current=g.relatedTarget),f.current=!0,h.current=g.target;const w=e.props.onFocus;w&&w(g)},p=g=>{d.current===null&&(d.current=g.relatedTarget),f.current=!0};return P.jsxs(I.Fragment,{children:[P.jsx("div",{tabIndex:a?0:-1,onFocus:p,ref:u,"data-testid":"sentinelStart"}),I.cloneElement(e,{ref:v,onFocus:y}),P.jsx("div",{tabIndex:a?0:-1,onFocus:p,ref:c,"data-testid":"sentinelEnd"})]})}function zM(t){return typeof t=="function"?t():t}const jM=I.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=I.useState(null),l=_n(I.isValidElement(r)?r.ref:null,n);if(ka(()=>{s||a(zM(i)||document.body)},[i,s]),ka(()=>{if(o&&!s)return oy(n,o),()=>{oy(n,null)}},[n,o,s]),s){if(I.isValidElement(r)){const u={ref:l};return I.cloneElement(r,u)}return P.jsx(I.Fragment,{children:r})}return P.jsx(I.Fragment,{children:o&&Tf.createPortal(r,o)})}),WM=jM;function qM(t){const e=Pn(t);return e.body===t?eo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function lu(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function cE(t){return parseInt(eo(t).getComputedStyle(t).paddingRight,10)||0}function HM(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function dE(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!HM(o);a&&l&&lu(o,i)})}function $m(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function KM(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(qM(r)){const o=HT(Pn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${cE(r)+o}px`;const a=Pn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${cE(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=Pn(r).body;else{const o=r.parentElement,a=eo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function GM(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class QM{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&lu(e.modalRef,!1);const i=GM(n);dE(n,e.mount,e.modalRef,i,!0);const s=$m(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=$m(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=KM(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=$m(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&lu(e.modalRef,n),dE(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&lu(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function YM(t){return Ye("MuiModal",t)}st("MuiModal",["root","hidden","backdrop"]);const XM=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],JM=t=>{const{open:e,exited:n}=t;return it({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},NM(YM))};function ZM(t){return typeof t=="function"?t():t}function eL(t){return t?t.props.hasOwnProperty("in"):!1}const tL=new QM,nL=I.forwardRef(function(e,n){var r,i;const{children:s,closeAfterTransition:o=!1,container:a,disableAutoFocus:l=!1,disableEnforceFocus:u=!1,disableEscapeKeyDown:c=!1,disablePortal:d=!1,disableRestoreFocus:h=!1,disableScrollLock:f=!1,hideBackdrop:m=!1,keepMounted:v=!1,manager:_=tL,onBackdropClick:y,onClose:p,onKeyDown:g,open:w,onTransitionEnter:E,onTransitionExited:T,slotProps:S={},slots:x={}}=e,L=se(e,XM),R=_,[q,ne]=I.useState(!w),Q=I.useRef({}),V=I.useRef(null),F=I.useRef(null),Z=_n(F,n),Y=eL(s),D=(r=e["aria-hidden"])!=null?r:!0,j=()=>Pn(V.current),$=()=>(Q.current.modalRef=F.current,Q.current.mountNode=V.current,Q.current),ee=()=>{R.mount($(),{disableScrollLock:f}),F.current&&(F.current.scrollTop=0)},X=Zo(()=>{const ft=ZM(a)||j().body;R.add($(),ft),F.current&&ee()}),Ne=I.useCallback(()=>R.isTopModal($()),[R]),de=Zo(ft=>{V.current=ft,!(!ft||!F.current)&&(w&&Ne()?ee():lu(F.current,D))}),ue=I.useCallback(()=>{R.remove($(),D)},[R,D]);I.useEffect(()=>()=>{ue()},[ue]),I.useEffect(()=>{w?X():(!Y||!o)&&ue()},[w,ue,Y,o,X]);const pe=b({},e,{closeAfterTransition:o,disableAutoFocus:l,disableEnforceFocus:u,disableEscapeKeyDown:c,disablePortal:d,disableRestoreFocus:h,disableScrollLock:f,exited:q,hideBackdrop:m,keepMounted:v}),ht=JM(pe),Vn=()=>{ne(!1),E&&E()},qe=()=>{ne(!0),T&&T(),o&&ue()},en=ft=>{ft.target===ft.currentTarget&&(y&&y(ft),p&&p(ft,"backdropClick"))},ce=ft=>{g&&g(ft),!(ft.key!=="Escape"||!Ne())&&(c||(ft.stopPropagation(),p&&p(ft,"escapeKeyDown")))},Xe={};s.props.tabIndex===void 0&&(Xe.tabIndex="-1"),Y&&(Xe.onEnter=$I(Vn,s.props.onEnter),Xe.onExited=$I(qe,s.props.onExited));const fr=(i=x.root)!=null?i:"div",pr=uE({elementType:fr,externalSlotProps:S.root,externalForwardedProps:L,additionalProps:{ref:Z,role:"presentation",onKeyDown:ce},className:ht.root,ownerState:pe}),Tn=x.backdrop,ys=uE({elementType:Tn,externalSlotProps:S.backdrop,additionalProps:{"aria-hidden":!0,onClick:en,open:w},className:ht.backdrop,ownerState:pe});return!v&&!w&&(!Y||q)?null:P.jsx(WM,{ref:de,container:a,disablePortal:d,children:P.jsxs(fr,b({},pr,{children:[!m&&Tn?P.jsx(Tn,b({},ys)):null,P.jsx(BM,{disableEnforceFocus:u,disableAutoFocus:l,disableRestoreFocus:h,isEnabled:Ne,open:w,children:I.cloneElement(s,Xe)})]}))})}),rL=nL,iL=["onChange","maxRows","minRows","style","value"];function fd(t){return parseInt(t,10)||0}const sL={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function hE(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const oL=I.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=se(e,iL),{current:u}=I.useRef(a!=null),c=I.useRef(null),d=_n(n,c),h=I.useRef(null),f=I.useRef(0),[m,v]=I.useState({outerHeightStyle:0}),_=I.useCallback(()=>{const E=c.current,S=eo(E).getComputedStyle(E);if(S.width==="0px")return{outerHeightStyle:0};const x=h.current;x.style.width=S.width,x.value=E.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const L=S.boxSizing,R=fd(S.paddingBottom)+fd(S.paddingTop),q=fd(S.borderBottomWidth)+fd(S.borderTopWidth),ne=x.scrollHeight;x.value="x";const Q=x.scrollHeight;let V=ne;s&&(V=Math.max(Number(s)*Q,V)),i&&(V=Math.min(Number(i)*Q,V)),V=Math.max(V,Q);const F=V+(L==="border-box"?R+q:0),Z=Math.abs(V-ne)<=1;return{outerHeightStyle:F,overflow:Z}},[i,s,e.placeholder]),y=(E,T)=>{const{outerHeightStyle:S,overflow:x}=T;return f.current<20&&(S>0&&Math.abs((E.outerHeightStyle||0)-S)>1||E.overflow!==x)?(f.current+=1,{overflow:x,outerHeightStyle:S}):E},p=I.useCallback(()=>{const E=_();hE(E)||v(T=>y(T,E))},[_]),g=()=>{const E=_();hE(E)||Tf.flushSync(()=>{v(T=>y(T,E))})};I.useEffect(()=>{const E=qT(()=>{f.current=0,c.current&&g()});let T;const S=c.current,x=eo(S);return x.addEventListener("resize",E),typeof ResizeObserver<"u"&&(T=new ResizeObserver(E),T.observe(S)),()=>{E.clear(),x.removeEventListener("resize",E),T&&T.disconnect()}}),ka(()=>{p()}),I.useEffect(()=>{f.current=0},[a]);const w=E=>{f.current=0,u||p(),r&&r(E)};return P.jsxs(I.Fragment,{children:[P.jsx("textarea",b({value:a,onChange:w,ref:d,rows:s,style:b({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},o)},l)),P.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:b({},sL.shadow,o,{padding:0})})]})}),aL=oL;function lL(t){return Ye("MuiSvgIcon",t)}st("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],cL=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${ge(e)}`,`fontSize${ge(n)}`]};return it(i,lL,r)},dL=oe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${ge(n.color)}`],e[`fontSize${ge(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,m,v,_,y,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(m=f[e.color])==null?void 0:m.main)!=null?h:{action:(v=(t.vars||t).palette)==null||(_=v.action)==null?void 0:_.active,disabled:(y=(t.vars||t).palette)==null||(p=y.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),_k=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=se(r,uL),m=b({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),v={};c||(v.viewBox=h);const _=cL(m);return P.jsxs(dL,b({as:a,className:me(_.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},v,f,{ownerState:m,children:[i,d?P.jsx("title",{children:d}):null]}))});_k.muiName="SvgIcon";const fE=_k;function hL(t,e){function n(r,i){return P.jsx(fE,b({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=fE.muiName,I.memo(I.forwardRef(n))}function hy(t,e){return hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hy(t,e)}function Sk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,hy(t,e)}const pE={disabled:!1},xh=sr.createContext(null);var fL=function(e){return e.scrollTop},jl="unmounted",Ss="exited",bs="entering",Lo="entered",fy="exiting",ci=function(t){Sk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ss,s.appearStatus=bs):l=Lo:r.unmountOnExit||r.mountOnEnter?l=jl:l=Ss,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===jl?{status:Ss}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==bs&&o!==Lo&&(s=bs):(o===bs||o===Lo)&&(s=fy)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bs){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:dd.findDOMNode(this);o&&fL(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ss&&this.setState({status:jl})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[dd.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||pE.disabled){this.safeSetState({status:Lo},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:bs},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Lo},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:dd.findDOMNode(this);if(!s||pE.disabled){this.safeSetState({status:Ss},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:fy},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ss},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:dd.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===jl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=se(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return sr.createElement(xh.Provider,{value:null},typeof o=="function"?o(i,a):sr.cloneElement(sr.Children.only(o),a))},e}(sr.Component);ci.contextType=xh;ci.propTypes={};function Po(){}ci.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Po,onEntering:Po,onEntered:Po,onExit:Po,onExiting:Po,onExited:Po};ci.UNMOUNTED=jl;ci.EXITED=Ss;ci.ENTERING=bs;ci.ENTERED=Lo;ci.EXITING=fy;const bk=ci;function pL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b0(t,e){var n=function(s){return e&&I.isValidElement(s)?e(s):s},r=Object.create(null);return t&&I.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function mL(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Ms(t,e,n){return n[e]!=null?n[e]:t.props[e]}function gL(t,e){return b0(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ms(n,"appear",t),enter:Ms(n,"enter",t),exit:Ms(n,"exit",t)})})}function yL(t,e,n){var r=b0(t.children),i=mL(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(I.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=I.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Ms(o,"exit",t),enter:Ms(o,"enter",t)}):!l&&a&&!c?i[s]=I.cloneElement(o,{in:!1}):l&&a&&I.isValidElement(u)&&(i[s]=I.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Ms(o,"exit",t),enter:Ms(o,"enter",t)}))}}),i}var vL=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},wL={component:"div",childFactory:function(e){return e}},T0=function(t){Sk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(pL(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?gL(i,a):yL(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=b0(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=b({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=se(i,["component","childFactory"]),l=this.state.contextValue,u=vL(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?sr.createElement(xh.Provider,{value:l},u):sr.createElement(xh.Provider,{value:l},sr.createElement(s,a,u))},e}(sr.Component);T0.propTypes={};T0.defaultProps=wL;const IL=T0,Tk=t=>t.scrollTop;function Rh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function EL(t){return Ye("MuiPaper",t)}st("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _L=["className","component","elevation","square","variant"],SL=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return it(s,EL,i)},bL=oe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return b({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&b({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ea("#fff",aE(e.elevation))}, ${ea("#fff",aE(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),TL=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=se(r,_L),c=b({},r,{component:s,elevation:o,square:a,variant:l}),d=SL(c);return P.jsx(bL,b({as:s,ownerState:c,className:me(d.root,i),ref:n},u))}),kk=TL;function kL(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=I.useState(!1),h=me(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=me(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),I.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),P.jsx("span",{className:h,style:f,children:P.jsx("span",{className:m})})}const CL=st("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Bn=CL,xL=["center","classes","className"];let ap=t=>t,mE,gE,yE,vE;const py=550,RL=80,AL=m0(mE||(mE=ap`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),NL=m0(gE||(gE=ap`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),PL=m0(yE||(yE=ap`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),DL=oe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),OL=oe(kL,{name:"MuiTouchRipple",slot:"Ripple"})(vE||(vE=ap`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Bn.rippleVisible,AL,py,({theme:t})=>t.transitions.easing.easeInOut,Bn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Bn.child,Bn.childLeaving,NL,py,({theme:t})=>t.transitions.easing.easeInOut,Bn.childPulsate,PL,({theme:t})=>t.transitions.easing.easeInOut),$L=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=se(r,xL),[l,u]=I.useState([]),c=I.useRef(0),d=I.useRef(null);I.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=I.useRef(!1),f=I.useRef(null),m=I.useRef(null),v=I.useRef(null);I.useEffect(()=>()=>{clearTimeout(f.current)},[]);const _=I.useCallback(w=>{const{pulsate:E,rippleX:T,rippleY:S,rippleSize:x,cb:L}=w;u(R=>[...R,P.jsx(OL,{classes:{ripple:me(s.ripple,Bn.ripple),rippleVisible:me(s.rippleVisible,Bn.rippleVisible),ripplePulsate:me(s.ripplePulsate,Bn.ripplePulsate),child:me(s.child,Bn.child),childLeaving:me(s.childLeaving,Bn.childLeaving),childPulsate:me(s.childPulsate,Bn.childPulsate)},timeout:py,pulsate:E,rippleX:T,rippleY:S,rippleSize:x},c.current)]),c.current+=1,d.current=L},[s]),y=I.useCallback((w={},E={},T=()=>{})=>{const{pulsate:S=!1,center:x=i||E.pulsate,fakeElement:L=!1}=E;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const R=L?null:v.current,q=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ne,Q,V;if(x||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)ne=Math.round(q.width/2),Q=Math.round(q.height/2);else{const{clientX:F,clientY:Z}=w.touches&&w.touches.length>0?w.touches[0]:w;ne=Math.round(F-q.left),Q=Math.round(Z-q.top)}if(x)V=Math.sqrt((2*q.width**2+q.height**2)/3),V%2===0&&(V+=1);else{const F=Math.max(Math.abs((R?R.clientWidth:0)-ne),ne)*2+2,Z=Math.max(Math.abs((R?R.clientHeight:0)-Q),Q)*2+2;V=Math.sqrt(F**2+Z**2)}w!=null&&w.touches?m.current===null&&(m.current=()=>{_({pulsate:S,rippleX:ne,rippleY:Q,rippleSize:V,cb:T})},f.current=setTimeout(()=>{m.current&&(m.current(),m.current=null)},RL)):_({pulsate:S,rippleX:ne,rippleY:Q,rippleSize:V,cb:T})},[i,_]),p=I.useCallback(()=>{y({},{pulsate:!0})},[y]),g=I.useCallback((w,E)=>{if(clearTimeout(f.current),(w==null?void 0:w.type)==="touchend"&&m.current){m.current(),m.current=null,f.current=setTimeout(()=>{g(w,E)});return}m.current=null,u(T=>T.length>0?T.slice(1):T),d.current=E},[]);return I.useImperativeHandle(n,()=>({pulsate:p,start:y,stop:g}),[p,y,g]),P.jsx(DL,b({className:me(Bn.root,s.root,o),ref:v},a,{children:P.jsx(IL,{component:null,exit:!0,children:l})}))}),ML=$L;function LL(t){return Ye("MuiButtonBase",t)}const FL=st("MuiButtonBase",["root","disabled","focusVisible"]),UL=FL,VL=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],BL=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=it({root:["root",e&&"disabled",n&&"focusVisible"]},LL,i);return n&&r&&(o.root+=` ${r}`),o},zL=oe("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${UL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),jL=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:m,onClick:v,onContextMenu:_,onDragLeave:y,onFocus:p,onFocusVisible:g,onKeyDown:w,onKeyUp:E,onMouseDown:T,onMouseLeave:S,onMouseUp:x,onTouchEnd:L,onTouchMove:R,onTouchStart:q,tabIndex:ne=0,TouchRippleProps:Q,touchRippleRef:V,type:F}=r,Z=se(r,VL),Y=I.useRef(null),D=I.useRef(null),j=_n(D,V),{isFocusVisibleRef:$,onFocus:ee,onBlur:X,ref:Ne}=pD(),[de,ue]=I.useState(!1);u&&de&&ue(!1),I.useImperativeHandle(i,()=>({focusVisible:()=>{ue(!0),Y.current.focus()}}),[]);const[pe,ht]=I.useState(!1);I.useEffect(()=>{ht(!0)},[]);const Vn=pe&&!c&&!u;I.useEffect(()=>{de&&h&&!c&&pe&&D.current.pulsate()},[c,h,de,pe]);function qe(re,J,Pe=d){return Zo(pt=>(J&&J(pt),!Pe&&D.current&&D.current[re](pt),!0))}const en=qe("start",T),ce=qe("stop",_),Xe=qe("stop",y),fr=qe("stop",x),pr=qe("stop",re=>{de&&re.preventDefault(),S&&S(re)}),Tn=qe("start",q),ys=qe("stop",L),ft=qe("stop",R),gi=qe("stop",re=>{X(re),$.current===!1&&ue(!1),m&&m(re)},!1),fl=Zo(re=>{Y.current||(Y.current=re.currentTarget),ee(re),$.current===!0&&(ue(!0),g&&g(re)),p&&p(re)}),dn=()=>{const re=Y.current;return l&&l!=="button"&&!(re.tagName==="A"&&re.href)},qt=I.useRef(!1),yi=Zo(re=>{h&&!qt.current&&de&&D.current&&re.key===" "&&(qt.current=!0,D.current.stop(re,()=>{D.current.start(re)})),re.target===re.currentTarget&&dn()&&re.key===" "&&re.preventDefault(),w&&w(re),re.target===re.currentTarget&&dn()&&re.key==="Enter"&&!u&&(re.preventDefault(),v&&v(re))}),Zn=Zo(re=>{h&&re.key===" "&&D.current&&de&&!re.defaultPrevented&&(qt.current=!1,D.current.stop(re,()=>{D.current.pulsate(re)})),E&&E(re),v&&re.target===re.currentTarget&&dn()&&re.key===" "&&!re.defaultPrevented&&v(re)});let Vr=l;Vr==="button"&&(Z.href||Z.to)&&(Vr=f);const er={};Vr==="button"?(er.type=F===void 0?"button":F,er.disabled=u):(!Z.href&&!Z.to&&(er.role="button"),u&&(er["aria-disabled"]=u));const Br=_n(n,Ne,Y),vi=b({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:ne,focusVisible:de}),Re=BL(vi);return P.jsxs(zL,b({as:Vr,className:me(Re.root,a),ownerState:vi,onBlur:gi,onClick:v,onContextMenu:ce,onFocus:fl,onKeyDown:yi,onKeyUp:Zn,onMouseDown:en,onMouseLeave:pr,onMouseUp:fr,onDragLeave:Xe,onTouchEnd:ys,onTouchMove:ft,onTouchStart:Tn,ref:Br,tabIndex:u?-1:ne,type:F},er,Z,{children:[o,Vn?P.jsx(ML,b({ref:j,center:s},Q)):null]}))}),WL=jL;function qL(t){return Ye("MuiTypography",t)}st("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const HL=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],KL=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${ge(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return it(a,qL,o)},GL=oe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>b({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),wE={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},QL={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},YL=t=>QL[t]||t,XL=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTypography"}),i=YL(r.color),s=_$(b({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=wE}=s,m=se(s,HL),v=b({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),_=l||(d?"p":f[h]||wE[h])||"span",y=KL(v);return P.jsx(GL,b({as:_,ref:n,ownerState:v,className:me(y.root,a)},m))}),JL=XL;function Qa({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const ZL=I.createContext(void 0),k0=ZL;function Ya(){return I.useContext(k0)}function eF(t){return P.jsx(w$,b({},t,{defaultTheme:op,themeId:Ca}))}function IE(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Ah(t,e=!1){return t&&(IE(t.value)&&t.value!==""||e&&IE(t.defaultValue)&&t.defaultValue!=="")}function tF(t){return t.startAdornment}function nF(t){return Ye("MuiInputBase",t)}const rF=st("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ra=rF,iF=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],lp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${ge(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},up=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},sF=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:m}=t,v={root:["root",`color${ge(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h==="small"&&"sizeSmall",c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return it(v,nF,e)},cp=oe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:lp})(({theme:t,ownerState:e})=>b({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ra.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&b({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),dp=oe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:up})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=b({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return b({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ra.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Ra.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),oF=P.jsx(eF,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),aF=I.forwardRef(function(e,n){var r;const i=ot({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:m,fullWidth:v=!1,id:_,inputComponent:y="input",inputProps:p={},inputRef:g,maxRows:w,minRows:E,multiline:T=!1,name:S,onBlur:x,onChange:L,onClick:R,onFocus:q,onKeyDown:ne,onKeyUp:Q,placeholder:V,readOnly:F,renderSuffix:Z,rows:Y,slotProps:D={},slots:j={},startAdornment:$,type:ee="text",value:X}=i,Ne=se(i,iF),de=p.value!=null?p.value:X,{current:ue}=I.useRef(de!=null),pe=I.useRef(),ht=I.useCallback(Re=>{},[]),Vn=_n(pe,g,p.ref,ht),[qe,en]=I.useState(!1),ce=Ya(),Xe=Qa({props:i,muiFormControl:ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Xe.focused=ce?ce.focused:qe,I.useEffect(()=>{!ce&&h&&qe&&(en(!1),x&&x())},[ce,h,qe,x]);const fr=ce&&ce.onFilled,pr=ce&&ce.onEmpty,Tn=I.useCallback(Re=>{Ah(Re)?fr&&fr():pr&&pr()},[fr,pr]);ka(()=>{ue&&Tn({value:de})},[de,Tn,ue]);const ys=Re=>{if(Xe.disabled){Re.stopPropagation();return}q&&q(Re),p.onFocus&&p.onFocus(Re),ce&&ce.onFocus?ce.onFocus(Re):en(!0)},ft=Re=>{x&&x(Re),p.onBlur&&p.onBlur(Re),ce&&ce.onBlur?ce.onBlur(Re):en(!1)},gi=(Re,...re)=>{if(!ue){const J=Re.target||pe.current;if(J==null)throw new Error(Hi(1));Tn({value:J.value})}p.onChange&&p.onChange(Re,...re),L&&L(Re,...re)};I.useEffect(()=>{Tn(pe.current)},[]);const fl=Re=>{pe.current&&Re.currentTarget===Re.target&&pe.current.focus(),R&&!Xe.disabled&&R(Re)};let dn=y,qt=p;T&&dn==="input"&&(Y?qt=b({type:void 0,minRows:Y,maxRows:Y},qt):qt=b({type:void 0,maxRows:w,minRows:E},qt),dn=aL);const yi=Re=>{Tn(Re.animationName==="mui-auto-fill-cancel"?pe.current:{value:"x"})};I.useEffect(()=>{ce&&ce.setAdornedStart(!!$)},[ce,$]);const Zn=b({},i,{color:Xe.color||"primary",disabled:Xe.disabled,endAdornment:m,error:Xe.error,focused:Xe.focused,formControl:ce,fullWidth:v,hiddenLabel:Xe.hiddenLabel,multiline:T,size:Xe.size,startAdornment:$,type:ee}),Vr=sF(Zn),er=j.root||u.Root||cp,Br=D.root||c.root||{},vi=j.input||u.Input||dp;return qt=b({},qt,(r=D.input)!=null?r:c.input),P.jsxs(I.Fragment,{children:[!f&&oF,P.jsxs(er,b({},Br,!Ch(er)&&{ownerState:b({},Zn,Br.ownerState)},{ref:n,onClick:fl},Ne,{className:me(Vr.root,Br.className,l,F&&"MuiInputBase-readOnly"),children:[$,P.jsx(k0.Provider,{value:null,children:P.jsx(vi,b({ownerState:Zn,"aria-invalid":Xe.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:Xe.disabled,id:_,onAnimationStart:yi,name:S,placeholder:V,readOnly:F,required:Xe.required,rows:Y,value:de,onKeyDown:ne,onKeyUp:Q,type:ee},qt,!Ch(vi)&&{as:dn,ownerState:b({},Zn,qt.ownerState)},{ref:Vn,className:me(Vr.input,qt.className,F&&"MuiInputBase-readOnly"),onBlur:ft,onChange:gi,onFocus:ys}))}),m,Z?Z(b({},Xe,{startAdornment:$})):null]}))]})}),C0=aF;function lF(t){return Ye("MuiInput",t)}const uF=b({},Ra,st("MuiInput",["root","underline","input"])),Tl=uF;function cF(t){return Ye("MuiOutlinedInput",t)}const dF=b({},Ra,st("MuiOutlinedInput",["root","notchedOutline","input"])),Ii=dF;function hF(t){return Ye("MuiFilledInput",t)}const fF=b({},Ra,st("MuiFilledInput",["root","underline","input"])),ws=fF,pF=hL(P.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),mF=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],gF={entering:{opacity:1},entered:{opacity:1}},yF=I.forwardRef(function(e,n){const r=S0(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:m,onExiting:v,style:_,timeout:y=i,TransitionComponent:p=bk}=e,g=se(e,mF),w=I.useRef(null),E=_n(w,a.ref,n),T=V=>F=>{if(V){const Z=w.current;F===void 0?V(Z):V(Z,F)}},S=T(h),x=T((V,F)=>{Tk(V);const Z=Rh({style:_,timeout:y,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",Z),V.style.transition=r.transitions.create("opacity",Z),c&&c(V,F)}),L=T(d),R=T(v),q=T(V=>{const F=Rh({style:_,timeout:y,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",F),V.style.transition=r.transitions.create("opacity",F),f&&f(V)}),ne=T(m),Q=V=>{s&&s(w.current,V)};return P.jsx(p,b({appear:o,in:u,nodeRef:w,onEnter:x,onEntered:L,onEntering:S,onExit:q,onExited:ne,onExiting:R,addEndListener:Q,timeout:y},g,{children:(V,F)=>I.cloneElement(a,b({style:b({opacity:0,visibility:V==="exited"&&!u?"hidden":void 0},gF[V],_,a.props.style),ref:E},F))}))}),vF=yF;function wF(t){return Ye("MuiBackdrop",t)}st("MuiBackdrop",["root","invisible"]);const IF=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],EF=t=>{const{classes:e,invisible:n}=t;return it({root:["root",n&&"invisible"]},wF,e)},_F=oe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>b({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),SF=I.forwardRef(function(e,n){var r,i,s;const o=ot({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:m={},slots:v={},TransitionComponent:_=vF,transitionDuration:y}=o,p=se(o,IF),g=b({},o,{component:u,invisible:h}),w=EF(g),E=(r=m.root)!=null?r:d.root;return P.jsx(_,b({in:f,timeout:y},p,{children:P.jsx(_F,b({"aria-hidden":!0},E,{as:(i=(s=v.root)!=null?s:c.Root)!=null?i:u,className:me(w.root,l,E==null?void 0:E.className),ownerState:b({},g,E==null?void 0:E.ownerState),classes:w,ref:n,children:a}))}))}),bF=SF;function TF(t){return Ye("MuiButton",t)}const kF=st("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),pd=kF,CF=I.createContext({}),xF=CF,RF=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],AF=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${ge(e)}`,`size${ge(i)}`,`${s}Size${ge(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${ge(i)}`],endIcon:["endIcon",`iconSize${ge(i)}`]},l=it(a,TF,o);return b({},o,l)},Ck=t=>b({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),NF=oe(WL,{shouldForwardProp:t=>ui(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${ge(n.color)}`],e[`size${ge(n.size)}`],e[`${n.variant}Size${ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return b({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":b({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ea(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${pd.focusVisible}`]:b({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${pd.disabled}`]:b({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${ea(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${pd.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${pd.disabled}`]:{boxShadow:"none"}}),PF=oe("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${ge(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Ck(t))),DF=oe("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${ge(n.size)}`]]}})(({ownerState:t})=>b({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Ck(t))),OF=I.forwardRef(function(e,n){const r=I.useContext(xF),i=a0(r,e),s=ot({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:m,fullWidth:v=!1,size:_="medium",startIcon:y,type:p,variant:g="text"}=s,w=se(s,RF),E=b({},s,{color:a,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,fullWidth:v,size:_,type:p,variant:g}),T=AF(E),S=y&&P.jsx(PF,{className:T.startIcon,ownerState:E,children:y}),x=f&&P.jsx(DF,{className:T.endIcon,ownerState:E,children:f});return P.jsxs(NF,b({ownerState:E,className:me(r.className,T.root,u),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:me(T.focusVisible,m),ref:n,type:p},w,{classes:T,children:[S,o,x]}))}),$F=OF,MF=Y$({createStyledComponent:oe("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>ot({props:t,name:"MuiContainer"})}),LF=MF,FF=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],UF=oe("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>b({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),VF=oe(bF,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),BF=I.forwardRef(function(e,n){var r,i,s,o,a,l;const u=ot({name:"MuiModal",props:e}),{BackdropComponent:c=VF,BackdropProps:d,classes:h,className:f,closeAfterTransition:m=!1,children:v,container:_,component:y,components:p={},componentsProps:g={},disableAutoFocus:w=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:T=!1,disablePortal:S=!1,disableRestoreFocus:x=!1,disableScrollLock:L=!1,hideBackdrop:R=!1,keepMounted:q=!1,onBackdropClick:ne,onClose:Q,open:V,slotProps:F,slots:Z,theme:Y}=u,D=se(u,FF),[j,$]=I.useState(!0),ee={container:_,closeAfterTransition:m,disableAutoFocus:w,disableEnforceFocus:E,disableEscapeKeyDown:T,disablePortal:S,disableRestoreFocus:x,disableScrollLock:L,hideBackdrop:R,keepMounted:q,onBackdropClick:ne,onClose:Q,open:V},X=b({},u,ee,{exited:j}),Ne=(r=(i=Z==null?void 0:Z.root)!=null?i:p.Root)!=null?r:UF,de=(s=(o=Z==null?void 0:Z.backdrop)!=null?o:p.Backdrop)!=null?s:c,ue=(a=F==null?void 0:F.root)!=null?a:g.root,pe=(l=F==null?void 0:F.backdrop)!=null?l:g.backdrop;return P.jsx(rL,b({slots:{root:Ne,backdrop:de},slotProps:{root:()=>b({},dy(ue,X),!Ch(Ne)&&{as:y,theme:Y},{className:me(f,ue==null?void 0:ue.className,h==null?void 0:h.root,!X.open&&X.exited&&(h==null?void 0:h.hidden))}),backdrop:()=>b({},d,dy(pe,X),{className:me(pe==null?void 0:pe.className,h==null?void 0:h.backdrop)})},onTransitionEnter:()=>$(!1),onTransitionExited:()=>$(!0),ref:n},D,ee,{children:v}))}),zF=BF,jF=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],WF=t=>{const{classes:e,disableUnderline:n}=t,i=it({root:["root",!n&&"underline"],input:["input"]},hF,e);return b({},e,i)},qF=oe(cp,{shouldForwardProp:t=>ui(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...lp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return b({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${ws.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${ws.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ws.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ws.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ws.disabled}, .${ws.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ws.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&b({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),HF=oe(dp,{name:"MuiFilledInput",slot:"Input",overridesResolver:up})(({theme:t,ownerState:e})=>b({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),xk=I.forwardRef(function(e,n){var r,i,s,o;const a=ot({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:v="text"}=a,_=se(a,jF),y=b({},a,{fullWidth:c,inputComponent:d,multiline:h,type:v}),p=WF(a),g={root:{ownerState:y},input:{ownerState:y}},w=f??u?Gn(f??u,g):g,E=(r=(i=m.root)!=null?i:l.Root)!=null?r:qF,T=(s=(o=m.input)!=null?o:l.Input)!=null?s:HF;return P.jsx(C0,b({slots:{root:E,input:T},componentsProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:v},_,{classes:p}))});xk.muiName="Input";const Rk=xk;function KF(t){return Ye("MuiFormControl",t)}st("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const GF=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],QF=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${ge(n)}`,r&&"fullWidth"]};return it(i,KF,e)},YF=oe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>b({},e.root,e[`margin${ge(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>b({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),XF=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:m=!1,size:v="medium",variant:_="outlined"}=r,y=se(r,GF),p=b({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:m,size:v,variant:_}),g=QF(p),[w,E]=I.useState(()=>{let Q=!1;return i&&I.Children.forEach(i,V=>{if(!Nm(V,["Input","Select"]))return;const F=Nm(V,["Select"])?V.props.input:V;F&&tF(F.props)&&(Q=!0)}),Q}),[T,S]=I.useState(()=>{let Q=!1;return i&&I.Children.forEach(i,V=>{Nm(V,["Input","Select"])&&(Ah(V.props,!0)||Ah(V.props.inputProps,!0))&&(Q=!0)}),Q}),[x,L]=I.useState(!1);l&&x&&L(!1);const R=c!==void 0&&!l?c:x;let q;const ne=I.useMemo(()=>({adornedStart:w,setAdornedStart:E,color:o,disabled:l,error:u,filled:T,focused:R,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{L(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{L(!0)},registerEffect:q,required:m,variant:_}),[w,o,l,u,T,R,d,h,q,m,v,_]);return P.jsx(k0.Provider,{value:ne,children:P.jsx(YF,b({as:a,ownerState:p,className:me(g.root,s),ref:n},y,{children:i}))})}),JF=XF;function ZF(t){return Ye("MuiFormHelperText",t)}const e4=st("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),EE=e4;var _E;const t4=["children","className","component","disabled","error","filled","focused","margin","required","variant"],n4=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${ge(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return it(u,ZF,e)},r4=oe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${ge(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>b({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${EE.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${EE.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),i4=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=se(r,t4),l=Ya(),u=Qa({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=b({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=n4(c);return P.jsx(r4,b({as:o,ownerState:c,className:me(d.root,s),ref:n},a,{children:i===" "?_E||(_E=P.jsx("span",{className:"notranslate",children:""})):i}))}),s4=i4;function o4(t){return Ye("MuiFormLabel",t)}const a4=st("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),uu=a4,l4=["children","className","color","component","disabled","error","filled","focused","required"],u4=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${ge(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return it(l,o4,e)},c4=oe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>b({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>b({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${uu.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${uu.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${uu.error}`]:{color:(t.vars||t).palette.error.main}})),d4=oe("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${uu.error}`]:{color:(t.vars||t).palette.error.main}})),h4=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=se(r,l4),l=Ya(),u=Qa({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=b({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=u4(c);return P.jsxs(c4,b({as:o,ownerState:c,className:me(d.root,s),ref:n},a,{children:[i,u.required&&P.jsxs(d4,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),f4=h4,p4=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function my(t){return`scale(${t}, ${t**2})`}const m4={entering:{opacity:1,transform:my(1)},entered:{opacity:1,transform:"none"}},Mm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ak=I.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:m,timeout:v="auto",TransitionComponent:_=bk}=e,y=se(e,p4),p=I.useRef(),g=I.useRef(),w=S0(),E=I.useRef(null),T=_n(E,s.ref,n),S=F=>Z=>{if(F){const Y=E.current;Z===void 0?F(Y):F(Y,Z)}},x=S(c),L=S((F,Z)=>{Tk(F);const{duration:Y,delay:D,easing:j}=Rh({style:m,timeout:v,easing:o},{mode:"enter"});let $;v==="auto"?($=w.transitions.getAutoHeightDuration(F.clientHeight),g.current=$):$=Y,F.style.transition=[w.transitions.create("opacity",{duration:$,delay:D}),w.transitions.create("transform",{duration:Mm?$:$*.666,delay:D,easing:j})].join(","),l&&l(F,Z)}),R=S(u),q=S(f),ne=S(F=>{const{duration:Z,delay:Y,easing:D}=Rh({style:m,timeout:v,easing:o},{mode:"exit"});let j;v==="auto"?(j=w.transitions.getAutoHeightDuration(F.clientHeight),g.current=j):j=Z,F.style.transition=[w.transitions.create("opacity",{duration:j,delay:Y}),w.transitions.create("transform",{duration:Mm?j:j*.666,delay:Mm?Y:Y||j*.333,easing:D})].join(","),F.style.opacity=0,F.style.transform=my(.75),d&&d(F)}),Q=S(h),V=F=>{v==="auto"&&(p.current=setTimeout(F,g.current||0)),r&&r(E.current,F)};return I.useEffect(()=>()=>{clearTimeout(p.current)},[]),P.jsx(_,b({appear:i,in:a,nodeRef:E,onEnter:L,onEntered:R,onEntering:x,onExit:ne,onExited:Q,onExiting:q,addEndListener:V,timeout:v==="auto"?null:v},y,{children:(F,Z)=>I.cloneElement(s,b({style:b({opacity:0,transform:my(.75),visibility:F==="exited"&&!a?"hidden":void 0},m4[F],m,s.props.style),ref:T},Z))}))});Ak.muiSupportAuto=!0;const g4=Ak,y4=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],v4=t=>{const{classes:e,disableUnderline:n}=t,i=it({root:["root",!n&&"underline"],input:["input"]},lF,e);return b({},e,i)},w4=oe(cp,{shouldForwardProp:t=>ui(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...lp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),b({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Tl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Tl.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Tl.disabled}, .${Tl.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Tl.disabled}:before`]:{borderBottomStyle:"dotted"}})}),I4=oe(dp,{name:"MuiInput",slot:"Input",overridesResolver:up})({}),Nk=I.forwardRef(function(e,n){var r,i,s,o;const a=ot({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:v={},type:_="text"}=a,y=se(a,y4),p=v4(a),w={root:{ownerState:{disableUnderline:l}}},E=m??c?Gn(m??c,w):w,T=(r=(i=v.root)!=null?i:u.Root)!=null?r:w4,S=(s=(o=v.input)!=null?o:u.Input)!=null?s:I4;return P.jsx(C0,b({slots:{root:T,input:S},slotProps:E,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:_},y,{classes:p}))});Nk.muiName="Input";const Pk=Nk;function E4(t){return Ye("MuiInputLabel",t)}st("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _4=["disableAnimation","margin","shrink","variant","className"],S4=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u=it({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},E4,e);return b({},e,u)},b4=oe(f4,{shouldForwardProp:t=>ui(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${uu.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>b({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&b({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&b({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&b({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),T4=I.forwardRef(function(e,n){const r=ot({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=se(r,_4),l=Ya();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Qa({props:r,muiFormControl:l,states:["size","variant","required"]}),d=b({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required}),h=S4(d);return P.jsx(b4,b({"data-shrink":u,ownerState:d,ref:n,className:me(h.root,o)},a,{classes:h}))}),k4=T4,C4=I.createContext({}),x4=C4;function R4(t){return Ye("MuiList",t)}st("MuiList",["root","padding","dense","subheader"]);const A4=["children","className","component","dense","disablePadding","subheader"],N4=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return it({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},R4,e)},P4=oe("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>b({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),D4=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=se(r,A4),d=I.useMemo(()=>({dense:a}),[a]),h=b({},r,{component:o,dense:a,disablePadding:l}),f=N4(h);return P.jsx(x4.Provider,{value:d,children:P.jsxs(P4,b({as:o,className:me(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),O4=D4,$4=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Lm(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function SE(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Dk(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function kl(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Dk(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const M4=I.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=se(e,$4),f=I.useRef(null),m=I.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ka(()=>{i&&f.current.focus()},[i]),I.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(g,w)=>{const E=!f.current.style.width;if(g.clientHeight<f.current.clientHeight&&E){const T=`${HT(Pn(g))}px`;f.current.style[w.direction==="rtl"?"paddingLeft":"paddingRight"]=T,f.current.style.width=`calc(100% + ${T})`}return f.current}}),[]);const v=g=>{const w=f.current,E=g.key,T=Pn(w).activeElement;if(E==="ArrowDown")g.preventDefault(),kl(w,T,u,l,Lm);else if(E==="ArrowUp")g.preventDefault(),kl(w,T,u,l,SE);else if(E==="Home")g.preventDefault(),kl(w,null,u,l,Lm);else if(E==="End")g.preventDefault(),kl(w,null,u,l,SE);else if(E.length===1){const S=m.current,x=E.toLowerCase(),L=performance.now();S.keys.length>0&&(L-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&x!==S.keys[0]&&(S.repeating=!1)),S.lastTime=L,S.keys.push(x);const R=T&&!S.repeating&&Dk(T,S);S.previousKeyMatched&&(R||kl(w,T,!1,l,Lm,S))?g.preventDefault():S.previousKeyMatched=!1}c&&c(g)},_=_n(f,n);let y=-1;I.Children.forEach(o,(g,w)=>{I.isValidElement(g)&&(g.props.disabled||(d==="selectedMenu"&&g.props.selected||y===-1)&&(y=w),y===w&&(g.props.disabled||g.props.muiSkipListHighlight||g.type.muiSkipListHighlight)&&(y+=1,y>=o.length&&(y=-1)))});const p=I.Children.map(o,(g,w)=>{if(w===y){const E={};return s&&(E.autoFocus=!0),g.props.tabIndex===void 0&&d==="selectedMenu"&&(E.tabIndex=0),I.cloneElement(g,E)}return g});return P.jsx(O4,b({role:"menu",ref:_,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:p}))}),L4=M4;function F4(t){return Ye("MuiPopover",t)}st("MuiPopover",["root","paper"]);const U4=["onEntering"],V4=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function bE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function TE(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function kE(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Fm(t){return typeof t=="function"?t():t}const B4=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"]},F4,e)},z4=oe(zF,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),j4=oe(kk,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),W4=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:f=16,open:m,PaperProps:v={},transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:y=g4,transitionDuration:p="auto",TransitionProps:{onEntering:g}={}}=r,w=se(r.TransitionProps,U4),E=se(r,V4),T=I.useRef(),S=_n(T,v.ref),x=b({},r,{anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:f,PaperProps:v,transformOrigin:_,TransitionComponent:y,transitionDuration:p,TransitionProps:w}),L=B4(x),R=I.useCallback(()=>{if(l==="anchorPosition")return a;const $=Fm(s),X=($&&$.nodeType===1?$:Pn(T.current).body).getBoundingClientRect();return{top:X.top+bE(X,o.vertical),left:X.left+TE(X,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),q=I.useCallback($=>({vertical:bE($,_.vertical),horizontal:TE($,_.horizontal)}),[_.horizontal,_.vertical]),ne=I.useCallback($=>{const ee={width:$.offsetWidth,height:$.offsetHeight},X=q(ee);if(l==="none")return{top:null,left:null,transformOrigin:kE(X)};const Ne=R();let de=Ne.top-X.vertical,ue=Ne.left-X.horizontal;const pe=de+ee.height,ht=ue+ee.width,Vn=eo(Fm(s)),qe=Vn.innerHeight-f,en=Vn.innerWidth-f;if(de<f){const ce=de-f;de-=ce,X.vertical+=ce}else if(pe>qe){const ce=pe-qe;de-=ce,X.vertical+=ce}if(ue<f){const ce=ue-f;ue-=ce,X.horizontal+=ce}else if(ht>en){const ce=ht-en;ue-=ce,X.horizontal+=ce}return{top:`${Math.round(de)}px`,left:`${Math.round(ue)}px`,transformOrigin:kE(X)}},[s,l,R,q,f]),[Q,V]=I.useState(m),F=I.useCallback(()=>{const $=T.current;if(!$)return;const ee=ne($);ee.top!==null&&($.style.top=ee.top),ee.left!==null&&($.style.left=ee.left),$.style.transformOrigin=ee.transformOrigin,V(!0)},[ne]),Z=($,ee)=>{g&&g($,ee),F()},Y=()=>{V(!1)};I.useEffect(()=>{m&&F()}),I.useImperativeHandle(i,()=>m?{updatePosition:()=>{F()}}:null,[m,F]),I.useEffect(()=>{if(!m)return;const $=qT(()=>{F()}),ee=eo(s);return ee.addEventListener("resize",$),()=>{$.clear(),ee.removeEventListener("resize",$)}},[s,m,F]);let D=p;p==="auto"&&!y.muiSupportAuto&&(D=void 0);const j=d||(s?Pn(Fm(s)).body:void 0);return P.jsx(z4,b({BackdropProps:{invisible:!0},className:me(L.root,c),container:j,open:m,ref:n,ownerState:x},E,{children:P.jsx(y,b({appear:!0,in:m,onEntering:Z,onExited:Y,timeout:D},w,{children:P.jsx(j4,b({elevation:h},v,{ref:S,className:me(L.paper,v.className)},Q?void 0:{style:b({},v.style,{opacity:0})},{ownerState:x,children:u}))}))}))}),q4=W4;function H4(t){return Ye("MuiMenu",t)}st("MuiMenu",["root","paper","list"]);const K4=["onEntering"],G4=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Q4={vertical:"top",horizontal:"right"},Y4={vertical:"top",horizontal:"left"},X4=t=>{const{classes:e}=t;return it({root:["root"],paper:["paper"],list:["list"]},H4,e)},J4=oe(q4,{shouldForwardProp:t=>ui(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Z4=oe(kk,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),eU=oe(L4,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),tU=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:c={},PopoverClasses:d,transitionDuration:h="auto",TransitionProps:{onEntering:f}={},variant:m="selectedMenu"}=r,v=se(r.TransitionProps,K4),_=se(r,G4),y=S0(),p=y.direction==="rtl",g=b({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:f,PaperProps:c,transitionDuration:h,TransitionProps:v,variant:m}),w=X4(g),E=i&&!o&&u,T=I.useRef(null),S=(R,q)=>{T.current&&T.current.adjustStyleForScrollbar(R,y),f&&f(R,q)},x=R=>{R.key==="Tab"&&(R.preventDefault(),l&&l(R,"tabKeyDown"))};let L=-1;return I.Children.map(s,(R,q)=>{I.isValidElement(R)&&(R.props.disabled||(m==="selectedMenu"&&R.props.selected||L===-1)&&(L=q))}),P.jsx(J4,b({onClose:l,anchorOrigin:{vertical:"bottom",horizontal:p?"right":"left"},transformOrigin:p?Q4:Y4,PaperProps:b({as:Z4},c,{classes:b({},c.classes,{root:w.paper})}),className:w.root,open:u,ref:n,transitionDuration:h,TransitionProps:b({onEntering:S},v),ownerState:g},_,{classes:d,children:P.jsx(eU,b({onKeyDown:x,actions:T,autoFocus:i&&(L===-1||o),autoFocusItem:E,variant:m},a,{className:me(w.list,a.className),children:s}))}))}),nU=tU;function rU(t){return Ye("MuiNativeSelect",t)}const iU=st("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),x0=iU,sU=["className","disabled","error","IconComponent","inputRef","variant"],oU=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${ge(n)}`,s&&"iconOpen",r&&"disabled"]};return it(a,rU,e)},Ok=({ownerState:t,theme:e})=>b({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":b({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${x0.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),aU=oe("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ui,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${x0.multiple}`]:e.multiple}]}})(Ok),$k=({ownerState:t,theme:e})=>b({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${x0.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),lU=oe("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ge(n.variant)}`],n.open&&e.iconOpen]}})($k),uU=I.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=se(e,sU),c=b({},e,{disabled:i,variant:l,error:s}),d=oU(c);return P.jsxs(I.Fragment,{children:[P.jsx(aU,b({ownerState:c,className:me(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:P.jsx(lU,{as:o,ownerState:c,className:d.icon})]})}),cU=uU;var CE;const dU=["children","classes","className","label","notched"],hU=oe("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),fU=oe("legend")(({ownerState:t,theme:e})=>b({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&b({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function pU(t){const{className:e,label:n,notched:r}=t,i=se(t,dU),s=n!=null&&n!=="",o=b({},t,{notched:r,withLabel:s});return P.jsx(hU,b({"aria-hidden":!0,className:e,ownerState:o},i,{children:P.jsx(fU,{ownerState:o,children:s?P.jsx("span",{children:n}):CE||(CE=P.jsx("span",{className:"notranslate",children:""}))})}))}const mU=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],gU=t=>{const{classes:e}=t,r=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},cF,e);return b({},e,r)},yU=oe(cp,{shouldForwardProp:t=>ui(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:lp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return b({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ii.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ii.focused} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ii.error} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ii.disabled} .${Ii.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&b({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),vU=oe(pU,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),wU=oe(dp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:up})(({theme:t,ownerState:e})=>b({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Mk=I.forwardRef(function(e,n){var r,i,s,o,a;const l=ot({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:m,slots:v={},type:_="text"}=l,y=se(l,mU),p=gU(l),g=Ya(),w=Qa({props:l,muiFormControl:g,states:["required"]}),E=b({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:g,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:_}),T=(r=(i=v.root)!=null?i:u.Root)!=null?r:yU,S=(s=(o=v.input)!=null?o:u.Input)!=null?s:wU;return P.jsx(C0,b({slots:{root:T,input:S},renderSuffix:x=>P.jsx(vU,{ownerState:E,className:p.notchedOutline,label:h!=null&&h!==""&&w.required?a||(a=P.jsxs(I.Fragment,{children:[h,"","*"]})):h,notched:typeof m<"u"?m:!!(x.startAdornment||x.filled||x.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:_},y,{classes:b({},p,{notchedOutline:null})}))});Mk.muiName="Input";const Lk=Mk;function IU(t){return Ye("MuiSelect",t)}const EU=st("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Cl=EU;var xE;const _U=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SU=oe("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Cl.select}`]:e.select},{[`&.${Cl.select}`]:e[n.variant]},{[`&.${Cl.error}`]:e.error},{[`&.${Cl.multiple}`]:e.multiple}]}})(Ok,{[`&.${Cl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),bU=oe("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${ge(n.variant)}`],n.open&&e.iconOpen]}})($k),TU=oe("input",{shouldForwardProp:t=>SM(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function RE(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function kU(t){return t==null||typeof t=="string"&&!t.trim()}const CU=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${ge(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return it(a,IU,e)},xU=I.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,error:f=!1,IconComponent:m,inputRef:v,labelId:_,MenuProps:y={},multiple:p,name:g,onBlur:w,onChange:E,onClose:T,onFocus:S,onOpen:x,open:L,readOnly:R,renderValue:q,SelectDisplayProps:ne={},tabIndex:Q,value:V,variant:F="standard"}=e,Z=se(e,_U),[Y,D]=FI({controlled:V,default:c,name:"Select"}),[j,$]=FI({controlled:L,default:u,name:"Select"}),ee=I.useRef(null),X=I.useRef(null),[Ne,de]=I.useState(null),{current:ue}=I.useRef(L!=null),[pe,ht]=I.useState(),Vn=_n(n,v),qe=I.useCallback(J=>{X.current=J,J&&de(J)},[]),en=Ne==null?void 0:Ne.parentNode;I.useImperativeHandle(Vn,()=>({focus:()=>{X.current.focus()},node:ee.current,value:Y}),[Y]),I.useEffect(()=>{u&&j&&Ne&&!ue&&(ht(o?null:en.clientWidth),X.current.focus())},[Ne,o]),I.useEffect(()=>{s&&X.current.focus()},[s]),I.useEffect(()=>{if(!_)return;const J=Pn(X.current).getElementById(_);if(J){const Pe=()=>{getSelection().isCollapsed&&X.current.focus()};return J.addEventListener("click",Pe),()=>{J.removeEventListener("click",Pe)}}},[_]);const ce=(J,Pe)=>{J?x&&x(Pe):T&&T(Pe),ue||(ht(o?null:en.clientWidth),$(J))},Xe=J=>{J.button===0&&(J.preventDefault(),X.current.focus(),ce(!0,J))},fr=J=>{ce(!1,J)},pr=I.Children.toArray(a),Tn=J=>{const Pe=pr.find(pt=>pt.props.value===J.target.value);Pe!==void 0&&(D(Pe.props.value),E&&E(J,Pe))},ys=J=>Pe=>{let pt;if(Pe.currentTarget.hasAttribute("tabindex")){if(p){pt=Array.isArray(Y)?Y.slice():[];const vs=Y.indexOf(J.props.value);vs===-1?pt.push(J.props.value):pt.splice(vs,1)}else pt=J.props.value;if(J.props.onClick&&J.props.onClick(Pe),Y!==pt&&(D(pt),E)){const vs=Pe.nativeEvent||Pe,T1=new vs.constructor(vs.type,vs);Object.defineProperty(T1,"target",{writable:!0,value:{value:pt,name:g}}),E(T1,J)}p||ce(!1,Pe)}},ft=J=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(J.key)!==-1&&(J.preventDefault(),ce(!0,J))},gi=Ne!==null&&j,fl=J=>{!gi&&w&&(Object.defineProperty(J,"target",{writable:!0,value:{value:Y,name:g}}),w(J))};delete Z["aria-invalid"];let dn,qt;const yi=[];let Zn=!1;(Ah({value:Y})||h)&&(q?dn=q(Y):Zn=!0);const Vr=pr.map(J=>{if(!I.isValidElement(J))return null;let Pe;if(p){if(!Array.isArray(Y))throw new Error(Hi(2));Pe=Y.some(pt=>RE(pt,J.props.value)),Pe&&Zn&&yi.push(J.props.children)}else Pe=RE(Y,J.props.value),Pe&&Zn&&(qt=J.props.children);return I.cloneElement(J,{"aria-selected":Pe?"true":"false",onClick:ys(J),onKeyUp:pt=>{pt.key===" "&&pt.preventDefault(),J.props.onKeyUp&&J.props.onKeyUp(pt)},role:"option",selected:Pe,value:void 0,"data-value":J.props.value})});Zn&&(p?yi.length===0?dn=null:dn=yi.reduce((J,Pe,pt)=>(J.push(Pe),pt<yi.length-1&&J.push(", "),J),[]):dn=qt);let er=pe;!o&&ue&&Ne&&(er=en.clientWidth);let Br;typeof Q<"u"?Br=Q:Br=d?null:0;const vi=ne.id||(g?`mui-component-select-${g}`:void 0),Re=b({},e,{variant:F,value:Y,open:gi,error:f}),re=CU(Re);return P.jsxs(I.Fragment,{children:[P.jsx(SU,b({ref:qe,tabIndex:Br,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":gi?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[_,vi].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:ft,onMouseDown:d||R?null:Xe,onBlur:fl,onFocus:S},ne,{ownerState:Re,className:me(ne.className,re.select,l),id:vi,children:kU(dn)?xE||(xE=P.jsx("span",{className:"notranslate",children:""})):dn})),P.jsx(TU,b({"aria-invalid":f,value:Array.isArray(Y)?Y.join(","):Y,name:g,ref:ee,"aria-hidden":!0,onChange:Tn,tabIndex:-1,disabled:d,className:re.nativeInput,autoFocus:s,ownerState:Re},Z)),P.jsx(bU,{as:m,className:re.icon,ownerState:Re}),P.jsx(nU,b({id:`menu-${g||""}`,anchorEl:en,open:gi,onClose:fr,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:b({"aria-labelledby":_,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:b({},y.PaperProps,{style:b({minWidth:er},y.PaperProps!=null?y.PaperProps.style:null)}),children:Vr}))]})}),RU=xU,AU=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],NU=t=>{const{classes:e}=t;return e},R0={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>ui(t)&&t!=="variant",slot:"Root"},PU=oe(Pk,R0)(""),DU=oe(Lk,R0)(""),OU=oe(Rk,R0)(""),Fk=I.forwardRef(function(e,n){const r=ot({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=pF,id:d,input:h,inputProps:f,label:m,labelId:v,MenuProps:_,multiple:y=!1,native:p=!1,onClose:g,onOpen:w,open:E,renderValue:T,SelectDisplayProps:S,variant:x="outlined"}=r,L=se(r,AU),R=p?cU:RU,q=Ya(),ne=Qa({props:r,muiFormControl:q,states:["variant","error"]}),Q=ne.variant||x,V=b({},r,{variant:Q,classes:o}),F=NU(V),Z=h||{standard:P.jsx(PU,{ownerState:V}),outlined:P.jsx(DU,{label:m,ownerState:V}),filled:P.jsx(OU,{ownerState:V})}[Q],Y=_n(n,Z.ref);return P.jsx(I.Fragment,{children:I.cloneElement(Z,b({inputComponent:R,inputProps:b({children:s,error:ne.error,IconComponent:c,variant:Q,type:void 0,multiple:y},p?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:_,onClose:g,onOpen:w,open:E,renderValue:T,SelectDisplayProps:b({id:d},S)},f,{classes:f?Gn(F,f.classes):F},h?h.props.inputProps:{})},y&&p&&Q==="outlined"?{notched:!0}:{},{ref:Y,className:me(Z.props.className,a)},!h&&{variant:Q},L))})});Fk.muiName="Select";const $U=Fk;function MU(t){return Ye("MuiTextField",t)}st("MuiTextField",["root"]);const LU=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],FU={standard:Pk,filled:Rk,outlined:Lk},UU=t=>{const{classes:e}=t;return it({root:["root"]},MU,e)},VU=oe(JF,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),BU=I.forwardRef(function(e,n){const r=ot({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:m,id:v,InputLabelProps:_,inputProps:y,InputProps:p,inputRef:g,label:w,maxRows:E,minRows:T,multiline:S=!1,name:x,onBlur:L,onChange:R,onClick:q,onFocus:ne,placeholder:Q,required:V=!1,rows:F,select:Z=!1,SelectProps:Y,type:D,value:j,variant:$="outlined"}=r,ee=se(r,LU),X=b({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:S,required:V,select:Z,variant:$}),Ne=UU(X),de={};$==="outlined"&&(_&&typeof _.shrink<"u"&&(de.notched=_.shrink),de.label=w),Z&&((!Y||!Y.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const ue=aD(v),pe=m&&ue?`${ue}-helper-text`:void 0,ht=w&&ue?`${ue}-label`:void 0,Vn=FU[$],qe=P.jsx(Vn,b({"aria-describedby":pe,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:S,name:x,rows:F,maxRows:E,minRows:T,type:D,value:j,id:ue,inputRef:g,onBlur:L,onChange:R,onFocus:ne,onClick:q,placeholder:Q,inputProps:y},de,p));return P.jsxs(VU,b({className:me(Ne.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:V,color:l,variant:$,ownerState:X},ee,{children:[w!=null&&w!==""&&P.jsx(k4,b({htmlFor:ue,id:ht},_,{children:w})),Z?P.jsx($U,b({"aria-describedby":pe,id:ue,labelId:ht,value:j,input:qe},Y,{children:o})):qe,m&&P.jsx(s4,b({id:pe},h,{children:m}))]}))}),AE=BU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},zU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new jU;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WU=function(t){const e=Uk(t);return Vk.encodeByteArray(e,!0)},Nh=function(t){return WU(t).replace(/\./g,"")},Bk=function(t){try{return Vk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ph(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!qU(n)||(t[n]=Ph(t[n],e[n]));return t}function qU(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=()=>HU().__FIREBASE_DEFAULTS__,GU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bk(t[1]);return e&&JSON.parse(e)},A0=()=>{try{return KU()||GU()||QU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zk=()=>{var t;return(t=A0())===null||t===void 0?void 0:t.config},YU=t=>{var e;return(e=A0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Nh(JSON.stringify(n)),Nh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function N0(){var t;const e=(t=A0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e5(){return typeof self=="object"&&self.self===self}function jk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wk(){const t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t5(){return!N0()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bu(){try{return typeof indexedDB=="object"}catch{return!1}}function n5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="FirebaseError";class an extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=r5,Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?i5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new an(i,a,r)}}function i5(t,e){return t.replace(s5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s5=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function o5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(PE(s)&&PE(o)){if(!gy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function PE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ta(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qk(t,e){const n=new a5(t,e);return n.subscribe.bind(n)}class a5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Um),i.error===void 0&&(i.error=Um),i.complete===void 0&&(i.complete=Um);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t){return t&&t._delegate?t._delegate:t}class Mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d5(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c5(t){return t===Ts?void 0:t}function d5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=[];var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const Hk={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},f5=ve.INFO,p5={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},m5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=p5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=f5,this._logHandler=m5,this._userLogHandler=null,D0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}function g5(t){D0.forEach(e=>{e.setLogLevel(t)})}function y5(t,e){for(const n of D0){let r=null;e&&e.level&&(r=Hk[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ve[s].toLowerCase(),message:a,args:o,type:i.name})}}}const v5=(t,e)=>e.some(n=>t instanceof n);let DE,OE;function w5(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I5(){return OE||(OE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kk=new WeakMap,yy=new WeakMap,Gk=new WeakMap,Vm=new WeakMap,O0=new WeakMap;function E5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Kk.set(n,t)}).catch(()=>{}),O0.set(e,t),e}function _5(t){if(yy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yy.set(t,e)}let vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S5(t){vy=t(vy)}function b5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bm(this),e,...n);return Gk.set(r,e.sort?e.sort():[e]),ji(r)}:I5().includes(t)?function(...e){return t.apply(Bm(this),e),ji(Kk.get(this))}:function(...e){return ji(t.apply(Bm(this),e))}}function T5(t){return typeof t=="function"?b5(t):(t instanceof IDBTransaction&&_5(t),v5(t,w5())?new Proxy(t,vy):t)}function ji(t){if(t instanceof IDBRequest)return E5(t);if(Vm.has(t))return Vm.get(t);const e=T5(t);return e!==t&&(Vm.set(t,e),O0.set(e,t)),e}const Bm=t=>O0.get(t);function k5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const C5=["get","getKey","getAll","getAllKeys","count"],x5=["put","add","delete","clear"],zm=new Map;function $E(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=x5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return zm.set(e,s),s}S5(t=>({...t,get:(e,n,r)=>$E(e,n)||t.get(e,n,r),has:(e,n)=>!!$E(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wy="@firebase/app",ME="0.9.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new hp("@firebase/app"),N5="@firebase/app-compat",P5="@firebase/analytics-compat",D5="@firebase/analytics",O5="@firebase/app-check-compat",$5="@firebase/app-check",M5="@firebase/auth",L5="@firebase/auth-compat",F5="@firebase/database",U5="@firebase/database-compat",V5="@firebase/functions",B5="@firebase/functions-compat",z5="@firebase/installations",j5="@firebase/installations-compat",W5="@firebase/messaging",q5="@firebase/messaging-compat",H5="@firebase/performance",K5="@firebase/performance-compat",G5="@firebase/remote-config",Q5="@firebase/remote-config-compat",Y5="@firebase/storage",X5="@firebase/storage-compat",J5="@firebase/firestore",Z5="@firebase/firestore-compat",eV="firebase",tV="9.22.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]",nV={[wy]:"fire-core",[N5]:"fire-core-compat",[D5]:"fire-analytics",[P5]:"fire-analytics-compat",[$5]:"fire-app-check",[O5]:"fire-app-check-compat",[M5]:"fire-auth",[L5]:"fire-auth-compat",[F5]:"fire-rtdb",[U5]:"fire-rtdb-compat",[V5]:"fire-fn",[B5]:"fire-fn-compat",[z5]:"fire-iid",[j5]:"fire-iid-compat",[W5]:"fire-fcm",[q5]:"fire-fcm-compat",[H5]:"fire-perf",[K5]:"fire-perf-compat",[G5]:"fire-rc",[Q5]:"fire-rc-compat",[Y5]:"fire-gcs",[X5]:"fire-gcs-compat",[J5]:"fire-fst",[Z5]:"fire-fst-compat","fire-js":"fire-js",[eV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Map,zu=new Map;function Dh(t,e){try{t.container.addComponent(e)}catch(n){no.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qk(t,e){t.container.addOrOverwriteComponent(e)}function Qi(t){const e=t.name;if(zu.has(e))return no.debug(`There were multiple attempts to register component ${e}.`),!1;zu.set(e,t);for(const n of Gi.values())Dh(n,t);return!0}function Yk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rV(t,e,n=Ki){Yk(t,e).clearInstance(n)}function iV(){zu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jr=new vo("app","Firebase",sV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oV=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=tV;function $0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ki,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jr.create("bad-app-name",{appName:String(i)});if(n||(n=zk()),!n)throw Jr.create("no-options");const s=Gi.get(i);if(s){if(gy(n,s.options)&&gy(r,s.config))return s;throw Jr.create("duplicate-app",{appName:i})}const o=new h5(i);for(const l of zu.values())o.addComponent(l);const a=new oV(n,r,o);return Gi.set(i,a),a}function aV(t=Ki){const e=Gi.get(t);if(!e&&t===Ki&&zk())return $0();if(!e)throw Jr.create("no-app",{appName:t});return e}function lV(){return Array.from(Gi.values())}async function Xk(t){const e=t.name;Gi.has(e)&&(Gi.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function Dr(t,e,n){var r;let i=(r=nV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),no.warn(a.join(" "));return}Qi(new Mr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Jk(t,e){if(t!==null&&typeof t!="function")throw Jr.create("invalid-log-argument");y5(t,e)}function Zk(t){g5(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="firebase-heartbeat-database",cV=1,ju="firebase-heartbeat-store";let jm=null;function eC(){return jm||(jm=k5(uV,cV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ju)}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),jm}async function dV(t){try{return await(await eC()).transaction(ju).objectStore(ju).get(tC(t))}catch(e){if(e instanceof an)no.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});no.warn(n.message)}}}async function LE(t,e){try{const r=(await eC()).transaction(ju,"readwrite");await r.objectStore(ju).put(e,tC(t)),await r.done}catch(n){if(n instanceof an)no.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});no.warn(r.message)}}}function tC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1024,fV=30*24*60*60*1e3;class pV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=FE();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=fV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=FE(),{heartbeatsToSend:n,unsentEntries:r}=mV(this._heartbeatsCache.heartbeats),i=Nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function FE(){return new Date().toISOString().substring(0,10)}function mV(t,e=hV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bu()?n5().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await dV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return LE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function UE(t){return Nh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){Qi(new Mr("platform-logger",e=>new R5(e),"PRIVATE")),Qi(new Mr("heartbeat",e=>new pV(e),"PRIVATE")),Dr(wy,ME,t),Dr(wy,ME,"esm2017"),Dr("fire-js","")}yV("");const vV=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:an,SDK_VERSION:us,_DEFAULT_ENTRY_NAME:Ki,_addComponent:Dh,_addOrOverwriteComponent:Qk,_apps:Gi,_clearComponents:iV,_components:zu,_getProvider:Yk,_registerComponent:Qi,_removeServiceInstance:rV,deleteApp:Xk,getApp:aV,getApps:lV,initializeApp:$0,onLog:Jk,registerVersion:Dr,setLogLevel:Zk},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this._delegate=e,this.firebase=n,Dh(e,new Mr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),Xk(this._delegate)))}_getService(e,n=Ki){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ki){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Dh(this._delegate,e)}_addOrOverwriteComponent(e){Qk(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},VE=new vo("app-compat","Firebase",IV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Dr,setLogLevel:Zk,onLog:Jk,apps:null,SDK_VERSION:us,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:vV}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Ki,!NE(e,u))throw VE.create("no-app",{appName:u});return e[u]}i.App=t;function s(u,c={}){const d=$0(u,c);if(NE(e,d.name))return e[d.name];const h=new t(d,n);return e[d.name]=h,h}function o(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,d=c.replace("-compat","");if(Qi(u)&&u.type==="PUBLIC"){const h=(f=i())=>{if(typeof f[d]!="function")throw VE.create("invalid-app-argument",{appName:c});return f[d]()};u.serviceProps!==void 0&&Ph(h,u.serviceProps),n[d]=h,t.prototype[d]=function(...f){return this._getService.bind(this,c).apply(this,u.multipleInstances?f:[])}}return u.type==="PUBLIC"?n[d]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){const t=EV(wV);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:nC,extendNamespace:e,createSubscribe:qk,ErrorFactory:vo,deepExtend:Ph});function e(n){Ph(t,n)}return t}const _V=nC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new hp("@firebase/app-compat"),SV="@firebase/app-compat",bV="0.2.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){Dr(SV,bV,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(e5()&&self.firebase!==void 0){BE.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&BE.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Ja=_V;TV();var kV="firebase",CV="9.22.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja.registerVersion(kV,CV,"app-compat");function M0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}const xl={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Do={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-password"]:"A non-empty password must be provided",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",["missing-recaptcha-token"]:"The reCAPTCHA token is missing when sending request to the backend.",["invalid-recaptcha-token"]:"The reCAPTCHA token is invalid when sending request to the backend.",["invalid-recaptcha-action"]:"The reCAPTCHA action is invalid when sending request to the backend.",["recaptcha-not-enabled"]:"reCAPTCHA Enterprise integration is not enabled for this project.",["missing-client-type"]:"The reCAPTCHA client type is missing when sending request to the backend.",["missing-recaptcha-version"]:"The reCAPTCHA version is missing when sending request to the backend.",["invalid-req-type"]:"Invalid request parameters.",["invalid-recaptcha-version"]:"The reCAPTCHA version is invalid when sending request to the backend."}}function rC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RV=xV,AV=rC,iC=new vo("auth","Firebase",rC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new hp("@firebase/auth");function NV(t,...e){Oh.logLevel<=ve.WARN&&Oh.warn(`Auth (${us}): ${t}`,...e)}function jd(t,...e){Oh.logLevel<=ve.ERROR&&Oh.error(`Auth (${us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,...e){throw L0(t,...e)}function Vt(t,...e){return L0(t,...e)}function sC(t,e,n){const r=Object.assign(Object.assign({},AV()),{[e]:n});return new vo("auth","Firebase",r).create(e,{appName:t.name})}function Za(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&jt(t,"argument-error"),sC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function L0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iC.create(t,...e)}function M(t,e,...n){if(!t)throw L0(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jd(e),new Error(e)}function cr(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F0(){return zE()==="http:"||zE()==="https:"}function zE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F0()||jk()||"connection"in navigator)?navigator.onLine:!0}function DV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=ZU()||P0()}get(){return PV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new Ec(3e4,6e4);function wt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function St(t,e,n,r,i={}){return aC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Xa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),oC.fetch()(lC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function aC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OV),e);try{const i=new MV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ql(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sC(t,c,u);jt(t,c)}}catch(i){if(i instanceof an)throw i;jt(t,"network-request-failed",{message:String(i)})}}async function di(t,e,n,r,i={}){const s=await St(t,e,n,r,i);return"mfaPendingCredential"in s&&jt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function lC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?U0(t.config,i):`${t.config.apiScheme}://${i}`}class MV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vt(this.auth,"network-request-failed")),$V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(t,e){return St(t,"POST","/v1/accounts:delete",e)}async function FV(t,e){return St(t,"POST","/v1/accounts:update",e)}async function UV(t,e){return St(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VV(t,e=!1){const n=te(t),r=await n.getIdToken(e),i=fp(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:cu(Wm(i.auth_time)),issuedAtTime:cu(Wm(i.iat)),expirationTime:cu(Wm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Wm(t){return Number(t)*1e3}function fp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Bk(n);return i?JSON.parse(i):(jd("Failed to decode base64 JWT payload"),null)}catch(i){return jd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BV(t){const e=fp(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function si(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof an&&zV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await si(t,UV(n,{idToken:r}));M(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?HV(s.providerUserInfo):[],a=qV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function WV(t){const e=te(t);await qu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HV(t){return t.map(e=>{var{providerId:n}=e,r=M0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){const n=await aC(t,{},async()=>{const r=Xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return M(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await KV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hu;return r&&(M(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(M(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(M(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hu,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){M(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ws{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=M0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await si(this,this.stsTokenManager.getToken(this.auth,e));return M(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VV(this,e)}reload(){return WV(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ws(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await si(this,LV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:w,isAnonymous:E,providerData:T,stsTokenManager:S}=n;M(g&&S,e,"internal-error");const x=Hu.fromJSON(this.name,S);M(typeof g=="string",e,"internal-error"),Ei(d,e.name),Ei(h,e.name),M(typeof w=="boolean",e,"internal-error"),M(typeof E=="boolean",e,"internal-error"),Ei(f,e.name),Ei(m,e.name),Ei(v,e.name),Ei(_,e.name),Ei(y,e.name),Ei(p,e.name);const L=new Ws({uid:g,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:E,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:p});return T&&Array.isArray(T)&&(L.providerData=T.map(R=>Object.assign({},R))),_&&(L._redirectEventId=_),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hu;i.updateFromServerResponse(n);const s=new Ws({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=new Map;function An(t){cr(t instanceof Function,"Expected a class definition");let e=jE.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cC.type="NONE";const Aa=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t,e,n){return`firebase:${t}:${e}:${n}`}class da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qs(this.userKey,i.apiKey,s),this.fullPersistenceKey=qs("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ws._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new da(An(Aa),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||An(Aa);const o=qs(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ws._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new da(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new da(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pC(e))return"Blackberry";if(mC(e))return"Webos";if(V0(e))return"Safari";if((e.includes("chrome/")||hC(e))&&!e.includes("edge/"))return"Chrome";if(_c(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dC(t=Qe()){return/firefox\//i.test(t)}function V0(t=Qe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hC(t=Qe()){return/crios\//i.test(t)}function fC(t=Qe()){return/iemobile/i.test(t)}function _c(t=Qe()){return/android/i.test(t)}function pC(t=Qe()){return/blackberry/i.test(t)}function mC(t=Qe()){return/webos/i.test(t)}function el(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GV(t=Qe()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function QV(t=Qe()){var e;return el(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YV(){return Wk()&&document.documentMode===10}function gC(t=Qe()){return el(t)||_c(t)||mC(t)||pC(t)||/windows phone/i.test(t)||fC(t)}function XV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e=[]){let n;switch(t){case"Browser":n=WE(Qe());break;case"Worker":n=`${WE(Qe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t){return(await St(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function vC(t,e){return St(t,"GET","/v2/recaptchaConfig",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t){return t!==void 0&&t.getResponse!==void 0}function HE(t){return t!==void 0&&t.enterprise!==void 0}class wC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function B0(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ZV().appendChild(r)})}function IC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const eB="https://www.google.com/recaptcha/enterprise.js?render=",tB="recaptcha-enterprise",nB="NO_RECAPTCHA";class EC{constructor(e){this.type=tB,this.auth=dt(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{vC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new wC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;HE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(nB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&HE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}B0(eB+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Yi(t,e,n,r=!1){const i=new EC(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KE(this),this.idTokenSubscription=new KE(this),this.beforeStateQueue=new rB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await da.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?te(e):null;return n&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}async initializeRecaptchaConfig(){const e=await vC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new wC(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new EC(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;M(n,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function dt(t){return te(t)}class KE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qk(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(An);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oB(t,e,n){const r=dt(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=_C(e),{host:o,port:a}=aB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||lB()}function _C(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aB(t){const e=_C(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:GE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:GE(o)}}}function GE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t,e){return St(t,"POST","/v1/accounts:resetPassword",wt(t,e))}async function bC(t,e){return St(t,"POST","/v1/accounts:update",e)}async function uB(t,e){return St(t,"POST","/v1/accounts:update",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(t,e){return di(t,"POST","/v1/accounts:signInWithPassword",wt(t,e))}async function pp(t,e){return St(t,"POST","/v1/accounts:sendOobCode",wt(t,e))}async function cB(t,e){return pp(t,e)}async function Hm(t,e){return pp(t,e)}async function Km(t,e){return pp(t,e)}async function dB(t,e){return pp(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e){return di(t,"POST","/v1/accounts:signInWithEmailLink",wt(t,e))}async function fB(t,e){return di(t,"POST","/v1/accounts:signInWithEmailLink",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends tl{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Yi(e,r,"signInWithPassword");return qm(e,i)}else return qm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Yi(e,r,"signInWithPassword");return qm(e,s)}else return Promise.reject(i)});case"emailLink":return hB(e,{email:this._email,oobCode:this._password});default:jt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return bC(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return fB(e,{idToken:n,email:this._email,oobCode:this._password});default:jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zr(t,e){return di(t,"POST","/v1/accounts:signInWithIdp",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB="http://localhost";class Lr extends tl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=M0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Lr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zr(e,n)}buildRequest(){const e={requestUri:pB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){return St(t,"POST","/v1/accounts:sendVerificationCode",wt(t,e))}async function gB(t,e){return di(t,"POST","/v1/accounts:signInWithPhoneNumber",wt(t,e))}async function yB(t,e){const n=await di(t,"POST","/v1/accounts:signInWithPhoneNumber",wt(t,e));if(n.temporaryProof)throw ql(t,"account-exists-with-different-credential",n);return n}const vB={USER_NOT_FOUND:"user-not-found"};async function wB(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return di(t,"POST","/v1/accounts:signInWithPhoneNumber",wt(t,n),vB)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends tl{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Hs({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Hs({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return gB(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return yB(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return wB(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Hs({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EB(t){const e=ta(Wl(t)).link,n=e?ta(Wl(e)).deep_link_id:null,r=ta(Wl(t)).deep_link_id;return(r?ta(Wl(r)).link:null)||r||n||e||t}class mp{constructor(e){var n,r,i,s,o,a;const l=ta(Wl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=IB((i=l.mode)!==null&&i!==void 0?i:null);M(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=EB(e);try{return new mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.providerId=cs.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=mp.parseLink(n);return M(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}cs.PROVIDER_ID="password";cs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ha extends nl{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return M("providerId"in n&&"signInMethod"in n,"argument-error"),Lr._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return M(e.idToken||e.accessToken,"argument-error"),Lr._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ha.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ha.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new ha(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends nl{constructor(){super("facebook.com")}static credential(e){return Lr._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Er.credential(e.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lr._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends nl{constructor(){super("github.com")}static credential(e){return Lr._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="http://localhost";class Na extends tl{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Zr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zr(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Na(r,s)}static _create(e,n){return new Na(e,n)}buildRequest(){return{requestUri:_B,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="saml.";class $h extends hi{constructor(e){M(e.startsWith(SB),"argument-error"),super(e)}static credentialFromResult(e){return $h.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return $h.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Na.fromJSON(e);return M(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Na._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends nl{constructor(){super("twitter.com")}static credential(e,n){return Lr._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return br.credential(n,r)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t,e){return di(t,"POST","/v1/accounts:signUp",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ws._fromIdTokenResponse(e,r,i),o=QE(r);return new Xn({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=QE(r);return new Xn({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function QE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bB(t){var e;const n=dt(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Xn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Wd(n,{returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends an{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mh(e,n,r,i)}}function TC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TB(t,e){const n=te(t);await gp(!0,n,e);const{providerUserInfo:r}=await FV(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=kC(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function z0(t,e,n=!1){const r=await si(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xn._forOperation(t,"link",r)}async function gp(t,e,n){await qu(e);const r=kC(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";M(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await si(t,TC(r,i,e,t),n);M(s.idToken,r,"internal-error");const o=fp(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),Xn._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&jt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(t,e,n=!1){const r="signIn",i=await TC(t,r,e),s=await Xn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yp(t,e){return xC(dt(t),e)}async function RC(t,e){const n=te(t);return await gp(!1,n,e.providerId),z0(n,e)}async function AC(t,e){return CC(te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kB(t,e){return di(t,"POST","/v1/accounts:signInWithCustomToken",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e){const n=dt(t),r=await kB(n,{token:e,returnSecureToken:!0}),i=await Xn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?j0._fromServerResponse(e,n):"totpInfo"in n?W0._fromServerResponse(e,n):jt(e,"internal-error")}}class j0 extends Sc{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new j0(n)}}class W0 extends Sc{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new W0(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e,n){var r;M(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),M(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(M(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(M(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xB(t,e,n){var r;const i=dt(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Yi(i,s,"getOobCode",!0);n&&fa(i,o,n),await Hm(i,o)}else n&&fa(i,s,n),await Hm(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Yi(i,s,"getOobCode",!0);n&&fa(i,a,n),await Hm(i,a)}else return Promise.reject(o)})}async function RB(t,e,n){await SC(te(t),{oobCode:e,newPassword:n})}async function AB(t,e){await uB(te(t),{oobCode:e})}async function NC(t,e){const n=te(t),r=await SC(n,{oobCode:e}),i=r.requestType;switch(M(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":M(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":M(r.mfaInfo,n,"internal-error");default:M(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Sc._fromServerResponse(dt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function NB(t,e){const{data:n}=await NC(te(t),e);return n.email}async function PB(t,e,n){var r;const i=dt(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Yi(i,s,"signUpPassword");o=Wd(i,u)}else o=Wd(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Yi(i,s,"signUpPassword");return Wd(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await Xn._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function DB(t,e,n){return yp(te(t),cs.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB(t,e,n){var r;const i=dt(t),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(a,l){M(l.handleCodeInApp,i,"argument-error"),l&&fa(i,a,l)}if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const a=await Yi(i,s,"getOobCode",!0);o(a,n),await Km(i,a)}else o(s,n),await Km(i,s).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const l=await Yi(i,s,"getOobCode",!0);o(l,n),await Km(i,l)}else return Promise.reject(a)})}function $B(t,e){const n=mp.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function MB(t,e,n){const r=te(t),i=cs.credentialWithLink(e,n||Wu());return M(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),yp(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(t,e){return St(t,"POST","/v1/accounts:createAuthUri",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FB(t,e){const n=F0()?Wu():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await LB(te(t),r);return i||[]}async function UB(t,e){const n=te(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&fa(n.auth,i,e);const{email:s}=await cB(n.auth,i);s!==t.email&&await t.reload()}async function VB(t,e,n){const r=te(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&fa(r.auth,s,n);const{email:o}=await dB(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BB(t,e){return St(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zB(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=te(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await si(r,BB(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function jB(t,e){return PC(te(t),e,null)}function WB(t,e){return PC(te(t),null,e)}async function PC(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await si(t,bC(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=fp(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new pa(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new HB(s,i);case"github.com":return new KB(s,i);case"google.com":return new GB(s,i);case"twitter.com":return new QB(s,i,t.screenName||null);case"custom":case"anonymous":return new pa(s,null);default:return new pa(s,r,i)}}class pa{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class DC extends pa{constructor(e,n,r,i){super(e,n,r),this.username=i}}class HB extends pa{constructor(e,n){super(e,"facebook.com",n)}}class KB extends DC{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class GB extends pa{constructor(e,n){super(e,"google.com",n)}}class QB extends DC{constructor(e,n,r){super(e,"twitter.com",n,r)}}function YB(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:qB(n)}class Ls{constructor(e,n,r){this.type=e,this.credential=n,this.auth=r}static _fromIdtoken(e,n){return new Ls("enroll",e,n)}static _fromMfaPendingCredential(e){return new Ls("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return Ls._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ls._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=dt(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Sc._fromServerResponse(r,a));M(i.mfaPendingCredential,r,"internal-error");const o=Ls._fromMfaPendingCredential(i.mfaPendingCredential);return new q0(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const u=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const c=await Xn._fromIdTokenResponse(r,n.operationType,u);return await r._updateCurrentUser(c.user),c;case"reauthenticate":return M(n.user,r,"internal-error"),Xn._forOperation(n.user,n.operationType,u);default:jt(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function XB(t,e){var n;const r=te(t),i=e;return M(e.customData.operationType,r,"argument-error"),M((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),q0._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e){return St(t,"POST","/v2/accounts/mfaEnrollment:start",wt(t,e))}function ZB(t,e){return St(t,"POST","/v2/accounts/mfaEnrollment:finalize",wt(t,e))}function ez(t,e){return St(t,"POST","/v2/accounts/mfaEnrollment:withdraw",wt(t,e))}class H0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Sc._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new H0(e)}async getSession(){return Ls._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,n){const r=e,i=await this.getSession(),s=await si(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await si(this.user,ez(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Gm=new WeakMap;function tz(t){const e=te(t);return Gm.has(e)||Gm.set(e,H0._fromUser(e)),Gm.get(e)}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nz(){const t=Qe();return V0(t)||el(t)}const rz=1e3,iz=10;class $C extends OC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=nz()&&XV(),this.fallbackToPolling=gC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$C.type="LOCAL";const K0=$C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends OC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MC.type="SESSION";const ro=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await sz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=bc("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return window}function az(t){gt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(){return typeof gt().WorkerGlobalScope<"u"&&typeof gt().importScripts=="function"}async function lz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cz(){return G0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebaseLocalStorageDb",dz=1,Fh="firebaseLocalStorage",FC="fbase_key";class Tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wp(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function hz(){const t=indexedDB.deleteDatabase(LC);return new Tc(t).toPromise()}function Iy(){const t=indexedDB.open(LC,dz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:FC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await hz(),e(await Iy()))})})}async function YE(t,e,n){const r=wp(t,!0).put({[FC]:e,value:n});return new Tc(r).toPromise()}async function fz(t,e){const n=wp(t,!1).get(e),r=await new Tc(n).toPromise();return r===void 0?null:r.value}function XE(t,e){const n=wp(t,!0).delete(e);return new Tc(n).toPromise()}const pz=800,mz=3;class UC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return G0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vp._getInstance(cz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lz(),!this.activeServiceWorker)return;this.sender=new oz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await YE(e,Lh,"1"),await XE(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>fz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>XE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wp(i,!1).getAll();return new Tc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UC.type="LOCAL";const Gu=UC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t,e){return St(t,"POST","/v2/accounts/mfaSignIn:start",wt(t,e))}function yz(t,e){return St(t,"POST","/v2/accounts/mfaSignIn:finalize",wt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=500,wz=6e4,md=1e12;class Iz{constructor(e){this.auth=e,this.counter=md,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Ez(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||md;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||md;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||md;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Ez{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;M(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=_z(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},wz)},vz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function _z(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=IC("rcb"),Sz=new Ec(3e4,6e4),bz="https://www.google.com/recaptcha/api.js?";class Tz{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=gt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return M(kz(n),e,"argument-error"),this.shouldResolveImmediately(n)&&qE(gt().grecaptcha)?Promise.resolve(gt().grecaptcha):new Promise((r,i)=>{const s=gt().setTimeout(()=>{i(Vt(e,"network-request-failed"))},Sz.get());gt()[Qm]=()=>{gt().clearTimeout(s),delete gt()[Qm];const a=gt().grecaptcha;if(!a||!qE(a)){i(Vt(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${bz}?${Xa({onload:Qm,render:"explicit",hl:n})}`;B0(o).catch(()=>{clearTimeout(s),i(Vt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=gt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function kz(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Cz{async load(e){return new Iz(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="recaptcha",xz={theme:"light",type:"image"};let Rz=class{constructor(e,n=Object.assign({},xz),r){this.parameters=n,this.type=VC,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dt(r),this.isInvisible=this.parameters.size==="invisible",M(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;M(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cz:new Tz,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){M(!this.parameters.sitekey,this.auth,"argument-error"),M(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),M(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=gt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){M(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){M(F0()&&!G0(),this.auth,"internal-error"),await Az(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await JV(this.auth);M(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return M(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Az(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Hs._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Nz(t,e,n){const r=dt(t),i=await Ip(r,e,te(n));return new Q0(i,s=>yp(r,s))}async function Pz(t,e,n){const r=te(t);await gp(!1,r,"phone");const i=await Ip(r.auth,e,te(n));return new Q0(i,s=>RC(r,s))}async function Dz(t,e,n){const r=te(t),i=await Ip(r.auth,e,te(n));return new Q0(i,s=>AC(r,s))}async function Ip(t,e,n){var r;const i=await n.verify();try{M(typeof i=="string",t,"argument-error"),M(n.type===VC,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return M(o.type==="enroll",t,"internal-error"),(await JB(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{M(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return M(a,t,"missing-multi-factor-info"),(await gz(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await mB(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function Oz(t,e){await z0(te(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io=class qd{constructor(e){this.providerId=qd.PROVIDER_ID,this.auth=dt(e)}verifyPhoneNumber(e,n){return Ip(this.auth,e,te(n))}static credential(e,n){return Hs._fromVerification(e,n)}static credentialFromResult(e){const n=e;return qd.credentialFromTaggedObject(n)}static credentialFromError(e){return qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Hs._fromTokenResponse(n,r):null}};io.PROVIDER_ID="phone";io.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,e){return e?An(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0 extends tl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $z(t){return xC(t.auth,new Y0(t),t.bypassAuthState)}function Mz(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),CC(n,new Y0(t),t.bypassAuthState)}async function Lz(t){const{auth:e,user:n}=t;return M(n,e,"internal-error"),z0(n,new Y0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $z;case"linkViaPopup":case"linkViaRedirect":return Lz;case"reauthViaPopup":case"reauthViaRedirect":return Mz;default:jt(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=new Ec(2e3,1e4);async function Uz(t,e,n){const r=dt(t);Za(t,e,hi);const i=wo(r,n);return new Hr(r,"signInViaPopup",e,i).executeNotNull()}async function Vz(t,e,n){const r=te(t);Za(r.auth,e,hi);const i=wo(r.auth,n);return new Hr(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Bz(t,e,n){const r=te(t);Za(r.auth,e,hi);const i=wo(r.auth,n);return new Hr(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Hr extends BC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return M(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=bc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fz.get())};e()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz="pendingRedirect",du=new Map;class jz extends BC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=du.get(this.auth._key());if(!e){try{const r=await Wz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}du.set(this.auth._key(),e)}return this.bypassAuthState||du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Wz(t,e){const n=jC(e),r=zC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function X0(t,e){return zC(t)._set(jC(e),"true")}function qz(){du.clear()}function J0(t,e){du.set(t._key(),e)}function zC(t){return An(t._redirectPersistence)}function jC(t){return qs(zz,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e,n){return Kz(t,e,n)}async function Kz(t,e,n){const r=dt(t);Za(t,e,hi),await r._initializationPromise;const i=wo(r,n);return await X0(i,r),i._openRedirect(r,e,"signInViaRedirect")}function Gz(t,e,n){return Qz(t,e,n)}async function Qz(t,e,n){const r=te(t);Za(r.auth,e,hi),await r.auth._initializationPromise;const i=wo(r.auth,n);await X0(i,r.auth);const s=await WC(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function Yz(t,e,n){return Xz(t,e,n)}async function Xz(t,e,n){const r=te(t);Za(r.auth,e,hi),await r.auth._initializationPromise;const i=wo(r.auth,n);await gp(!1,r,e.providerId),await X0(i,r.auth);const s=await WC(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function Jz(t,e){return await dt(t)._initializationPromise,Ep(t,e,!1)}async function Ep(t,e,n=!1){const r=dt(t),i=wo(r,e),o=await new jz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function WC(t){const e=bc(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=10*60*1e3;class qC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zz&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(e))}saveEventToCache(e){this.cachedEventUids.add(JE(e)),this.lastProcessedEventTime=Date.now()}}function JE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(t,e={}){return St(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n3=/^https?/;async function r3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KC(t);for(const n of e)try{if(i3(n))return}catch{}jt(t,"unauthorized-domain")}function i3(t){const e=Wu(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!n3.test(n))return!1;if(t3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new Ec(3e4,6e4);function ZE(){const t=gt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o3(t){return new Promise((e,n)=>{var r,i,s;function o(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),n(Vt(t,"network-request-failed"))},timeout:s3.get()})}if(!((i=(r=gt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gt().gapi)===null||s===void 0)&&s.load)o();else{const a=IC("iframefcb");return gt()[a]=()=>{gapi.load?o():n(Vt(t,"network-request-failed"))},B0(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function a3(t){return Hd=Hd||o3(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Ec(5e3,15e3),u3="__/auth/iframe",c3="emulator/auth/iframe",d3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f3(t){const e=t.config;M(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?U0(e,c3):`https://${t.config.authDomain}/${u3}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=h3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xa(r).slice(1)}`}async function p3(t){const e=await a3(t),n=gt().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:f3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vt(t,"network-request-failed"),a=gt().setTimeout(()=>{s(o)},l3.get());function l(){gt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g3=500,y3=600,v3="_blank",w3="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I3(t,e,n,r=g3,i=y3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},m3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Qe().toLowerCase();n&&(a=hC(u)?v3:n),dC(u)&&(e=e||w3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(QV(u)&&a!=="_self")return E3(e||"",a),new e_(null);const d=window.open(e||"",a,c);M(d,t,"popup-blocked");try{d.focus()}catch{}return new e_(d)}function E3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="__/auth/handler",S3="emulator/auth/handler",b3=encodeURIComponent("fac");async function Ey(t,e,n,r,i,s){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof hi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",o5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof nl){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${b3}=${encodeURIComponent(l)}`:"";return`${T3(t)}?${Xa(a).slice(1)}${u}`}function T3({config:t}){return t.emulator?U0(t,S3):`https://${t.authDomain}/${_3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="webStorageSupport";class k3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ro,this._completeRedirectFn=Ep,this._overrideRedirectResult=J0}async _openPopup(e,n,r,i){var s;cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Ey(e,n,r,Wu(),i);return I3(e,o,bc())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Ey(e,n,r,Wu(),i);return az(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(cr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await p3(e),r=new qC(e);return n.register("authEvent",i=>(M(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ym,{type:Ym},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ym];o!==void 0&&n(!!o),jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gC()||V0()||el()}}const C3=k3;class x3{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return kr("unexpected MultiFactorSessionType")}}}class Z0 extends x3{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Z0(e)}_finalizeEnroll(e,n,r){return ZB(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return yz(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class GC{constructor(){}static assertion(e){return Z0._fromCredential(e)}}GC.FACTOR_ID="phone";var t_="@firebase/auth",n_="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function N3(t){Qi(new Mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yC(t)},u=new iB(r,i,s,l);return sB(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new Mr("auth-internal",e=>{const n=dt(e.getProvider("auth").getImmediate());return(r=>new R3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(t_,n_,A3(t)),Dr(t_,n_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=5*60;YU("authIdTokenMaxAge");N3("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=2e3;async function O3(t,e,n){var r;const{BuildInfo:i}=so();cr(e.sessionId,"AuthEvent did not contain a session ID");const s=await U3(e.sessionId),o={};return el()?o.ibi=i.packageName:_c()?o.apn=i.packageName:jt(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Ey(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function $3(t){const{BuildInfo:e}=so(),n={};el()?n.iosBundleId=e.packageName:_c()?n.androidPackageName=e.packageName:jt(t,"operation-not-supported-in-this-environment"),await KC(t,n)}function M3(t){const{cordova:e}=so();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,GV()?"_blank":"_system","location=yes"),n(i)})})}async function L3(t,e,n){const{cordova:r}=so();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const h=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof h=="function"&&h(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(Vt(t,"redirect-cancelled-by-user"))},D3))}function c(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(l),document.addEventListener("resume",u,!1),_c()&&document.addEventListener("visibilitychange",c,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}}function F3(t){var e,n,r,i,s,o,a,l,u,c;const d=so();M(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),M(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),M(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),M(typeof((c=(u=d==null?void 0:d.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||c===void 0?void 0:c.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function U3(t){const e=V3(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function V3(t){if(cr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=20;class z3 extends qC{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function j3(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:H3(),postBody:null,tenantId:t.tenantId,error:Vt(t,"no-auth-event")}}function W3(t,e){return _y()._set(Sy(t),e)}async function r_(t){const e=await _y()._get(Sy(t));return e&&await _y()._remove(Sy(t)),e}function q3(t,e){var n,r;const i=G3(e);if(i.includes("/__/auth/callback")){const s=Kd(i),o=s.firebaseError?K3(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Vt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function H3(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<B3;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function _y(){return An(K0)}function Sy(t){return qs("authEvent",t.config.apiKey,t.name)}function K3(t){try{return JSON.parse(t)}catch{return null}}function G3(t){const e=Kd(t),n=e.link?decodeURIComponent(e.link):void 0,r=Kd(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Kd(i).link||i||r||n||t}function Kd(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return ta(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=500;class Y3{constructor(){this._redirectPersistence=ro,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ep,this._overrideRedirectResult=J0}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new z3(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){jt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){F3(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),qz(),await this._originValidation(e);const o=j3(e,r,i);await W3(e,o);const a=await O3(e,o,n),l=await M3(a);return L3(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$3(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=so(),o=setTimeout(async()=>{await r_(e),n.onEvent(i_())},Q3),a=async c=>{clearTimeout(o);const d=await r_(e);let h=null;d&&(c!=null&&c.url)&&(h=q3(d,c.url)),n.onEvent(h||i_())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;so().handleOpenURL=async c=>{if(c.toLowerCase().startsWith(u)&&a({url:c}),typeof l=="function")try{l(c)}catch(d){console.error(d)}}}}const X3=Y3;function i_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t,e){dt(t)._logFramework(e)}var Z3="@firebase/auth-compat",e9="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9=1e3;function hu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function n9(){return hu()==="http:"||hu()==="https:"}function QC(t=Qe()){return!!((hu()==="file:"||hu()==="ionic:"||hu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function r9(){return P0()||N0()}function i9(){return Wk()&&(document==null?void 0:document.documentMode)===11}function s9(t=Qe()){return/Edge\/\d+/.test(t)}function o9(t=Qe()){return i9()||s9(t)}function YC(){try{const t=self.localStorage,e=bc();if(t)return t.setItem(e,"1"),t.removeItem(e),o9()?Bu():!0}catch{return ew()&&Bu()}return!1}function ew(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Xm(){return(n9()||jk()||QC())&&!r9()&&YC()&&!ew()}function XC(){return QC()&&typeof document<"u"}async function a9(){return XC()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},t9);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function l9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn={LOCAL:"local",NONE:"none",SESSION:"session"},Rl=M,JC="persistence";function u9(t,e){if(Rl(Object.values(Cn).includes(e),t,"invalid-persistence-type"),P0()){Rl(e!==Cn.SESSION,t,"unsupported-persistence-type");return}if(N0()){Rl(e===Cn.NONE,t,"unsupported-persistence-type");return}if(ew()){Rl(e===Cn.NONE||e===Cn.LOCAL&&Bu(),t,"unsupported-persistence-type");return}Rl(e===Cn.NONE||YC(),t,"unsupported-persistence-type")}async function by(t){await t._initializationPromise;const e=ZC(),n=qs(JC,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function c9(t,e){const n=ZC();if(!n)return[];const r=qs(JC,t,e);switch(n.getItem(r)){case Cn.NONE:return[Aa];case Cn.LOCAL:return[Gu,ro];case Cn.SESSION:return[ro];default:return[]}}function ZC(){var t;try{return((t=l9())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=M;class Di{constructor(){this.browserResolver=An(C3),this.cordovaResolver=An(X3),this.underlyingResolver=null,this._redirectPersistence=ro,this._completeRedirectFn=Ep,this._overrideRedirectResult=J0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return XC()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return d9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await a9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){return t.unwrap()}function h9(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){return tx(t)}function p9(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new m9(t,XB(t,e))}else if(r){const i=tx(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function tx(t){const{_tokenResponse:e}=t instanceof an?t.customData:t;if(!e)return null;if(!(t instanceof an)&&"temporaryProof"in e&&"phoneNumber"in e)return io.credentialFromResult(t);const n=e.providerId;if(!n||n===xl.PASSWORD)return null;let r;switch(n){case xl.GOOGLE:r=_r;break;case xl.FACEBOOK:r=Er;break;case xl.GITHUB:r=Sr;break;case xl.TWITTER:r=br;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Na._create(n,a):Lr._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new ha(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof an?r.credentialFromError(t):r.credentialFromResult(t)}function hn(t,e){return e.catch(n=>{throw n instanceof an&&p9(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:f9(n),additionalUserInfo:YB(n),user:Kr.getOrCreate(i)}})}async function Ty(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>hn(t,n.confirm(r))}}class m9{constructor(e,n){this.resolver=n,this.auth=h9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return hn(ex(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._delegate=e,this.multiFactor=tz(e)}static getOrCreate(e){return Kr.USER_MAP.has(e)||Kr.USER_MAP.set(e,new Kr(e)),Kr.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return hn(this.auth,RC(this._delegate,e))}async linkWithPhoneNumber(e,n){return Ty(this.auth,Pz(this._delegate,e,n))}async linkWithPopup(e){return hn(this.auth,Bz(this._delegate,e,Di))}async linkWithRedirect(e){return await by(dt(this.auth)),Yz(this._delegate,e,Di)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return hn(this.auth,AC(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Ty(this.auth,Dz(this._delegate,e,n))}reauthenticateWithPopup(e){return hn(this.auth,Vz(this._delegate,e,Di))}async reauthenticateWithRedirect(e){return await by(dt(this.auth)),Gz(this._delegate,e,Di)}sendEmailVerification(e){return UB(this._delegate,e)}async unlink(e){return await TB(this._delegate,e),this}updateEmail(e){return jB(this._delegate,e)}updatePassword(e){return WB(this._delegate,e)}updatePhoneNumber(e){return Oz(this._delegate,e)}updateProfile(e){return zB(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return VB(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kr.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=M;class ky{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Al(r,"invalid-api-key",{appName:e.name}),Al(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Di:void 0;this._delegate=n.initialize({options:{persistence:g9(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(RV),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){oB(this._delegate,e,n)}applyActionCode(e){return AB(this._delegate,e)}checkActionCode(e){return NC(this._delegate,e)}confirmPasswordReset(e,n){return RB(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return hn(this._delegate,PB(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return FB(this._delegate,e)}isSignInWithEmailLink(e){return $B(this._delegate,e)}async getRedirectResult(){Al(Xm(),this._delegate,"operation-not-supported-in-this-environment");const e=await Jz(this._delegate,Di);return e?hn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){J3(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=s_(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=s_(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return OB(this._delegate,e,n)}sendPasswordResetEmail(e,n){return xB(this._delegate,e,n||void 0)}async setPersistence(e){u9(this._delegate,e);let n;switch(e){case Cn.SESSION:n=ro;break;case Cn.LOCAL:n=await An(Gu)._isAvailable()?Gu:K0;break;case Cn.NONE:n=Aa;break;default:return jt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return hn(this._delegate,bB(this._delegate))}signInWithCredential(e){return hn(this._delegate,yp(this._delegate,e))}signInWithCustomToken(e){return hn(this._delegate,CB(this._delegate,e))}signInWithEmailAndPassword(e,n){return hn(this._delegate,DB(this._delegate,e,n))}signInWithEmailLink(e,n){return hn(this._delegate,MB(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Ty(this._delegate,Nz(this._delegate,e,n))}async signInWithPopup(e){return Al(Xm(),this._delegate,"operation-not-supported-in-this-environment"),hn(this._delegate,Uz(this._delegate,e,Di))}async signInWithRedirect(e){return Al(Xm(),this._delegate,"operation-not-supported-in-this-environment"),await by(this._delegate),Hz(this._delegate,e,Di)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return NB(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}ky.Persistence=Cn;function s_(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Kr.getOrCreate(o)),error:e,complete:n}}function g9(t,e){const n=c9(t,e);if(typeof self<"u"&&!n.includes(Gu)&&n.push(Gu),typeof window<"u")for(const r of[K0,ro])n.includes(r)||n.push(r);return n.includes(Aa)||n.push(Aa),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.providerId="phone",this._delegate=new io(ex(Ja.auth()))}static credential(e,n){return io.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}tw.PHONE_SIGN_IN_METHOD=io.PHONE_SIGN_IN_METHOD;tw.PROVIDER_ID=io.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=M;class v9{constructor(e,n,r=Ja.app()){var i;y9((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Rz(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="auth-compat";function I9(t){t.INTERNAL.registerComponent(new Mr(w9,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new ky(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Do.EMAIL_SIGNIN,PASSWORD_RESET:Do.PASSWORD_RESET,RECOVER_EMAIL:Do.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Do.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Do.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Do.VERIFY_EMAIL}},EmailAuthProvider:cs,FacebookAuthProvider:Er,GithubAuthProvider:Sr,GoogleAuthProvider:_r,OAuthProvider:ha,SAMLAuthProvider:$h,PhoneAuthProvider:tw,PhoneMultiFactorGenerator:GC,RecaptchaVerifier:v9,TwitterAuthProvider:br,Auth:ky,AuthCredential:tl,Error:an}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Z3,e9)}I9(Ja);var E9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,nw=nw||{},ie=E9||self;function Uh(){}function _p(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function kc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _9(t){return Object.prototype.hasOwnProperty.call(t,Jm)&&t[Jm]||(t[Jm]=++S9)}var Jm="closure_uid_"+(1e9*Math.random()>>>0),S9=0;function b9(t,e,n){return t.call.apply(t.bind,arguments)}function T9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=b9:Xt=T9,Xt.apply(null,arguments)}function gd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ds(){this.s=this.s,this.o=this.o}var k9=0;ds.prototype.s=!1;ds.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),k9!=0)&&_9(this)};ds.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function rw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function o_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(_p(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var C9=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",Uh,e),ie.removeEventListener("test",Uh,e)}catch{}return t}();function Vh(t){return/^[\s\xa0]*$/.test(t)}var a_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Zm(t,e){return t<e?-1:t>e?1:0}function Sp(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function Tr(t){return Sp().indexOf(t)!=-1}function iw(t){return iw[" "](t),t}iw[" "]=Uh;function rx(t,e,n){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:t[e]=n(e)}var x9=Tr("Opera"),Pa=Tr("Trident")||Tr("MSIE"),ix=Tr("Edge"),Cy=ix||Pa,sx=Tr("Gecko")&&!(Sp().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),R9=Sp().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge");function ox(){var t=ie.document;return t?t.documentMode:void 0}var Bh;e:{var eg="",tg=function(){var t=Sp();if(sx)return/rv:([^\);]+)(\)|;)/.exec(t);if(ix)return/Edge\/([\d\.]+)/.exec(t);if(Pa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(R9)return/WebKit\/(\S+)/.exec(t);if(x9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tg&&(eg=tg?tg[1]:""),Pa){var ng=ox();if(ng!=null&&ng>parseFloat(eg)){Bh=String(ng);break e}}Bh=eg}var A9={};function N9(){return rx(A9,9,function(){let t=0;const e=a_(String(Bh)).split("."),n=a_("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=Zm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||Zm(i[2].length==0,s[2].length==0)||Zm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var xy;if(ie.document&&Pa){var l_=ox();xy=l_||parseInt(Bh,10)||void 0}else xy=void 0;var P9=xy;function Qu(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sx){e:{try{iw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:D9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Qu.$.h.call(this)}}Nt(Qu,Jt);var D9={2:"touch",3:"pen",4:"mouse"};Qu.prototype.h=function(){Qu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),O9=0;function $9(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++O9,this.fa=this.ia=!1}function bp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function sw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ax(t){const e={};for(const n in t)e[n]=t[n];return e}const u_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<u_.length;s++)n=u_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tp(t){this.src=t,this.g={},this.h=0}Tp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ay(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new $9(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ry(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=nx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(bp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ay(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ow="closure_lm_"+(1e6*Math.random()|0),rg={};function ux(t,e,n,r,i){if(r&&r.once)return dx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ux(t,e[s],n,r,i);return null}return n=uw(n),t&&t[Cc]?t.O(e,n,kc(r)?!!r.capture:!!r,i):cx(t,e,n,!1,r,i)}function cx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=kc(i)?!!i.capture:!!i,a=lw(t);if(a||(t[ow]=a=new Tp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=M9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)C9||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function M9(){function t(n){return e.call(t.src,t.listener,n)}const e=L9;return t}function dx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)dx(t,e[s],n,r,i);return null}return n=uw(n),t&&t[Cc]?t.P(e,n,kc(r)?!!r.capture:!!r,i):cx(t,e,n,!0,r,i)}function hx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)hx(t,e[s],n,r,i);else r=kc(r)?!!r.capture:!!r,n=uw(n),t&&t[Cc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ay(s,n,r,i),-1<n&&(bp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=lw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ay(e,n,r,i)),(n=-1<t?e[t]:null)&&aw(n))}function aw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cc])Ry(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lw(e))?(Ry(n,t),n.h==0&&(n.src=null,e[ow]=null)):bp(t)}}}function fx(t){return t in rg?rg[t]:rg[t]="on"+t}function L9(t,e){if(t.fa)t=!0;else{e=new Qu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&aw(t),t=n.call(r,e)}return t}function lw(t){return t=t[ow],t instanceof Tp?t:null}var ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function uw(t){return typeof t=="function"?t:(t[ig]||(t[ig]=function(e){return t.handleEvent(e)}),t[ig])}function Rt(){ds.call(this),this.i=new Tp(this),this.S=this,this.J=null}Nt(Rt,ds);Rt.prototype[Cc]=!0;Rt.prototype.removeEventListener=function(t,e,n,r){hx(this,t,e,n,r)};function Bt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var i=e;e=new Jt(r,t),lx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yd(o,r,!0,e)&&i}if(o=e.g=t,i=yd(o,r,!0,e)&&i,i=yd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=yd(o,r,!1,e)&&i}Rt.prototype.N=function(){if(Rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)bp(n[r]);delete t.g[e],t.h--}}this.J=null};Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Rt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function yd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ry(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var cw=ie.JSON.stringify;function F9(){var t=gx;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class U9{constructor(){this.h=this.g=null}add(e,n){const r=px.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var px=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new V9,t=>t.reset());class V9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function B9(t){ie.setTimeout(()=>{throw t},0)}function mx(t,e){Ny||z9(),Py||(Ny(),Py=!0),gx.add(t,e)}var Ny;function z9(){var t=ie.Promise.resolve(void 0);Ny=function(){t.then(j9)}}var Py=!1,gx=new U9;function j9(){for(var t;t=F9();){try{t.h.call(t.g)}catch(n){B9(n)}var e=px;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Py=!1}function kp(t,e){Rt.call(this),this.h=t||1,this.g=e||ie,this.j=Xt(this.qb,this),this.l=Date.now()}Nt(kp,Rt);z=kp.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bt(this,"tick"),this.ga&&(dw(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}z.N=function(){kp.$.N.call(this),dw(this),delete this.g};function hw(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function yx(t){t.g=hw(()=>{t.g=null,t.i&&(t.i=!1,yx(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class W9 extends ds{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yx(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yu(t){ds.call(this),this.h=t,this.g={}}Nt(Yu,ds);var c_=[];function vx(t,e,n,r){Array.isArray(n)||(n&&(c_[0]=n.toString()),n=c_);for(var i=0;i<n.length;i++){var s=ux(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function wx(t){sw(t.g,function(e,n){this.g.hasOwnProperty(n)&&aw(e)},t),t.g={}}Yu.prototype.N=function(){Yu.$.N.call(this),wx(this)};Yu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Cp(){this.g=!0}Cp.prototype.Ea=function(){this.g=!1};function q9(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function H9(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function na(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+G9(t,n)+(r?" "+r:"")})}function K9(t,e){t.info(function(){return"TIMEOUT: "+e})}Cp.prototype.info=function(){};function G9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return cw(n)}catch{return e}}var Io={},d_=null;function xp(){return d_=d_||new Rt}Io.Ta="serverreachability";function Ix(t){Jt.call(this,Io.Ta,t)}Nt(Ix,Jt);function Xu(t){const e=xp();Bt(e,new Ix(e))}Io.STAT_EVENT="statevent";function Ex(t,e){Jt.call(this,Io.STAT_EVENT,t),this.stat=e}Nt(Ex,Jt);function sn(t){const e=xp();Bt(e,new Ex(e,t))}Io.Ua="timingevent";function _x(t,e){Jt.call(this,Io.Ua,t),this.size=e}Nt(_x,Jt);function xc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}var Rp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Sx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fw(){}fw.prototype.h=null;function h_(t){return t.h||(t.h=t.i())}function bx(){}var Rc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pw(){Jt.call(this,"d")}Nt(pw,Jt);function mw(){Jt.call(this,"c")}Nt(mw,Jt);var Dy;function Ap(){}Nt(Ap,fw);Ap.prototype.g=function(){return new XMLHttpRequest};Ap.prototype.i=function(){return{}};Dy=new Ap;function Ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Yu(this),this.P=Q9,t=Cy?125:void 0,this.V=new kp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Tx}function Tx(){this.i=null,this.g="",this.h=!1}var Q9=45e3,Oy={},zh={};z=Ac.prototype;z.setTimeout=function(t){this.P=t};function $y(t,e,n){t.L=1,t.v=Pp(oi(e)),t.s=n,t.S=!0,kx(t,null)}function kx(t,e){t.G=Date.now(),Nc(t),t.A=oi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Ox(n.i,"t",r),t.C=0,n=t.l.I,t.h=new Tx,t.g=tR(t.l,n?e:null,!t.s),0<t.O&&(t.M=new W9(Xt(t.Pa,t,t.g),t.O)),vx(t.U,t.g,"readystatechange",t.nb),e=t.I?ax(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xu(),q9(t.j,t.u,t.A,t.m,t.W,t.s)}z.nb=function(t){t=t.target;const e=this.M;e&&Gr(t)==3?e.l():this.Pa(t)};z.Pa=function(t){try{if(t==this.g)e:{const c=Gr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Cy||this.g&&(this.h.h||this.g.ja()||g_(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Xu(3):Xu(2)),Np(this);var n=this.g.da();this.aa=n;t:if(Cx(this)){var r=g_(this.g);t="";var i=r.length,s=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fs(this),fu(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,H9(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vh(a)){var u=a;break t}}u=null}if(n=u)na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,My(this,n);else{this.i=!1,this.o=3,sn(12),Fs(this),fu(this);break e}}this.S?(xx(this,c,o),Cy&&this.i&&c==3&&(vx(this.U,this.V,"tick",this.mb),this.V.start())):(na(this.j,this.m,o,null),My(this,o)),c==4&&Fs(this),this.i&&!this.J&&(c==4?Xx(this.l,this):(this.i=!1,Nc(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),Fs(this),fu(this)}}}catch{}finally{}};function Cx(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function xx(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Y9(t,n),i==zh){e==4&&(t.o=4,sn(14),r=!1),na(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Oy){t.o=4,sn(15),na(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else na(t.j,t.m,i,null),My(t,i);Cx(t)&&i!=zh&&i!=Oy&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ca&&(t.ca=!0,e=t.l,e.g==t&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),_w(e),e.L=!0,sn(11))):(na(t.j,t.m,n,"[Invalid Chunked Response]"),Fs(t),fu(t))}z.mb=function(){if(this.g){var t=Gr(this.g),e=this.g.ja();this.C<e.length&&(Np(this),xx(this,t,e),this.i&&t!=4&&Nc(this))}};function Y9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?zh:(n=Number(e.substring(n,r)),isNaN(n)?Oy:(r+=1,r+n>e.length?zh:(e=e.substr(r,n),t.C=r+n,e)))}z.cancel=function(){this.J=!0,Fs(this)};function Nc(t){t.Y=Date.now()+t.P,Rx(t,t.P)}function Rx(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=xc(Xt(t.lb,t),e)}function Np(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(K9(this.j,this.A),this.L!=2&&(Xu(),sn(17)),Fs(this),this.o=2,fu(this)):Rx(this,this.Y-t)};function fu(t){t.l.H==0||t.J||Xx(t.l,t)}function Fs(t){Np(t);var e=t.M;e&&typeof e.ra=="function"&&e.ra(),t.M=null,dw(t.V),wx(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ra())}function My(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ly(n.h,t))){if(!t.K&&Ly(n.h,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qh(n),$p(n);else break e;Ew(n),sn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&n.A==0&&!n.v&&(n.v=xc(Xt(n.ib,n),6e3));if(1>=Lx(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Us(n,11)}else if((t.K||n.g==t)&&qh(n),!Vh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.J=u[1],n.oa=u[2];const c=u[3];c!=null&&(n.qa=c,n.j.info("VER="+n.qa));const d=u[4];d!=null&&(n.Ga=d,n.j.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(gw(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ze(r.G,r.F,v))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-t.G,n.j.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=eR(r,r.I?r.oa:null,r.Y),o.K){Fx(r.h,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Np(a),Nc(a)),r.g=o}else Qx(r);0<n.i.length&&Mp(n)}else u[0]!="stop"&&u[0]!="close"||Us(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Us(n,7):Iw(n):u[0]!="noop"&&n.l&&n.l.Aa(u),n.A=0)}}Xu(4)}catch{}}function X9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function J9(t){if(t.sa&&typeof t.sa=="function")return t.sa();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_p(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ax(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_p(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=J9(t),r=X9(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var Nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Z9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ks(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ks){this.h=e!==void 0?e:t.h,jh(this,t.j),this.s=t.s,this.g=t.g,Wh(this,t.m),this.l=t.l,e=t.i;var n=new Ju;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),f_(this,n),this.o=t.o}else t&&(n=String(t).match(Nx))?(this.h=!!e,jh(this,n[1]||"",!0),this.s=Hl(n[2]||""),this.g=Hl(n[3]||"",!0),Wh(this,n[4]),this.l=Hl(n[5]||"",!0),f_(this,n[6]||"",!0),this.o=Hl(n[7]||"")):(this.h=!!e,this.i=new Ju(null,this.h))}Ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Kl(e,p_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Kl(e,p_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Kl(n,n.charAt(0)=="/"?n6:t6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Kl(n,i6)),t.join("")};function oi(t){return new Ks(t)}function jh(t,e,n){t.j=n?Hl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function f_(t,e,n){e instanceof Ju?(t.i=e,s6(t.i,t.h)):(n||(e=Kl(e,r6)),t.i=new Ju(e,t.h))}function ze(t,e,n){t.i.set(e,n)}function Pp(t){return ze(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,e6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function e6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var p_=/[#\/\?@]/g,t6=/[#\?:]/g,n6=/[#\?]/g,r6=/[#\?@]/g,i6=/#/g;function Ju(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hs(t){t.g||(t.g=new Map,t.h=0,t.i&&Z9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}z=Ju.prototype;z.add=function(t,e){hs(this),this.i=null,t=rl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Px(t,e){hs(t),e=rl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Dx(t,e){return hs(t),e=rl(t,e),t.g.has(e)}z.forEach=function(t,e){hs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};z.sa=function(){hs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};z.Z=function(t){hs(this);let e=[];if(typeof t=="string")Dx(this,t)&&(e=e.concat(this.g.get(rl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};z.set=function(t,e){return hs(this),this.i=null,t=rl(this,t),Dx(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Ox(t,e,n){Px(t,e),0<n.length&&(t.i=null,t.g.set(rl(t,e),rw(n)),t.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function rl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function s6(t,e){e&&!t.j&&(hs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Px(this,r),Ox(this,i,n))},t)),t.j=e}var o6=class{constructor(t,e){this.h=t,this.g=e}};function $x(t){this.l=t||a6,ie.PerformanceNavigationTiming?(t=ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var a6=10;function Mx(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Lx(t){return t.h?1:t.g?t.g.size:0}function Ly(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function gw(t,e){t.g?t.g.add(e):t.h=e}function Fx(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$x.prototype.cancel=function(){if(this.i=Ux(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ux(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return rw(t.i)}function yw(){}yw.prototype.stringify=function(t){return ie.JSON.stringify(t,void 0)};yw.prototype.parse=function(t){return ie.JSON.parse(t,void 0)};function l6(){this.g=new yw}function u6(t,e,n){const r=n||"";try{Ax(t,function(i,s){let o=i;kc(i)&&(o=cw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function c6(t,e){const n=new Cp;if(ie.Image){const r=new Image;r.onload=gd(vd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gd(vd,n,r,"TestLoadImage: error",!1,e),r.onabort=gd(vd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gd(vd,n,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pc(t){this.l=t.fc||null,this.j=t.ob||!1}Nt(Pc,fw);Pc.prototype.g=function(){return new Dp(this.l,this.j)};Pc.prototype.i=function(t){return function(){return t}}({});function Dp(t,e){Rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nt(Dp,Rt);var vw=0;z=Dp.prototype;z.open=function(t,e){if(this.readyState!=vw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zu(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dc(this)),this.readyState=vw};z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zu(this)),this.g&&(this.readyState=3,Zu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vx(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Vx(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Dc(this):Zu(this),this.readyState==3&&Vx(this)}};z.Za=function(t){this.g&&(this.response=this.responseText=t,Dc(this))};z.Ya=function(t){this.g&&(this.response=t,Dc(this))};z.ka=function(){this.g&&Dc(this)};function Dc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zu(t)}z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Dp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var d6=ie.JSON.parse;function nt(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Bx,this.L=this.M=!1}Nt(nt,Rt);var Bx="",h6=/^https?$/i,f6=["POST","PUT"];z=nt.prototype;z.Oa=function(t){this.M=t};z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dy.g(),this.C=this.u?h_(this.u):h_(Dy),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){m_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ie.FormData&&t instanceof ie.FormData,!(0<=nx(f6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Wx(this),0<this.B&&((this.L=p6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=hw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){m_(this,s)}};function p6(t){return Pa&&N9()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}z.ua=function(){typeof nw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))};function m_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zx(t),Op(t)}function zx(t){t.F||(t.F=!0,Bt(t,"complete"),Bt(t,"error"))}z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bt(this,"complete"),Bt(this,"abort"),Op(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Op(this,!0)),nt.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?jx(this):this.kb())};z.kb=function(){jx(this)};function jx(t){if(t.h&&typeof nw<"u"&&(!t.C[1]||Gr(t)!=4||t.da()!=2)){if(t.v&&Gr(t)==4)hw(t.La,0,t);else if(Bt(t,"readystatechange"),Gr(t)==4){t.h=!1;try{const a=t.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.I).match(Nx)[1]||null;if(!i&&ie.self&&ie.self.location){var s=ie.self.location.protocol;i=s.substr(0,s.length-1)}r=!h6.test(i?i.toLowerCase():"")}n=r}if(n)Bt(t,"complete"),Bt(t,"success");else{t.m=6;try{var o=2<Gr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",zx(t)}}finally{Op(t)}}}}function Op(t,e){if(t.g){Wx(t);const n=t.g,r=t.C[0]?Uh:null;t.g=null,t.C=null,e||Bt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Wx(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function Gr(t){return t.g?t.g.readyState:0}z.da=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),d6(e)}};function g_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Bx:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qx(t){let e="";return sw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ww(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qx(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ze(t,e,n))}function Nl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Hx(t){this.Ga=0,this.i=[],this.j=new Cp,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Nl("failFast",!1,t),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Nl("baseRetryDelayMs",5e3,t),this.hb=Nl("retryDelaySeedMs",1e4,t),this.eb=Nl("forwardChannelMaxRetries",2,t),this.xa=Nl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.K=void 0,this.I=t&&t.supportsCrossDomainXhr||!1,this.J="",this.h=new $x(t&&t.concurrentRequestLimit),this.Ja=new l6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.j.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}z=Hx.prototype;z.qa=8;z.H=1;function Iw(t){if(Kx(t),t.H==3){var e=t.W++,n=oi(t.G);ze(n,"SID",t.J),ze(n,"RID",e),ze(n,"TYPE","terminate"),Oc(t,n),e=new Ac(t,t.j,e,void 0),e.L=2,e.v=Pp(oi(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon&&(n=ie.navigator.sendBeacon(e.v.toString(),"")),!n&&ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=tR(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nc(e)}Zx(t)}function $p(t){t.g&&(_w(t),t.g.cancel(),t.g=null)}function Kx(t){$p(t),t.u&&(ie.clearTimeout(t.u),t.u=null),qh(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ie.clearTimeout(t.m),t.m=null)}function Mp(t){Mx(t.h)||t.m||(t.m=!0,mx(t.Na,t),t.C=0)}function m6(t,e){return Lx(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.F.concat(t.i),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=xc(Xt(t.Na,t,e),Jx(t,t.C)),t.C++,!0)}z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ac(this,this.j,t,void 0);let s=this.s;if(this.U&&(s?(s=ax(s),lx(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gx(this,i,e),n=oi(this.G),ze(n,"RID",t),ze(n,"CVER",22),this.F&&ze(n,"X-HTTP-Session-Id",this.F),Oc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(qx(s)))+"&"+e:this.o&&ww(n,this.o,s)),gw(this.h,i),this.bb&&ze(n,"TYPE","init"),this.P?(ze(n,"$req",e),ze(n,"SID","null"),i.ba=!0,$y(i,n,null)):$y(i,n,e),this.H=2}}else this.H==3&&(t?y_(this,t):this.i.length==0||Mx(this.h)||y_(this))};function y_(t,e){var n;e?n=e.m:n=t.W++;const r=oi(t.G);ze(r,"SID",t.J),ze(r,"RID",n),ze(r,"AID",t.V),Oc(t,r),t.o&&t.s&&ww(r,t.o,t.s),n=new Ac(t,t.j,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.i=e.F.concat(t.i)),e=Gx(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gw(t.h,n),$y(n,r,e)}function Oc(t,e){t.ma&&sw(t.ma,function(n,r){ze(e,r,n)}),t.l&&Ax({},function(n,r){ze(e,r,n)})}function Gx(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Xt(t.l.Va,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{u6(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.F=t,r}function Qx(t){t.g||t.u||(t.ba=1,mx(t.Ma,t),t.A=0)}function Ew(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=xc(Xt(t.Ma,t),Jx(t,t.A)),t.A++,!0)}z.Ma=function(){if(this.u=null,Yx(this),this.ca&&!(this.L||this.g==null||0>=this.S)){var t=2*this.S;this.j.info("BP detection timer enabled: "+t),this.B=xc(Xt(this.jb,this),t)}};z.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,sn(10),$p(this),Yx(this))};function _w(t){t.B!=null&&(ie.clearTimeout(t.B),t.B=null)}function Yx(t){t.g=new Ac(t,t.j,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=oi(t.wa);ze(e,"RID","rpc"),ze(e,"SID",t.J),ze(e,"CI",t.M?"0":"1"),ze(e,"AID",t.V),ze(e,"TYPE","xmlhttp"),Oc(t,e),t.o&&t.s&&ww(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.oa,n.L=1,n.v=Pp(oi(e)),n.s=null,n.S=!0,kx(n,t)}z.ib=function(){this.v!=null&&(this.v=null,$p(this),Ew(this),sn(19))};function qh(t){t.v!=null&&(ie.clearTimeout(t.v),t.v=null)}function Xx(t,e){var n=null;if(t.g==e){qh(t),_w(t),t.g=null;var r=2}else if(Ly(t.h,e))n=e.F,Fx(t.h,e),r=1;else return;if(t.H!=0){if(t.ta=e.aa,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=xp(),Bt(r,new _x(r,n)),Mp(t)}else Qx(t);else if(i=e.o,i==3||i==0&&0<t.ta||!(r==1&&m6(t,e)||r==2&&Ew(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}}function Jx(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.l||(n*=2),n*e}function Us(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Xt(t.pb,t);n||(n=new Ks("//www.google.com/images/cleardot.gif"),ie.location&&ie.location.protocol=="http"||jh(n,"https"),Pp(n)),c6(n.toString(),r)}else sn(2);t.H=0,t.l&&t.l.za(e),Zx(t),Kx(t)}z.pb=function(t){t?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Zx(t){if(t.H=0,t.pa=[],t.l){const e=Ux(t.h);(e.length!=0||t.i.length!=0)&&(o_(t.pa,e),o_(t.pa,t.i),t.h.i.length=0,rw(t.i),t.i.length=0),t.l.ya()}}function eR(t,e,n){var r=n instanceof Ks?oi(n):new Ks(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Wh(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ks(null,void 0);r&&jh(s,r),e&&(s.g=e),i&&Wh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ze(r,n,e),ze(r,"VER",t.qa),Oc(t,r),r}function tR(t,e,n){if(e&&!t.I)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new nt(new Pc({ob:!0})):new nt(t.va),e.Oa(t.I),e}function nR(){}z=nR.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.Va=function(){};function Hh(){if(Pa&&!(10<=Number(P9)))throw Error("Environmental error: no available transport.")}Hh.prototype.g=function(t,e){return new $n(t,e)};function $n(t,e){Rt.call(this),this.g=new Hx(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Vh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vh(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new il(this)}Nt($n,Rt);$n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var t=this.g,e=this.l,n=this.h||void 0;sn(0),t.Y=e,t.ma=n||{},t.M=t.aa,t.G=eR(t,null,t.Y),Mp(t)};$n.prototype.close=function(){Iw(this.g)};$n.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=cw(t),t=n);e.i.push(new o6(e.fb++,t)),e.H==3&&Mp(e)};$n.prototype.N=function(){this.g.l=null,delete this.j,Iw(this.g),delete this.g,$n.$.N.call(this)};function rR(t){pw.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Nt(rR,pw);function iR(){mw.call(this),this.status=1}Nt(iR,mw);function il(t){this.g=t}Nt(il,nR);il.prototype.Ba=function(){Bt(this.g,"a")};il.prototype.Aa=function(t){Bt(this.g,new rR(t))};il.prototype.za=function(t){Bt(this.g,new iR)};il.prototype.ya=function(){Bt(this.g,"b")};function g6(){this.blockSize=-1}function dr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Nt(dr,g6);dr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}dr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)sg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){sg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){sg(this,r),i=0;break}}this.h=i,this.i+=e};dr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ce(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var y6={};function Sw(t){return-128<=t&&128>t?rx(y6,t,function(e){return new Ce([e|0],0>e?-1:0)}):new Ce([t|0],0>t?-1:0)}function Cr(t){if(isNaN(t)||!isFinite(t))return ma;if(0>t)return Lt(Cr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Fy;return new Ce(e,0)}function sR(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Lt(sR(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Cr(Math.pow(e,8)),r=ma,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Cr(Math.pow(e,s)),r=r.R(s).add(Cr(o))):(r=r.R(n),r=r.add(Cr(o)))}return r}var Fy=4294967296,ma=Sw(0),Uy=Sw(1),v_=Sw(16777216);z=Ce.prototype;z.ea=function(){if(Wn(this))return-Lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Fy+r)*e,e*=Fy}return t};z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Qr(this))return"0";if(Wn(this))return"-"+Lt(this).toString(t);for(var e=Cr(Math.pow(t,6)),n=this,r="";;){var i=Gh(n,e).g;n=Kh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Qr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Qr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wn(t){return t.h==-1}z.X=function(t){return t=Kh(this,t),Wn(t)?-1:Qr(t)?0:1};function Lt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ce(n,~t.h).add(Uy)}z.abs=function(){return Wn(this)?Lt(this):this};z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ce(n,n[n.length-1]&-2147483648?-1:0)};function Kh(t,e){return t.add(Lt(e))}z.R=function(t){if(Qr(this)||Qr(t))return ma;if(Wn(this))return Wn(t)?Lt(this).R(Lt(t)):Lt(Lt(this).R(t));if(Wn(t))return Lt(this.R(Lt(t)));if(0>this.X(v_)&&0>t.X(v_))return Cr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,wd(n,2*r+2*i),n[2*r+2*i+1]+=s*l,wd(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,wd(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,wd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ce(n,0)};function wd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Pl(t,e){this.g=t,this.h=e}function Gh(t,e){if(Qr(e))throw Error("division by zero");if(Qr(t))return new Pl(ma,ma);if(Wn(t))return e=Gh(Lt(t),e),new Pl(Lt(e.g),Lt(e.h));if(Wn(e))return e=Gh(t,Lt(e)),new Pl(Lt(e.g),e.h);if(30<t.g.length){if(Wn(t)||Wn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Uy,r=e;0>=r.X(t);)n=w_(n),r=w_(r);var i=Oo(n,1),s=Oo(r,1);for(r=Oo(r,2),n=Oo(n,2);!Qr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Oo(r,1),n=Oo(n,1)}return e=Kh(t,i.R(e)),new Pl(i,e)}for(i=ma;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Cr(n),o=s.R(e);Wn(o)||0<o.X(t);)n-=r,s=Cr(n),o=s.R(e);Qr(s)&&(s=Uy),i=i.add(s),t=Kh(t,o)}return new Pl(i,t)}z.gb=function(t){return Gh(this,t).h};z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ce(n,this.h&t.h)};z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ce(n,this.h|t.h)};z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ce(n,this.h^t.h)};function w_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ce(n,t.h)}function Oo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ce(i,t.h)}Hh.prototype.createWebChannel=Hh.prototype.g;$n.prototype.send=$n.prototype.u;$n.prototype.open=$n.prototype.m;$n.prototype.close=$n.prototype.close;Rp.NO_ERROR=0;Rp.TIMEOUT=8;Rp.HTTP_ERROR=6;Sx.COMPLETE="complete";bx.EventType=Rc;Rc.OPEN="a";Rc.CLOSE="b";Rc.ERROR="c";Rc.MESSAGE="d";Rt.prototype.listen=Rt.prototype.O;nt.prototype.listenOnce=nt.prototype.P;nt.prototype.getLastError=nt.prototype.Sa;nt.prototype.getLastErrorCode=nt.prototype.Ia;nt.prototype.getStatus=nt.prototype.da;nt.prototype.getResponseJson=nt.prototype.Wa;nt.prototype.getResponseText=nt.prototype.ja;nt.prototype.send=nt.prototype.ha;nt.prototype.setWithCredentials=nt.prototype.Oa;dr.prototype.digest=dr.prototype.l;dr.prototype.reset=dr.prototype.reset;dr.prototype.update=dr.prototype.j;Ce.prototype.add=Ce.prototype.add;Ce.prototype.multiply=Ce.prototype.R;Ce.prototype.modulo=Ce.prototype.gb;Ce.prototype.compare=Ce.prototype.X;Ce.prototype.toNumber=Ce.prototype.ea;Ce.prototype.toString=Ce.prototype.toString;Ce.prototype.getBits=Ce.prototype.D;Ce.fromNumber=Cr;Ce.fromString=sR;var v6=function(){return new Hh},w6=function(){return xp()},og=Rp,I6=Sx,E6=Io,I_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},_6=Pc,Id=bx,S6=nt,b6=dr,ga=Ce;const E_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="9.22.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new hp("@firebase/firestore");function Vy(){return Xi.logLevel}function T6(t){Xi.setLogLevel(t)}function N(t,...e){if(Xi.logLevel<=ve.DEBUG){const n=e.map(bw);Xi.debug(`Firestore (${sl}): ${t}`,...n)}}function lt(t,...e){if(Xi.logLevel<=ve.ERROR){const n=e.map(bw);Xi.error(`Firestore (${sl}): ${t}`,...n)}}function hr(t,...e){if(Xi.logLevel<=ve.WARN){const n=e.map(bw);Xi.warn(`Firestore (${sl}): ${t}`,...n)}}function bw(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+t;throw lt(e),new Error(e)}function G(t,e){t||W()}function k6(t,e){t||W()}function B(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends an{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class x6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R6{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(N("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G(typeof r.accessToken=="string"),new oR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(e===null||typeof e=="string"),new kt(e)}}class A6{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class N6{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new A6(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D6{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,N("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(G(typeof n.token=="string"),this.T=n.token,new P6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=O6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function Da(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function lR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new We(0,0))}static max(){return new K(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends ec{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new A(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const $6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends ec{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return $6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new A(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new A(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.path=e}static fromPath(e){return new U(we.fromString(e))}static fromName(e){return new U(we.fromString(e).popFirst(5))}static empty(){return new U(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new we(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function By(t){return t.fields.find(e=>e.kind===2)}function ks(t){return t.fields.filter(e=>e.kind!==2)}uR.UNKNOWN_ID=-1;class M6{constructor(e,n){this.fieldPath=e,this.kind=n}}class Qh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Qh(0,Mn.min())}}function cR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Mn(i,U.empty(),e)}function dR(t){return new Mn(t.readTime,t.key,-1)}class Mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mn(K.min(),U.empty(),-1)}static max(){return new Mn(K.max(),U.empty(),-1)}}function Tw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==hR)throw t;N("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,r)=>{n(e)})}static reject(e){return new k((n,r)=>{r(e)})}static waitFor(e){return new k((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=k.resolve(!1);for(const r of e)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new k((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new xt,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new pu(e,n.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=kw(r.target.error);this.v.reject(new pu(e,i))}}static open(e,n,r,i){try{return new Lp(n,e.transaction(i,r))}catch(s){throw new pu(n,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(N("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new F6(n)}}class or{constructor(e,n,r){this.name=e,this.version=n,this.V=r,or.S(Qe())===12.2&&lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return N("SimpleDb","Removing database:",e),xs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Bu())return!1;if(or.C())return!0;const e=Qe(),n=or.S(e),r=0<n&&n<10,i=or.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.k)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async $(e){return this.db||(N("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new pu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new A(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new A(C.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new pu(e,o))},i.onupgradeneeded=s=>{N("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.V.O(o,i.transaction,s.oldVersion,this.version).next(()=>{N("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.F&&(this.db.onversionchange=n=>this.F(n)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.$(e);const a=Lp.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.P(),u)).catch(u=>(a.abort(u),k.reject(u))).toPromise();return l.catch(()=>{}),await a.R,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(N("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class L6{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return xs(this.L.delete())}}class pu extends A{constructor(e,n){super(C.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ps(t){return t.name==="IndexedDbTransactionError"}class F6{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(N("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(N("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xs(r)}add(e){return N("SimpleDb","ADD",this.store.name,e,e),xs(this.store.add(e))}get(e){return xs(this.store.get(e)).next(n=>(n===void 0&&(n=null),N("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return N("SimpleDb","DELETE",this.store.name,e),xs(this.store.delete(e))}count(){return N("SimpleDb","COUNT",this.store.name),xs(this.store.count())}j(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.W(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new k((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new k((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}J(e,n){N("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Z(e){const n=this.cursor({});return new k((r,i)=>{n.onerror=s=>{const o=kw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new k((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new L6(a),u=n(a.primaryKey,a.value,l);if(u instanceof k){const c=u.catch(d=>(l.done(),k.reject(d)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>k.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function xs(t){return new k((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=kw(r.target.error);n(i)}})}let __=!1;function kw(t){const e=or.S(Qe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return __||(__=!0,setTimeout(()=>{throw r},0)),r}}return t}class U6{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}et(e){N("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{N("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(n){ps(n)?N("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await fs(n)}await this.et(6e4)})}}class V6{constructor(e,n){this.localStore=e,this.persistence=n}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.st(n,e))}st(e,n){const r=new Set;let i=n,s=!0;return k.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return N("IndexBackiller",`Processing collection: ${o}`),this.it(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}it(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.rt(i,s)).next(a=>(N("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}rt(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=dR(s);Tw(o,r)>0&&(r=o)}),new Mn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}gn.ct=-1;function $c(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function pR(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=S_(e)),e=B6(t.get(n),e);return S_(e)}function B6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function S_(t){return t+""}function xr(t){const e=t.length;if(G(e>=2),e===2)return G(t.charAt(0)===""&&t.charAt(1)===""),we.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&W(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:W()}s=o+2}return new we(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e){return[t,ln(e)]}function mR(t,e,n){return[t,ln(e),n]}const z6={},j6=["prefixPath","collectionGroup","readTime","documentId"],W6=["prefixPath","collectionGroup","documentId"],q6=["collectionGroup","readTime","prefixPath","documentId"],H6=["canonicalId","targetId"],K6=["targetId","path"],G6=["path","targetId"],Q6=["collectionId","parent"],Y6=["indexId","uid"],X6=["uid","sequenceNumber"],J6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Z6=["indexId","uid","orderedDocumentKey"],ej=["userId","collectionPath","documentId"],tj=["userId","collectionPath","largestBatchId"],nj=["userId","collectionGroup","largestBatchId"],gR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rj=[...gR,"documentOverlays"],yR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vR=yR,ij=[...vR,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy extends fR{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Pt(t,e){const n=B(t);return or.M(n.ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new Oe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new Oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ed(this.root,e,this.comparator,!0)}}class Ed{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$t.RED,this.left=i??$t.EMPTY,this.right=s??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();const e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(t,e,n,r,i){return this}insert(t,e,n){return new $t(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $o(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Fe(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new IR("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const oj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(G(!!t),typeof t=="string"){let e=0;const n=oj.exec(t);if(G(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cw(t){const e=t.mapValue.fields.__previous_value__;return Fp(e)?Cw(e):e}function nc(t){const e=Ji(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class es{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new es("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof es&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qd={nullValue:"NULL_VALUE"};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fp(t)?4:ER(t)?9007199254740991:10:W()}function Fr(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return nc(t).isEqual(nc(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ji(r.timestampValue),o=Ji(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Zi(r.bytesValue).isEqual(Zi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tt(r.doubleValue),o=tt(i.doubleValue);return s===o?tc(s)===tc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Da(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(T_(s)!==T_(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Fr(s[a],o[a])))return!1;return!0}(t,e);default:return W()}}function rc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function ts(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=tt(i.integerValue||i.doubleValue),a=tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return C_(t.timestampValue,e.timestampValue);case 4:return C_(nc(t),nc(e));case 5:return ae(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Zi(i),a=Zi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=ae(o[l],a[l]);if(u!==0)return u}return ae(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ae(tt(i.latitude),tt(s.latitude));return o!==0?o:ae(tt(i.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=ts(o[l],a[l]);if(u)return u}return ae(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Oi.mapValue&&s===Oi.mapValue)return 0;if(i===Oi.mapValue)return 1;if(s===Oi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=ae(a[c],u[c]);if(d!==0)return d;const h=ts(o[a[c]],l[u[c]]);if(h!==0)return h}return ae(a.length,u.length)}(t.mapValue,e.mapValue);default:throw W()}}function C_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=Ji(t),r=Ji(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function Oa(t){return jy(t)}function jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ji(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,U.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=jy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${jy(r.fields[a])}`;return s+"}"}(t.mapValue):W();var e,n}function ao(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wy(t){return!!t&&"integerValue"in t}function ic(t){return!!t&&"arrayValue"in t}function x_(t){return!!t&&"nullValue"in t}function R_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yd(t){return!!t&&"mapValue"in t}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ER(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function lj(t){return"nullValue"in t?Qd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ao(es.empty(),U.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:W()}function uj(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ao(es.empty(),U.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Oi:W()}function A_(t,e){const n=ts(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function N_(t,e){const n=ts(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Eo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ft(mu(this.value))}}function _R(t){const e=[];return Eo(t.fields,(n,r)=>{const i=new ut([n]);if(Yd(r)){const s=_R(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Me(e,0,K.min(),K.min(),K.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new Me(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new Me(e,2,n,K.min(),K.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new Me(e,3,n,K.min(),K.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Me&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.position=e,this.inclusive=n}}function P_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=ts(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function D_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n="asc"){this.field=e,this.dir=n}}function cj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{}class he extends SR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dj(e,n,r):n==="array-contains"?new pj(e,r):n==="in"?new RR(e,r):n==="not-in"?new mj(e,r):n==="array-contains-any"?new gj(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hj(e,r):new fj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ts(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Te extends SR{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Te(e,n)}matches(e){return $a(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function $a(t){return t.op==="and"}function qy(t){return t.op==="or"}function xw(t){return bR(t)&&$a(t)}function bR(t){for(const e of t.filters)if(e instanceof Te)return!1;return!0}function Hy(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+Oa(t.value);if(xw(t))return t.filters.map(e=>Hy(e)).join(",");{const e=t.filters.map(n=>Hy(n)).join(",");return`${t.op}(${e})`}}function TR(t,e){return t instanceof he?function(n,r){return r instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&Fr(n.value,r.value)}(t,e):t instanceof Te?function(n,r){return r instanceof Te&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&TR(s,r.filters[o]),!0):!1}(t,e):void W()}function kR(t,e){const n=t.filters.concat(e);return Te.create(n,t.op)}function CR(t){return t instanceof he?function(e){return`${e.field.canonicalString()} ${e.op} ${Oa(e.value)}`}(t):t instanceof Te?function(e){return e.op.toString()+" {"+e.getFilters().map(CR).join(" ,")+"}"}(t):"Filter"}class dj extends he{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class hj extends he{constructor(e,n){super(e,"in",n),this.keys=xR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fj extends he{constructor(e,n){super(e,"not-in",n),this.keys=xR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class pj extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ic(n)&&rc(n.arrayValue,this.value)}}class RR extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class mj extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!rc(this.value.arrayValue,n)}}class gj extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ic(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Ky(t,e=null,n=[],r=[],i=null,s=null,o=null){return new yj(t,e,n,r,i,s,o)}function lo(t){const e=B(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Hy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),e.dt=n}return e.dt}function Mc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D_(t.startAt,e.startAt)&&D_(t.endAt,e.endAt)}function Yh(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Xh(t,e){return t.filters.filter(n=>n instanceof he&&n.field.isEqual(e))}function O_(t,e,n){let r=Qd,i=!0;for(const s of Xh(t,e)){let o=Qd,a=!0;switch(s.op){case"<":case"<=":o=lj(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Qd}A_({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];A_({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function $_(t,e,n){let r=Oi,i=!0;for(const s of Xh(t,e)){let o=Oi,a=!0;switch(s.op){case">=":case">":o=uj(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Oi}N_({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];N_({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function AR(t,e,n,r,i,s,o,a){return new fi(t,e,n,r,i,s,o,a)}function ol(t){return new fi(t)}function M_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Up(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Aw(t){return t.collectionGroup!==null}function Gs(t){const e=B(t);if(e.wt===null){e.wt=[];const n=Up(e),r=Rw(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ya(n)),e.wt.push(new ya(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ya(ut.keyField(),s))}}}return e.wt}function bn(t){const e=B(t);if(!e._t)if(e.limitType==="F")e._t=Ky(e.path,e.collectionGroup,Gs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Gs(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ya(s.field,o))}const r=e.endAt?new ns(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ns(e.startAt.position,e.startAt.inclusive):null;e._t=Ky(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Gy(t,e){e.getFirstInequalityField(),Up(t);const n=t.filters.concat([e]);return new fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Jh(t,e,n){return new fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lc(t,e){return Mc(bn(t),bn(e))&&t.limitType===e.limitType}function NR(t){return`${lo(bn(t))}|lt:${t.limitType}`}function Qy(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>CR(r)).join(", ")}]`),$c(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oa(r)).join(",")),`Target(${n})`}(bn(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):U.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Gs(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=P_(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Gs(n),r)||n.endAt&&!function(i,s,o){const a=P_(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Gs(n),r))}(t,e)}function PR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DR(t){return(e,n)=>{let r=!1;for(const i of Gs(t)){const s=vj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vj(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?ts(a,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Oe(U.comparator);function vn(){return wj}const OR=new Oe(U.comparator);function Gl(...t){let e=OR;for(const n of t)e=e.insert(n.key,n);return e}function $R(t){let e=OR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rr(){return gu()}function MR(){return gu()}function gu(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ij=new Oe(U.comparator),Ej=new Fe(U.comparator);function le(...t){let e=Ej;for(const n of t)e=e.add(n);return e}const _j=new Fe(ae);function Nw(){return _j}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function FR(t){return{integerValue:""+t}}function UR(t,e){return pR(e)?FR(e):LR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this._=void 0}}function Sj(t,e,n){return t instanceof Ma?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Fp(i)&&(i=Cw(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof uo?BR(t,e):t instanceof co?zR(t,e):function(r,i){const s=VR(r,i),o=L_(s)+L_(r.gt);return Wy(s)&&Wy(r.gt)?FR(o):LR(r.serializer,o)}(t,e)}function bj(t,e,n){return t instanceof uo?BR(t,e):t instanceof co?zR(t,e):n}function VR(t,e){return t instanceof La?Wy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ma extends Vp{}class uo extends Vp{constructor(e){super(),this.elements=e}}function BR(t,e){const n=jR(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class co extends Vp{constructor(e){super(),this.elements=e}}function zR(t,e){let n=jR(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class La extends Vp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function L_(t){return tt(t.integerValue||t.doubleValue)}function jR(t){return ic(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.field=e,this.transform=n}}function Tj(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof uo&&r instanceof uo||n instanceof co&&r instanceof co?Da(n.elements,r.elements,Fr):n instanceof La&&r instanceof La?Fr(n.gt,r.gt):n instanceof Ma&&r instanceof Ma}(t.transform,e.transform)}class kj{constructor(e,n){this.version=e,this.transformResults=n}}class je{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new je}static exists(e){return new je(void 0,e)}static updateTime(e){return new je(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bp{}function WR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ll(t.key,je.none()):new al(t.key,t.data,je.none());{const n=t.data,r=Ft.empty();let i=new Fe(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pi(t.key,r,new yn(i.toArray()),je.none())}}function Cj(t,e,n){t instanceof al?function(r,i,s){const o=r.value.clone(),a=U_(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof pi?function(r,i,s){if(!Xd(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=U_(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(qR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yu(t,e,n,r){return t instanceof al?function(i,s,o,a){if(!Xd(i.precondition,s))return o;const l=i.value.clone(),u=V_(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pi?function(i,s,o,a){if(!Xd(i.precondition,s))return o;const l=V_(i.fieldTransforms,a,s),u=s.data;return u.setAll(qR(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Xd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function xj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=VR(r.transform,i||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,s))}return n||null}function F_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Da(n,r,(i,s)=>Tj(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class al extends Bp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pi extends Bp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function U_(t,e,n){const r=new Map;G(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bj(o,a,n[i]))}return r}function V_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Sj(s,o,e))}return r}class ll extends Bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends Bp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Cj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=WR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(n,r)=>F_(n,r))&&Da(this.baseMutations,e.baseMutations,(n,r)=>F_(n,r))}}class Ow{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){G(e.mutations.length===r.length);let i=Ij;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Ow(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,ye;function HR(t){switch(t){default:return W();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function KR(t){if(t===void 0)return lt("GRPC error has no .code"),C.UNKNOWN;switch(t){case mt.OK:return C.OK;case mt.CANCELLED:return C.CANCELLED;case mt.UNKNOWN:return C.UNKNOWN;case mt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case mt.INTERNAL:return C.INTERNAL;case mt.UNAVAILABLE:return C.UNAVAILABLE;case mt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case mt.NOT_FOUND:return C.NOT_FOUND;case mt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case mt.ABORTED:return C.ABORTED;case mt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case mt.DATA_LOSS:return C.DATA_LOSS;default:return W()}}(ye=mt||(mt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return _d}static getOrCreateInstance(){return _d===null&&(_d=new Mw),_d}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let _d=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new ga([4294967295,4294967295],0);function B_(t){const e=GR().encode(t),n=new b6;return n.update(e),new Uint8Array(n.digest())}function z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ga([n,r],0),new ga([i,s],0)]}class Lw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ga.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(ga.fromNumber(r)));return i.compare(Aj)===1&&(i=new ga([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=B_(e),[r,i]=z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lw(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=B_(e),[r,i]=z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vc(K.min(),i,new Oe(ae),vn(),le())}}class Bc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class QR{constructor(e,n){this.targetId=e,this.Vt=n}}class YR{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j_{constructor(){this.St=0,this.Dt=q_(),this.Ct=_t.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=le(),n=le(),r=le();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new Bc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=q_()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Nj{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vn(),this.zt=W_(),this.Wt=new Oe(ae)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Yh(o))if(i===0){const a=new U(o.path);this.Yt(r,a,Me.newNoDocument(a,K.min()))}else G(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Mw.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var h,f,m,v,_,y;const p={localCacheCount:c,existenceFilterCount:d.count},g=d.unchangedNames;return g&&(p.bloomFilter={applied:u===0,hashCount:(h=g==null?void 0:g.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(v=(m=(f=g==null?void 0:g.bits)===null||f===void 0?void 0:f.bitmap)===null||m===void 0?void 0:m.length)!==null&&v!==void 0?v:0,padding:(y=(_=g==null?void 0:g.bits)===null||_===void 0?void 0:_.padding)!==null&&y!==void 0?y:0}),p}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Zi(s).toUint8Array()}catch(c){if(c instanceof IR)return hr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Lw(l,o,a)}catch(c){return hr(c instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Yh(a.target)){const l=new U(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Me.newNoDocument(l,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=le();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Vc(e,n,this.Wt,this.jt,r);return this.jt=vn(),this.zt=W_(),this.Wt=new Oe(ae),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new j_,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Fe(ae),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||N("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new j_),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function W_(){return new Oe(U.comparator)}function q_(){return new Oe(U.comparator)}const Pj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Dj=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Oj=(()=>({and:"AND",or:"OR"}))();class $j{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yy(t,e){return t.useProto3Json||$c(e)?e:{value:e}}function Fa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Mj(t,e){return Fa(t,e.toTimestamp())}function ct(t){return G(!!t),K.fromTimestamp(function(e){const n=Ji(e);return new We(n.seconds,n.nanos)}(t))}function Fw(t,e){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function JR(t){const e=we.fromString(t);return G(aA(e)),e}function sc(t,e){return Fw(t.databaseId,e.path)}function Or(t,e){const n=JR(e);if(n.get(1)!==t.databaseId.projectId)throw new A(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(eA(n))}function Xy(t,e){return Fw(t.databaseId,e)}function ZR(t){const e=JR(t);return e.length===4?we.emptyPath():eA(e)}function oc(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eA(t){return G(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H_(t,e,n){return{name:sc(t,e),fields:n.value.mapValue.fields}}function tA(t,e,n){const r=Or(t,e.name),i=ct(e.updateTime),s=e.createTime?ct(e.createTime):K.min(),o=new Ft({mapValue:{fields:e.fields}}),a=Me.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Lj(t,e){return"found"in e?function(n,r){G(!!r.found),r.found.name,r.found.updateTime;const i=Or(n,r.found.name),s=ct(r.found.updateTime),o=r.found.createTime?ct(r.found.createTime):K.min(),a=new Ft({mapValue:{fields:r.found.fields}});return Me.newFoundDocument(i,s,o,a)}(t,e):"missing"in e?function(n,r){G(!!r.missing),G(!!r.readTime);const i=Or(n,r.missing),s=ct(r.readTime);return Me.newNoDocument(i,s)}(t,e):W()}function Fj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(G(u===void 0||typeof u=="string"),_t.fromBase64String(u||"")):(G(u===void 0||u instanceof Uint8Array),_t.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?C.UNKNOWN:KR(l.code);return new A(u,l.message||"")}(o);n=new YR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Or(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):K.min(),a=new Ft({mapValue:{fields:r.document.fields}}),l=Me.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Or(t,r.document),s=r.readTime?ct(r.readTime):K.min(),o=Me.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Or(t,r.document),s=r.removedTargetIds||[];n=new Jd([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Rj(i,s),a=r.targetId;n=new QR(a,o)}}return n}function ac(t,e){let n;if(e instanceof al)n={update:H_(t,e.key,e.value)};else if(e instanceof ll)n={delete:sc(t,e.key)};else if(e instanceof pi)n={update:H_(t,e.key,e.data),updateMask:Wj(e.fieldMask)};else{if(!(e instanceof Pw))return W();n={verify:sc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof La)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Mj(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:W()}(t,e.precondition)),n}function Jy(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?je.updateTime(ct(i.updateTime)):i.exists!==void 0?je.exists(i.exists):je.none()}(e.currentDocument):je.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)G(o.setToServerValue==="REQUEST_TIME"),a=new Ma;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];a=new uo(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];a=new co(u)}else"increment"in o?a=new La(s,o.increment):W();const l=ut.fromServerFormat(o.fieldPath);return new Uc(l,a)}(t,i)):[];if(e.update){e.update.name;const i=Or(t,e.update.name),s=new Ft({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new yn(l.map(u=>ut.fromServerFormat(u)))}(e.updateMask);return new pi(i,s,o,n,r)}return new al(i,s,n,r)}if(e.delete){const i=Or(t,e.delete);return new ll(i,n)}if(e.verify){const i=Or(t,e.verify);return new Pw(i,n)}return W()}function Uj(t,e){return t&&t.length>0?(G(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?ct(r.updateTime):ct(i);return s.isEqual(K.min())&&(s=ct(i)),new kj(s,r.transformResults||[])}(n,e))):[]}function nA(t,e){return{documents:[Xy(t,e.path)]}}function rA(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Xy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return oA(Te.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Fo(c.field),direction:Bj(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Yy(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function iA(t){let e=ZR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){G(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=sA(c);return d instanceof Te&&xw(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new ya(Uo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,$c(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new ns(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new ns(h,d)}(n.endAt)),AR(e,i,o,s,a,"F",l,u)}function Vj(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sA(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Uo(e.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Uo(e.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Uo(e.unaryFilter.field);return he.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Uo(e.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(e){return he.create(Uo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Te.create(e.compositeFilter.filters.map(n=>sA(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return W()}}(e.compositeFilter.op))}(t):W()}function Bj(t){return Pj[t]}function zj(t){return Dj[t]}function jj(t){return Oj[t]}function Fo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return ut.fromServerFormat(t.fieldPath)}function oA(t){return t instanceof he?function(e){if(e.op==="=="){if(R_(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NAN"}};if(x_(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(R_(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NOT_NAN"}};if(x_(e.value))return{unaryFilter:{field:Fo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(e.field),op:zj(e.op),value:e.value}}}(t):t instanceof Te?function(e){const n=e.getFilters().map(r=>oA(r));return n.length===1?n[0]:{compositeFilter:{op:jj(e.op),filters:n}}}(t):W()}function Wj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,r,i,s=K.min(),o=K.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.fe=e}}function qj(t,e){let n;if(e.document)n=tA(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=U.fromSegments(e.noDocument.path),i=fo(e.noDocument.readTime);n=Me.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return W();{const r=U.fromSegments(e.unknownDocument.path),i=fo(e.unknownDocument.version);n=Me.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new We(r[0],r[1]);return K.fromTimestamp(i)}(e.readTime)),n}function K_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Zh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:sc(i,s.key),fields:s.data.value.mapValue.fields,updateTime:Fa(i,s.version.toTimestamp()),createTime:Fa(i,s.createTime.toTimestamp())}}(t.fe,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ho(e.version)};else{if(!e.isUnknownDocument())return W();r.unknownDocument={path:n.path.toArray(),version:ho(e.version)}}return r}function Zh(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ho(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fo(t){const e=new We(t.seconds,t.nanoseconds);return K.fromTimestamp(e)}function Rs(t,e){const n=(e.baseMutations||[]).map(s=>Jy(t.fe,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Jy(t.fe,s)),i=We.fromMillis(e.localWriteTimeMs);return new Dw(e.batchId,i,n,r)}function Yl(t){const e=fo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?fo(t.lastLimboFreeSnapshotVersion):K.min();let r;var i;return t.query.documents!==void 0?(G((i=t.query).documents.length===1),r=bn(ol(ZR(i.documents[0])))):r=function(s){return bn(iA(s))}(t.query),new Yr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,_t.fromBase64String(t.resumeToken))}function uA(t,e){const n=ho(e.snapshotVersion),r=ho(e.lastLimboFreeSnapshotVersion);let i;i=Yh(e.target)?nA(t.fe,e.target):rA(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Uw(t){const e=iA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jh(e,e.limit,"L"):e}function ag(t,e){return new $w(e.largestBatchId,Jy(t.fe,e.overlayMutation))}function G_(t,e){const n=e.path.lastSegment();return[t,ln(e.path.popLast()),n]}function Q_(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:ho(r.readTime),documentKey:ln(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{getBundleMetadata(e,n){return Y_(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:fo(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return Y_(e).put({bundleId:(r=n).id,createTime:ho(ct(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return X_(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:Uw(i.bundledQuery),readTime:fo(i.readTime)};var i})}saveNamedQuery(e,n){return X_(e).put(function(r){return{name:r.name,readTime:ho(ct(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function Y_(t){return Pt(t,"bundles")}function X_(t){return Pt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){const r=n.uid||"";return new zp(e,r)}getOverlay(e,n){return Dl(e).get(G_(this.userId,n)).next(r=>r?ag(this.serializer,r):null)}getOverlays(e,n){const r=Rr();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new $w(n,o);i.push(this.we(e,a))}),k.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(ln(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Dl(e).J("collectionPathOverlayIndex",a))}),k.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Rr(),s=ln(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Dl(e).j("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=ag(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Rr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Dl(e).X({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=ag(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}we(e,n){return Dl(e).put(function(r,i,s){const[o,a,l]=G_(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:ac(r.fe,s.mutation)}}(this.serializer,this.userId,n))}}function Dl(t){return Pt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),tc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),typeof r=="string"?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Zi(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?ER(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):W()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),U.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}As.Ve=new As;function Kj(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function J_(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=Kj(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class Gj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.De(r.value),r=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ne(r.value),r=n.next();this.ke()}Me(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=n.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=n.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const n=this.Fe(e),r=J_(n);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Le(e){const n=this.Fe(e),r=J_(n);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}De(e){const n=255&e;n===0?(this.Ue(0),this.Ue(255)):n===255?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;n===0?(this.Ge(0),this.Ge(255)):n===255?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Qj{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Yj{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Ol{constructor(){this.je=new Gj,this.ze=new Qj(this.je),this.We=new Yj(this.je)}seed(e){this.je.seed(e)}He(e){return e===0?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ns(this.indexId,this.documentKey,this.arrayValue,r)}}function _i(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=Z_(t.arrayValue,e.arrayValue),n!==0?n:(n=Z_(t.directionalValue,e.directionalValue),n!==0?n:U.comparator(t.documentKey,e.documentKey)))}function Z_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const r=n;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){G(e.collectionGroup===this.collectionId);const n=By(e);if(n!==void 0&&!this.en(n))return!1;const r=ks(e);let i=0,s=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(this.Ze!==void 0){const o=r[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],o))return!1}return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(t){var e,n;if(G(t instanceof he||t instanceof Te),t instanceof he){if(t instanceof RR){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>he.create(t.field,"==",s)))||[];return Te.create(i,"or")}return t}const r=t.filters.map(i=>cA(i));return Te.create(r,t.op)}function Jj(t){if(t.getFilters().length===0)return[];const e=tv(cA(t));return G(dA(e)),Zy(e)||ev(e)?[e]:e.getFilters()}function Zy(t){return t instanceof he}function ev(t){return t instanceof Te&&xw(t)}function dA(t){return Zy(t)||ev(t)||function(e){if(e instanceof Te&&qy(e)){for(const n of e.getFilters())if(!Zy(n)&&!ev(n))return!1;return!0}return!1}(t)}function tv(t){if(G(t instanceof he||t instanceof Te),t instanceof he)return t;if(t.filters.length===1)return tv(t.filters[0]);const e=t.filters.map(r=>tv(r));let n=Te.create(e,t.op);return n=ef(n),dA(n)?n:(G(n instanceof Te),G($a(n)),G(n.filters.length>1),n.filters.reduce((r,i)=>Vw(r,i)))}function Vw(t,e){let n;return G(t instanceof he||t instanceof Te),G(e instanceof he||e instanceof Te),n=t instanceof he?e instanceof he?function(r,i){return Te.create([r,i],"and")}(t,e):eS(t,e):e instanceof he?eS(e,t):function(r,i){if(G(r.filters.length>0&&i.filters.length>0),$a(r)&&$a(i))return kR(r,i.getFilters());const s=qy(r)?r:i,o=qy(r)?i:r,a=s.filters.map(l=>Vw(l,o));return Te.create(a,"or")}(t,e),ef(n)}function eS(t,e){if($a(e))return kR(e,t.getFilters());{const n=e.filters.map(r=>Vw(t,r));return Te.create(n,"or")}}function ef(t){if(G(t instanceof he||t instanceof Te),t instanceof he)return t;const e=t.getFilters();if(e.length===1)return ef(e[0]);if(bR(t))return t;const n=e.map(i=>ef(i)),r=[];return n.forEach(i=>{i instanceof he?r.push(i):i instanceof Te&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Te.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.rn=new Bw}addToCollectionParentIndex(e,n){return this.rn.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Mn.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Mn.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class Bw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fe(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fe(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Uint8Array(0);class eW{constructor(e,n){this.user=e,this.databaseId=n,this.on=new Bw,this.un=new ms(r=>lo(r),(r,i)=>Mc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:r,parent:ln(i)};return tS(e).put(s)}return k.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[lR(n),""],!1,!0);return tS(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(xr(o.parent))}return r})}addFieldIndex(e,n){const r=bd(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Ml(e);return s.next(a=>{o.put(Q_(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=bd(e),i=Ml(e),s=$l(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=$l(e);let i=!0;const s=new Map;return k.forEach(this.cn(n),o=>this.an(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=le();const a=[];return k.forEach(s,(l,u)=>{var c;N("IndexedDbIndexManager",`Using index ${c=l,`id=${c.indexId}|cg=${c.collectionGroup}|f=${c.fields.map(g=>`${g.fieldPath}:${g.kind}`).join(",")}`} to execute ${lo(n)}`);const d=function(g,w){const E=By(w);if(E===void 0)return null;for(const T of Xh(g,E.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(u,l),h=function(g,w){const E=new Map;for(const T of ks(w))for(const S of Xh(g,T.fieldPath))switch(S.op){case"==":case"in":E.set(T.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return E.set(T.fieldPath.canonicalString(),S.value),Array.from(E.values())}return null}(u,l),f=function(g,w){const E=[];let T=!0;for(const S of ks(w)){const x=S.kind===0?O_(g,S.fieldPath,g.startAt):$_(g,S.fieldPath,g.startAt);E.push(x.value),T&&(T=x.inclusive)}return new ns(E,T)}(u,l),m=function(g,w){const E=[];let T=!0;for(const S of ks(w)){const x=S.kind===0?$_(g,S.fieldPath,g.endAt):O_(g,S.fieldPath,g.endAt);E.push(x.value),T&&(T=x.inclusive)}return new ns(E,T)}(u,l),v=this.hn(l,u,f),_=this.hn(l,u,m),y=this.ln(l,u,h),p=this.fn(l.indexId,d,v,f.inclusive,_,m.inclusive,y);return k.forEach(p,g=>r.H(g,n.limit).next(w=>{w.forEach(E=>{const T=U.fromSegments(E.documentKey);o.has(T)||(o=o.add(T),a.push(T))})}))}).next(()=>a)}return k.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=Jj(Te.create(e.filters,"and")).map(r=>Ky(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.dn(n[d/u]):Sd,f=this.wn(e,h,r[d%u],i),m=this._n(e,h,s[d%u],o),v=a.map(_=>this.wn(e,h,_,!0));c.push(...this.createRange(f,m,v))}return c}wn(e,n,r,i){const s=new Ns(e,U.empty(),n,r);return i?s:s.Je()}_n(e,n,r,i){const s=new Ns(e,U.empty(),n,r);return i?s.Je():s}an(e,n){const r=new Xj(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return k.forEach(i,s=>this.an(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let l=new Fe(ut.comparator),u=!1;for(const c of a.filters)for(const d of c.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?u=!0:l=l.add(d.field));for(const c of a.orderBy)c.field.isKeyField()||(l=l.add(c.field));return l.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}mn(e,n){const r=new Ol;for(const i of ks(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.He(i.kind);As.Ve._e(s,o)}return r.Qe()}dn(e){const n=new Ol;return As.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const r=new Ol;return As.Ve._e(ao(this.databaseId,n),r.He(function(i){const s=ks(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,n,r){if(r===null)return[];let i=[];i.push(new Ol);let s=0;for(const o of ks(e)){const a=r[s++];for(const l of i)if(this.yn(n,o.fieldPath)&&ic(a))i=this.pn(i,o,a);else{const u=l.He(o.kind);As.Ve._e(a,u)}}return this.In(i)}hn(e,n,r){return this.ln(e,n,r.position)}In(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Qe();return n}pn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Ol;l.seed(a.Qe()),As.Ve._e(o,l.He(n.kind)),s.push(l)}return s}yn(e,n){return!!e.filters.find(r=>r instanceof he&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=bd(e),i=Ml(e);return(n?r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return k.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(u,c){const d=c?new Qh(c.sequenceNumber,new Mn(fo(c.readTime),new U(xr(c.documentKey)),c.largestBatchId)):Qh.empty(),h=u.fields.map(([f,m])=>new M6(ut.fromServerFormat(f),m));return new uR(u.indexId,u.collectionGroup,h,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ae(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=bd(e),s=Ml(e);return this.Tn(e).next(o=>i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>k.forEach(a,l=>s.put(Q_(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return k.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?k.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),k.forEach(a,l=>this.En(e,i,l).next(u=>{const c=this.An(s,l);return u.isEqual(c)?k.resolve():this.vn(e,s,l,u,c)}))))})}Rn(e,n,r,i){return $l(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,r,i){return $l(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,n.key),n.key.path.toArray()])}En(e,n,r){const i=$l(e);let s=new Fe(_i);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,n)])},(o,a)=>{s=s.add(new Ns(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}An(e,n){let r=new Fe(_i);const i=this.mn(n,e);if(i==null)return r;const s=By(n);if(s!=null){const o=e.data.field(s.fieldPath);if(ic(o))for(const a of o.arrayValue.values||[])r=r.add(new Ns(n.indexId,e.key,this.dn(a),i))}else r=r.add(new Ns(n.indexId,e.key,Sd,i));return r}vn(e,n,r,i,s){N("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,u,c,d){const h=a.getIterator(),f=l.getIterator();let m=$o(h),v=$o(f);for(;m||v;){let _=!1,y=!1;if(m&&v){const p=u(m,v);p<0?y=!0:p>0&&(_=!0)}else m!=null?y=!0:_=!0;_?(c(v),v=$o(f)):y?(d(m),m=$o(h)):(m=$o(h),v=$o(f))}}(i,s,_i,a=>{o.push(this.Rn(e,n,r,a))},a=>{o.push(this.Pn(e,n,r,a))}),k.waitFor(o)}Tn(e){let n=1;return Ml(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>_i(o,a)).filter((o,a,l)=>!a||_i(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=_i(o,e),l=_i(o,n);if(a===0)i[0]=e.Je();else if(a>0&&l<0)i.push(o),i.push(o.Je());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Sd,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Sd,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return _i(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(nS)}getMinOffset(e,n){return k.mapArray(this.cn(n),r=>this.an(e,r).next(i=>i||W())).next(nS)}}function tS(t){return Pt(t,"collectionParents")}function $l(t){return Pt(t,"indexEntries")}function bd(t){return Pt(t,"indexConfiguration")}function Ml(t){return Pt(t,"indexState")}function nS(t){G(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Tw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{G(a===1)}));const u=[];for(const c of n.mutations){const d=mR(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return k.waitFor(s).next(()=>u)}function tf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw W();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class jp{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,n,r,i){G(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new jp(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Si(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Vo(e),o=Si(e);return o.add({}).next(a=>{G(typeof a=="number");const l=new Dw(a,n,r,i),u=function(h,f,m){const v=m.baseMutations.map(y=>ac(h.fe,y)),_=m.mutations.map(y=>ac(h.fe,y));return{userId:f,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:v,mutations:_}}(this.serializer,this.userId,l),c=[];let d=new Fe((h,f)=>ae(h.canonicalString(),f.canonicalString()));for(const h of i){const f=mR(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,z6))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=l.keys()}),k.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Si(e).get(n).next(r=>r?(G(r.userId===this.userId),Rs(this.serializer,r)):null)}Sn(e,n){return this.Vn[n]?k.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Vn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Si(e).X({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(G(a.batchId>=r),s=Rs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Si(e).X({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Si(e).j("userMutationsIndex",n).next(r=>r.map(i=>Rs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Gd(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vo(e).X({range:i},(o,a,l)=>{const[u,c,d]=o,h=xr(c);if(u===this.userId&&n.path.isEqual(h))return Si(e).get(d).next(f=>{if(!f)throw W();G(f.userId===this.userId),s.push(Rs(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(ae);const i=[];return n.forEach(s=>{const o=Gd(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Vo(e).X({range:a},(u,c,d)=>{const[h,f,m]=u,v=xr(f);h===this.userId&&s.path.isEqual(v)?r=r.add(m):d.done()});i.push(l)}),k.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Gd(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Fe(ae);return Vo(e).X({range:o},(l,u,c)=>{const[d,h,f]=l,m=xr(h);d===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(f)):c.done()}).next(()=>this.Dn(e,a))}Dn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Si(e).get(s).next(o=>{if(o===null)throw W();G(o.userId===this.userId),r.push(Rs(this.serializer,o))}))}),k.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return hA(e.ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),k.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return k.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Vo(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=xr(s[1]);i.push(l)}else a.done()}).next(()=>{G(i.length===0)})})}containsKey(e,n){return fA(e,this.userId,n)}xn(e){return pA(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function fA(t,e,n){const r=Gd(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vo(t).X({range:s,Y:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Si(t){return Pt(t,"mutations")}function Vo(t){return Pt(t,"documentMutations")}function pA(t){return Pt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new po(0)}static Mn(){return new po(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const r=new po(n.highestTargetId);return n.highestTargetId=r.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>K.fromTimestamp(new We(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.On(e,i)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(n,r),this.On(e,r))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Mo(e).delete(n.targetId)).next(()=>this.$n(e)).next(r=>(G(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return Mo(e).X((o,a)=>{const l=Yl(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>k.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Mo(e).X((r,i)=>{const s=Yl(i);n(s)})}$n(e){return iS(e).get("targetGlobalKey").next(n=>(G(n!==null),n))}On(e,n){return iS(e).put("targetGlobalKey",n)}Fn(e,n){return Mo(e).put(uA(this.serializer,n))}Bn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const r=lo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Mo(e).X({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=Yl(a);Mc(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Ri(e);return n.forEach(o=>{const a=ln(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),k.waitFor(i)}removeMatchingKeys(e,n,r){const i=Ri(e);return k.forEach(n,s=>{const o=ln(s.path);return k.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Ri(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ri(e);let s=le();return i.X({range:r,Y:!0},(o,a,l)=>{const u=xr(o[1]),c=new U(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=ln(n.path),i=IDBKeyRange.bound([r],[lR(r)],!1,!0);let s=0;return Ri(e).X({index:"documentTargetsIndex",Y:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}le(e,n){return Mo(e).get(n).next(r=>r?Yl(r):null)}}function Mo(t){return Pt(t,"targets")}function iS(t){return Pt(t,"targetGlobal")}function Ri(t){return Pt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS([t,e],[n,r]){const i=ae(t,n);return i===0?ae(e,r):i}class nW{constructor(e){this.Ln=e,this.buffer=new Fe(sS),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rW{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}Qn(e){N("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ps(n)?N("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await fs(n)}await this.Qn(3e5)})}}class iW{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return k.resolve(gn.ct);const r=new nW(n);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(N("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(rS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(N("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rS):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(N("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Vy()<=ve.DEBUG&&N("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function sW(t,e){return new iW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n){this.db=e,this.garbageCollector=sW(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Jn(e){let n=0;return this.Wn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(r,i)=>n(i))}addReference(e,n,r){return Td(e,r)}removeReference(e,n,r){return Td(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Td(e,n)}Xn(e,n){return function(r,i){let s=!1;return pA(r).Z(o=>fA(r,o,i).next(a=>(a&&(s=!0),k.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,K.min()),Ri(e).delete([0,ln(o.path)])))});i.push(l)}}).next(()=>k.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Td(e,n)}Yn(e,n){const r=Ri(e);let i,s=gn.ct;return r.X({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==gn.ct&&n(new U(xr(i)),s),s=u,i=l):s=gn.ct}).next(()=>{s!==gn.ct&&n(new U(xr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Td(t,e){return Ri(t).put(function(n,r){return{targetId:0,path:ln(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Me.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Is(e).put(r)}removeEntry(e,n,r){return Is(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Zh(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Zn(e,r)))}getEntry(e,n){let r=Me.newInvalidDocument(n);return Is(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ll(n))},(i,s)=>{r=this.ts(n,s)}).next(()=>r)}es(e,n){let r={size:0,document:Me.newInvalidDocument(n)};return Is(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Ll(n))},(i,s)=>{r={document:this.ts(n,s),size:tf(s)}}).next(()=>r)}getEntries(e,n){let r=vn();return this.ns(e,n,(i,s)=>{const o=this.ts(i,s);r=r.insert(i,o)}).next(()=>r)}ss(e,n){let r=vn(),i=new Oe(U.comparator);return this.ns(e,n,(s,o)=>{const a=this.ts(s,o);r=r.insert(s,a),i=i.insert(s,tf(o))}).next(()=>({documents:r,rs:i}))}ns(e,n,r){if(n.isEmpty())return k.resolve();let i=new Fe(lS);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Ll(i.first()),Ll(i.last())),o=i.getIterator();let a=o.getNext();return Is(e).X({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=U.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&lS(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.G(Ll(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i){const s=n.path,o=[s.popLast().toArray(),s.lastSegment(),Zh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Is(e).j(IDBKeyRange.bound(o,a,!0)).next(l=>{let u=vn();for(const c of l){const d=this.ts(U.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);d.isFoundDocument()&&(Fc(n,d)||i.has(d.key))&&(u=u.insert(d.key,d))}return u})}getAllFromCollectionGroup(e,n,r,i){let s=vn();const o=aS(n,r),a=aS(n,Mn.max());return Is(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.ts(U.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new lW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return oS(e).get("remoteDocumentGlobalKey").next(n=>(G(!!n),n))}Zn(e,n){return oS(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const r=qj(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(K.min())))return r}return Me.newInvalidDocument(e)}}function gA(t){return new aW(t)}class lW extends mA{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new ms(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Fe((s,o)=>ae(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.us.get(s);if(n.push(this.os.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=K_(this.os.serializer,o);i=i.add(s.path.popLast());const u=tf(l);r+=u-a.size,n.push(this.os.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=K_(this.os.serializer,o.convertToNoDocument(K.min()));n.push(this.os.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.os.updateMetadata(e,r)),k.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(r=>(this.us.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:r,rs:i})=>(i.forEach((s,o)=>{this.us.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function oS(t){return Pt(t,"remoteDocumentGlobal")}function Is(t){return Pt(t,"remoteDocumentsV14")}function Ll(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aS(t,e){const n=e.documentKey.path.toArray();return[t,Zh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function lS(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ae(n[s],r[s]),i)return i;return i=ae(n.length,r.length),i||(i=ae(n[n.length-2],r[r.length-2]),i||ae(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yu(r.mutation,i,yn.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){const i=Rr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Gl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=vn();const o=gu(),a=gu();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof pi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),yu(c.mutation,u,c.mutation.getFieldMask(),We.now())):o.set(u.key,yn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new uW(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gu();let i=new Oe((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||yn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||le()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=MR();c.forEach(h=>{if(!s.has(h)){const f=WR(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return U.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Aw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve(Rr());let a=-1,l=s;return o.next(u=>k.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?k.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,le())).next(c=>({batchId:a,changes:$R(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=Gl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Gl();return this.indexManager.getCollectionParents(e,i).next(o=>k.forEach(o,a=>{const l=function(u,c){return new fi(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Me.newInvalidDocument(u)))});let o=Gl();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&yu(u.mutation,l,yn.empty(),We.now()),Fc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return k.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ct(r.createTime)}),k.resolve()}getNamedQuery(e,n){return k.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:Uw(r.bundledQuery),readTime:ct(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(){this.overlays=new Oe(U.comparator),this.ls=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rr();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){const i=Rr(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Rr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Rr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return k.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $w(n,r));let s=this.ls.get(n);s===void 0&&(s=le(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.fs=new Fe(bt.ds),this.ws=new Fe(bt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new bt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new bt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new U(new we([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new U(new we([])),r=new bt(n,e),i=new bt(n,e+1);let s=le();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return U.comparator(e.key,n.key)||ae(e.As,n.As)}static _s(e,n){return ae(e.As,n.As)||U.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Fe(bt.ds)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Dw(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(ae);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),k.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new bt(new U(s),0);let a=new Fe(ae);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),k.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){G(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return k.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new bt(n,0),i=this.Rs.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(e){this.Ds=e,this.docs=new Oe(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():Me.newInvalidDocument(n))}getEntries(e,n){let r=vn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Me.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=vn();const o=n.path,a=new U(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Tw(dR(c),r)<=0||(i.has(c.key)||Fc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}Cs(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pW(this)}getSize(e){return k.resolve(this.size)}}class pW extends mA{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.persistence=e,this.xs=new ms(n=>lo(n),Mc),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zw,this.targetCount=0,this.Ms=po.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),k.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new po(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.Fn(n),k.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),k.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.$s={},this.overlays={},this.Os=new gn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new mW(this),this.indexManager=new Zj,this.remoteDocumentCache=function(r){return new fW(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new lA(n),this.qs=new cW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new hW(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){N("MemoryPersistence","Starting transaction:",e);const i=new gW(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return k.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class gW extends fR{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Qs=new zw,this.js=null}static zs(e){return new Wp(e)}get Ws(){if(this.js)return this.js;throw W()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),k.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Ws,r=>{const i=U.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return k.or([()=>k.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Lp("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",b_,{unique:!0}),a.createObjectStore("documentMutations")}(e),uS(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=k.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),uS(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:K.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").j().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",b_,{unique:!0});const c=l.store("mutations"),d=u.map(h=>c.put(h));return k.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Ys(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(o=o.next(()=>this.Zs(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ei(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:ej});l.createIndex("collectionPathOverlayIndex",tj,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",nj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:j6});l.createIndex("documentKeyIndex",W6),l.createIndex("collectionGroupIndex",q6)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Y6}).createIndex("sequenceNumberIndex",X6,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:J6}).createIndex("documentKeyIndex",Z6,{unique:!1})}(e))),o}Xs(e){let n=0;return e.store("remoteDocuments").X((r,i)=>{n+=tf(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next(i=>k.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",o).next(a=>k.forEach(a,l=>{G(l.userId===s.userId);const u=Rs(this.serializer,l);return hA(e,s.userId,u).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((o,a)=>{const l=new we(o),u=function(c){return[0,ln(c)]}(l);s.push(n.get(u).next(c=>c?k.resolve():(d=>n.put({targetId:0,path:ln(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>k.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:Q6});const r=n.store("collectionParents"),i=new Bw,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:ln(l)})}};return n.store("remoteDocuments").X({Y:!0},(o,a)=>{const l=new we(o);return s(l.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([o,a,l],u)=>{const c=xr(a);return s(c.popLast())}))}ei(e){const n=e.store("targets");return n.X((r,i)=>{const s=Yl(i),o=uA(this.serializer,s);return n.put(o)})}ni(e,n){const r=n.store("remoteDocuments"),i=[];return r.X((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(u=o,u.document?new U(we.fromString(u.document.name).popFirst(5)):u.noDocument?U.fromSegments(u.noDocument.path):u.unknownDocument?U.fromSegments(u.unknownDocument.path):W()).path.toArray();var u;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>k.waitFor(i))}si(e,n){const r=n.store("mutations"),i=gA(this.serializer),s=new vA(Wp.zs,this.serializer.fe);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:le();Rs(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),k.forEach(a,(l,u)=>{const c=new kt(u),d=zp.de(this.serializer,c),h=s.getIndexManager(c),f=jp.de(c,this.serializer,h,s.referenceDelegate);return new yA(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new zy(n,gn.ct),l).next()})})}}function uS(t){t.createObjectStore("targetDocuments",{keyPath:K6}).createIndex("documentTargetsIndex",G6,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",H6,{unique:!0}),t.createObjectStore("targetGlobal")}const lg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jw{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ii=s,this.window=o,this.document=a,this.ri=u,this.oi=c,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!jw.D())throw new A(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oW(this,i),this.di=n+"main",this.serializer=new lA(l),this.wi=new or(this.di,this.ui,new yW(this.serializer)),this.Bs=new tW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gA(this.serializer),this.qs=new Hj,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,c===!1&&lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new A(C.FAILED_PRECONDITION,lg);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new gn(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){return this.fi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(ps(e))return N("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return N("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Fl(e).get("owner").next(n=>k.resolve(this.Ri(n)))}Pi(e){return kd(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Pt(n,"clientMetadata");return r.j().next(i=>{const s=this.Si(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return k.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this._i)for(const n of e)this._i.removeItem(this.Di(n.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?k.resolve(!0):Fl(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new A(C.FAILED_PRECONDITION,lg);return!1}}return!(!this.networkEnabled||!this.inForeground)||kd(e).j().next(r=>this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&N("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new zy(e,gn.ct);return this.Ai(n).next(()=>this.Pi(n))}),this.wi.close(),this.Mi()}Si(e,n){return e.filter(r=>this.Vi(r.updateTimeMs,n)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>kd(e).j().next(n=>this.Si(n,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return jp.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new eW(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return zp.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,r){N("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ui)===15?ij:o===14?vR:o===13?yR:o===12?rj:o===11?gR:void W();var o;let a;return this.wi.runTransaction(e,i,s,l=>(a=new zy(l,this.Os?this.Os.next():gn.ct),n==="readwrite-primary"?this.Ti(a).next(u=>!!u||this.Ei(a)).next(u=>{if(!u)throw lt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new A(C.FAILED_PRECONDITION,hR);return r(a)}).next(u=>this.vi(a).next(()=>u)):this.Oi(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Oi(e){return Fl(e).get("owner").next(n=>{if(n!==null&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new A(C.FAILED_PRECONDITION,lg)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Fl(e).put("owner",n)}static D(){return or.D()}Ai(e){const n=Fl(e);return n.get("owner").next(r=>this.Ri(r)?(N("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):k.resolve())}Vi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(lt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground=this.document.visibilityState==="visible")}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;t5()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const r=((n=this._i)===null||n===void 0?void 0:n.getItem(this.Di(e)))!==null;return N("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return lt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){lt("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Fl(t){return Pt(t,"owner")}function kd(t){return Pt(t,"clientMetadata")}function Ww(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=le(),i=le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(M_(n))return k.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Jh(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Jh(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return M_(n)||i.isEqual(K.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(Vy()<=ve.DEBUG&&N("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qy(n)),this.Wi(e,o,n,cR(i,-1)))})}ji(e,n){let r=new Fe(DR(e));return n.forEach((i,s)=>{Fc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return Vy()<=ve.DEBUG&&N("QueryEngine","Using full collection scan to execute query:",Qy(n)),this.Ui.getDocumentsMatchingQuery(e,n,Mn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Oe(ae),this.Yi=new ms(s=>lo(s),Mc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yA(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function IA(t,e,n,r){return new vW(t,e,n,r)}async function EA(t,e){const n=B(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=le();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function wW(t,e){const n=B(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=k.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(m=>{const v=l.docVersions.get(f);G(v!==null),m.version.compareTo(v)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=le();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _A(t){const e=B(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function IW(t,e){const n=B(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(_t.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(m,v,_){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,f,c)&&a.push(n.Bs.updateTargetData(s,f))});let l=vn(),u=le();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(SA(s,o,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(K.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function SA(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=vn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(K.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):N("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function EW(t,e){const n=B(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ua(t,e){const n=B(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Yr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Va(t,e,n){const r=B(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ps(o))throw o;N("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function nf(t,e,n){const r=B(t);let i=K.min(),s=le();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=B(a),d=c.Yi.get(u);return d!==void 0?k.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,bn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:K.min(),n?s:le())).next(a=>(kA(r,PR(e),a),{documents:a,ir:s})))}function bA(t,e){const n=B(t),r=B(n.Bs),i=n.Ji.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(o=>o?o.target:null))}function TA(t,e){const n=B(t),r=n.Xi.get(e)||K.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Zi.getAllFromCollectionGroup(i,e,cR(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(kA(n,e,i),i))}function kA(t,e,n){let r=t.Xi.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}async function _W(t,e,n,r){const i=B(t);let s=le(),o=vn();for(const u of n){const c=e.rr(u.metadata.name);u.document&&(s=s.add(c));const d=e.ur(u);d.setReadTime(e.cr(u.metadata.readTime)),o=o.insert(c,d)}const a=i.Zi.newChangeBuffer({trackRemovals:!0}),l=await Ua(i,function(u){return bn(ol(we.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>SA(u,a,o).next(c=>(a.apply(u),c)).next(c=>i.Bs.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Bs.addMatchingKeys(u,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.nr,c.sr)).next(()=>c.nr)))}async function SW(t,e,n=le()){const r=await Ua(t,bn(Uw(e.bundledQuery))),i=B(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ct(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.qs.saveNamedQuery(s,e);const a=r.withResumeToken(_t.EMPTY_BYTE_STRING,o);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(s,a).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,n,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}function cS(t,e){return`firestore_clients_${t}_${e}`}function dS(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ug(t,e){return`firestore_targets_${t}_${e}`}class rf{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static ar(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new A(i.error.code,i.error.message))),o?new rf(e,n,i.state,s):(lt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static ar(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new A(r.error.code,r.error.message))),s?new vu(e,r.state,i):(lt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sf{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Nw();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=pR(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new sf(e,s):(lt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Hw{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Hw(n.clientId,n.onlineState):(lt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class nv{constructor(){this.activeTargetIds=Nw()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cg{constructor(e,n,r,i,s){this.window=e,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Oe(ae),this.started=!1,this.yr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=cS(this.persistenceKey,this.wr),this.Ir=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new nv),this.Tr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.Rr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const r of e){if(r===this.wr)continue;const i=this.getItem(cS(this.persistenceKey,r));if(i){const s=sf.ar(r,i);s&&(this.gr=this.gr.insert(s.clientId,s))}}this.Pr();const n=this.storage.getItem(this.vr);if(n){const r=this.br(n);r&&this.Vr(r)}for(const r of this.yr)this.mr(r);this.yr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,r){this.Dr(e,n,r),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ug(this.persistenceKey,e));if(r){const i=vu.ar(e,r);i&&(n=i.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ug(this.persistenceKey,e))}updateQueryState(e,n,r){this.kr(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return N("SharedClientState","READ",e,n),n}setItem(e,n){N("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){N("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const n=e;if(n.storageArea===this.storage){if(N("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Tr.test(n.key)){if(n.newValue==null){const r=this.Or(n.key);return this.Fr(r,null)}{const r=this.Br(n.key,n.newValue);if(r)return this.Fr(r.clientId,r)}}else if(this.Er.test(n.key)){if(n.newValue!==null){const r=this.Lr(n.key,n.newValue);if(r)return this.qr(r)}}else if(this.Ar.test(n.key)){if(n.newValue!==null){const r=this.Ur(n.key,n.newValue);if(r)return this.Kr(r)}}else if(n.key===this.vr){if(n.newValue!==null){const r=this.br(n.newValue);if(r)return this.Vr(r)}}else if(n.key===this.Ir){const r=function(i){let s=gn.ct;if(i!=null)try{const o=JSON.parse(i);G(typeof o=="number"),s=o}catch(o){lt("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==gn.ct&&this.sequenceNumberHandler(r)}else if(n.key===this.Rr){const r=this.Gr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Qr(i)))}}}else this.yr.push(n)})}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,r){const i=new rf(this.currentUser,e,n,r),s=dS(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const n=dS(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){const n={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(n))}kr(e,n,r){const i=ug(this.persistenceKey,e),s=new vu(e,n,r);this.setItem(i,s.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const r=this.Or(e);return sf.ar(r,n)}Lr(e,n){const r=this.Er.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return rf.ar(new kt(s),i,n)}Ur(e,n){const r=this.Ar.exec(e),i=Number(r[1]);return vu.ar(i,n)}br(e){return Hw.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);N("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const r=n?this.gr.insert(e,n):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Wr(o,a).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=Nw();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class CA{constructor(){this.Hr=new nv,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new nv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){N("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function dg(){return Cd===null?Cd=268435456+Math.round(2147483648*Math.random()):Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class CW extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=dg(),a=this.To(e,n);N("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(u=>(N("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw hr("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=TW[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=dg();return new Promise((o,a)=>{const l=new S6;l.setWithCredentials(!0),l.listenOnce(I6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case og.NO_ERROR:const c=l.getResponseJson();N(Gt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case og.TIMEOUT:N(Gt,`RPC '${e}' ${s} timed out`),a(new A(C.DEADLINE_EXCEEDED,"Request time out"));break;case og.HTTP_ERROR:const d=l.getStatus();if(N(Gt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const m=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(_)>=0?_:C.UNKNOWN}(f.status);a(new A(m,f.message))}else a(new A(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new A(C.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{N(Gt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);N(Gt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=dg(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=v6(),a=w6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new _6({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");N(Gt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const m=new kW({ro:_=>{f?N(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(N(Gt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),N(Gt,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),v=(_,y,p)=>{_.listen(y,g=>{try{p(g)}catch(w){setTimeout(()=>{throw w},0)}})};return v(d,Id.EventType.OPEN,()=>{f||N(Gt,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Id.EventType.CLOSE,()=>{f||(f=!0,N(Gt,`RPC '${e}' stream ${i} transport closed`),m.wo())}),v(d,Id.EventType.ERROR,_=>{f||(f=!0,hr(Gt,`RPC '${e}' stream ${i} transport errored:`,_),m.wo(new A(C.UNAVAILABLE,"The operation could not be completed")))}),v(d,Id.EventType.MESSAGE,_=>{var y;if(!f){const p=_.data[0];G(!!p);const g=p,w=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(w){N(Gt,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let T=function(x){const L=mt[x];if(L!==void 0)return KR(L)}(E),S=w.message;T===void 0&&(T=C.INTERNAL,S="Unknown error status: "+E+" with message "+w.message),f=!0,m.wo(new A(T,S)),d.close()}else N(Gt,`RPC '${e}' stream ${i} received:`,p),m._o(p)}}),v(a,E6.STAT_EVENT,_=>{_.stat===I_.PROXY?N(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===I_.NOPROXY&&N(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return typeof window<"u"?window:null}function Zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){return new $j(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&N("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kw(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(lt(n.toString()),lt("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new A(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return N("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xW extends RA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=Fj(this.serializer,e),r=function(i){if(!("targetChange"in i))return K.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?ct(s.readTime):K.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=oc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Yh(a)?{documents:nA(i,a)}:{query:rA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=XR(i,s.resumeToken);const l=Yy(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(K.min())>0){o.readTime=Fa(i,s.snapshotVersion.toTimestamp());const l=Yy(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=Vj(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=oc(this.serializer),n.removeTarget=e,this.Wo(n)}}class RW extends RA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=Uj(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.cu(r,n)}return G(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=oc(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ac(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new A(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(C.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class NW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lt(n),this.mu=!1):N("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{gs(this)&&(N("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=B(a);l.vu.add(4),await ul(l),l.bu.set("Unknown"),l.vu.delete(4),await jc(l)}(this))})}),this.bu=new NW(r,i)}}async function jc(t){if(gs(t))for(const e of t.Ru)await e(!0)}async function ul(t){for(const e of t.Ru)await e(!1)}function qp(t,e){const n=B(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Yw(n)?Qw(n):dl(n).Ko()&&Gw(n,e))}function lc(t,e){const n=B(t),r=dl(n);n.Au.delete(e),r.Ko()&&AA(n,e),n.Au.size===0&&(r.Ko()?r.jo():gs(n)&&n.bu.set("Unknown"))}function Gw(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(t).su(e)}function AA(t,e){t.Vu.qt(e),dl(t).iu(e)}function Qw(t){t.Vu=new Nj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),dl(t).start(),t.bu.gu()}function Yw(t){return gs(t)&&!dl(t).Uo()&&t.Au.size>0}function gs(t){return B(t).vu.size===0}function NA(t){t.Vu=void 0}async function DW(t){t.Au.forEach((e,n)=>{Gw(t,e)})}async function OW(t,e){NA(t),Yw(t)?(t.bu.Iu(e),Qw(t)):t.bu.set("Unknown")}async function $W(t,e,n){if(t.bu.set("Online"),e instanceof YR&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){N("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(t,r)}else if(e instanceof Jd?t.Vu.Ht(e):e instanceof QR?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(K.min()))try{const r=await _A(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(_t.EMPTY_BYTE_STRING,u.snapshotVersion)),AA(i,a);const c=new Yr(u.target,a,l,u.sequenceNumber);Gw(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){N("RemoteStore","Failed to raise snapshot:",r),await of(t,r)}}async function of(t,e,n){if(!ps(e))throw e;t.vu.add(1),await ul(t),t.bu.set("Offline"),n||(n=()=>_A(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{N("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await jc(t)})}function PA(t,e){return e().catch(n=>of(t,n,e))}async function cl(t){const e=B(t),n=rs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;MW(e);)try{const i=await EW(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,LW(e,i)}catch(i){await of(e,i)}DA(e)&&OA(e)}function MW(t){return gs(t)&&t.Eu.length<10}function LW(t,e){t.Eu.push(e);const n=rs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function DA(t){return gs(t)&&!rs(t).Uo()&&t.Eu.length>0}function OA(t){rs(t).start()}async function FW(t){rs(t).hu()}async function UW(t){const e=rs(t);for(const n of t.Eu)e.uu(n.mutations)}async function VW(t,e,n){const r=t.Eu.shift(),i=Ow.from(r,e,n);await PA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cl(t)}async function BW(t,e){e&&rs(t).ou&&await async function(n,r){if(i=r.code,HR(i)&&i!==C.ABORTED){const s=n.Eu.shift();rs(n).Qo(),await PA(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await cl(n)}var i}(t,e),DA(t)&&OA(t)}async function fS(t,e){const n=B(t);n.asyncQueue.verifyOperationInProgress(),N("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.vu.add(3),await ul(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await jc(n)}async function rv(t,e){const n=B(t);e?(n.vu.delete(2),await jc(n)):e||(n.vu.add(2),await ul(n),n.bu.set("Unknown"))}function dl(t){return t.Su||(t.Su=function(e,n,r){const i=B(e);return i.fu(),new xW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:DW.bind(null,t),ao:OW.bind(null,t),nu:$W.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Yw(t)?Qw(t):t.bu.set("Unknown")):(await t.Su.stop(),NA(t))})),t.Su}function rs(t){return t.Du||(t.Du=function(e,n,r){const i=B(e);return i.fu(),new RW(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:FW.bind(null,t),ao:BW.bind(null,t),au:UW.bind(null,t),cu:VW.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await cl(t)):(await t.Du.stop(),t.Eu.length>0&&(N("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Xw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hl(t,e){if(lt("AsyncQueue",`${e}: ${t}`),ps(t))return new A(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=Gl(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.Cu=new Oe(U.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):W():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ba{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ba(e,n,va.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.Nu=void 0,this.listeners=[]}}class jW{constructor(){this.queries=new ms(e=>NR(e),Lc),this.onlineState="Unknown",this.ku=new Set}}async function Jw(t,e){const n=B(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new zW),i)try{s.Nu=await n.onListen(r)}catch(o){const a=hl(o,`Initialization of query '${Qy(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&e1(n)}async function Zw(t,e){const n=B(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function WW(t,e){const n=B(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&e1(n)}function qW(t,e,n){const r=B(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function e1(t){t.ku.forEach(e=>{e.next()})}class t1{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ba(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.serializer=e}rr(e){return Or(this.serializer,e)}ur(e){return e.metadata.exists?tA(this.serializer,e.document,!1):Me.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ct(e)}}class KW{constructor(e,n,r){this.ju=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$A(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const r=we.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,r=new mS(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||le()).add(s);n.set(o,a)}}return n}async complete(){const e=await _W(this.localStore,new mS(this.serializer),this.documents,this.ju.id),n=this.Wu(this.documents);for(const r of this.queries)await SW(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function $A(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.key=e}}class LA{constructor(e){this.key=e}}class FA{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=le(),this.mutatedKeys=le(),this.tc=DR(e),this.ec=new va(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new pS,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Fc(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?m!==v&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.tc(f,l)>0||u&&this.tc(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,c)=>function(d,h){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return f(d)-f(h)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new Ba(this.query,e.ec,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=le(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new LA(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new MA(r))}),n}hc(e){this.Yu=e.ir,this.Zu=le();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ba.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class GW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QW{constructor(e){this.key=e,this.fc=!1}}class YW{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ms(a=>NR(a),Lc),this._c=new Map,this.mc=new Set,this.gc=new Oe(U.comparator),this.yc=new Map,this.Ic=new zw,this.Tc={},this.Ec=new Map,this.Ac=po.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function XW(t,e){const n=o1(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Ua(n.localStore,bn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await n1(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&qp(n.remoteStore,o)}return i}async function n1(t,e,n,r,i){t.Rc=(d,h,f)=>async function(m,v,_,y){let p=v.view.sc(_);p.zi&&(p=await nf(m.localStore,v.query,!1).then(({documents:E})=>v.view.sc(E,p)));const g=y&&y.targetChanges.get(v.targetId),w=v.view.applyChanges(p,m.isPrimaryClient,g);return iv(m,v.targetId,w.cc),w.snapshot}(t,d,h,f);const s=await nf(t.localStore,e,!0),o=new FA(e,s.ir),a=o.sc(s.documents),l=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);iv(t,n,u.cc);const c=new GW(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function JW(t,e){const n=B(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Lc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Va(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),lc(n.remoteStore,r.targetId),za(n,r.targetId)}).catch(fs)):(za(n,r.targetId),await Va(n.localStore,r.targetId,!0))}async function ZW(t,e,n){const r=a1(t);try{const i=await function(s,o){const a=B(s),l=We.now(),u=o.reduce((h,f)=>h.add(f.key),le());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=vn(),m=le();return a.Zi.getEntries(h,u).next(v=>{f=v,f.forEach((_,y)=>{y.isValidDocument()||(m=m.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(v=>{c=v;const _=[];for(const y of o){const p=xj(y,c.get(y.key).overlayedDocument);p!=null&&_.push(new pi(y.key,p,_R(p.value.mapValue),je.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(v=>{d=v;const _=v.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(h,v.batchId,_)})}).then(()=>({batchId:d.batchId,changes:$R(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Oe(ae)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await mi(r,i.changes),await cl(r.remoteStore)}catch(i){const s=hl(i,"Failed to persist write");n.reject(s)}}async function UA(t,e){const n=B(t);try{const r=await IW(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?G(o.fc):i.removedDocuments.size>0&&(G(o.fc),o.fc=!1))}),await mi(n,r,e)}catch(r){await fs(r)}}function gS(t,e,n){const r=B(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=B(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&e1(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eq(t,e,n){const r=B(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Oe(U.comparator);o=o.insert(s,Me.newNoDocument(s,K.min()));const a=le().add(s),l=new Vc(K.min(),new Map,new Oe(ae),o,a);await UA(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),s1(r)}else await Va(r.localStore,e,!1).then(()=>za(r,e,n)).catch(fs)}async function tq(t,e){const n=B(t),r=e.batch.batchId;try{const i=await wW(n.localStore,e);i1(n,r,null),r1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mi(n,i)}catch(i){await fs(i)}}async function nq(t,e,n){const r=B(t);try{const i=await function(s,o){const a=B(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(G(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);i1(r,e,n),r1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mi(r,i)}catch(i){await fs(i)}}async function rq(t,e){const n=B(t);gs(n.remoteStore)||N("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=B(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Ec.get(r)||[];i.push(e),n.Ec.set(r,i)}catch(r){const i=hl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function r1(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function i1(t,e,n){const r=B(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function za(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||VA(t,r)})}function VA(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(lc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),s1(t))}function iv(t,e,n){for(const r of n)r instanceof MA?(t.Ic.addReference(r.key,e),iq(t,r)):r instanceof LA?(N("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||VA(t,r.key)):W()}function iq(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(N("SyncEngine","New document in limbo: "+n),t.mc.add(r),s1(t))}function s1(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new U(we.fromString(e)),r=t.Ac.next();t.yc.set(r,new QW(n)),t.gc=t.gc.insert(n,r),qp(t.remoteStore,new Yr(bn(ol(n.path)),r,"TargetPurposeLimboResolution",gn.ct))}}async function mi(t,e,n){const r=B(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=qw.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=B(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>k.forEach(l,d=>k.forEach(d.Fi,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>k.forEach(d.Bi,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!ps(c))throw c;N("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ji.get(d),f=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(f);u.Ji=u.Ji.insert(d,m)}}}(r.localStore,s))}async function sq(t,e){const n=B(t);if(!n.currentUser.isEqual(e)){N("SyncEngine","User change. New user:",e.toKey());const r=await EA(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new A(C.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mi(n,r.er)}}function oq(t,e){const n=B(t),r=n.yc.get(e);if(r&&r.fc)return le().add(r.key);{let i=le();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}async function aq(t,e){const n=B(t),r=await nf(n.localStore,e.query,!0),i=e.view.hc(r);return n.isPrimaryClient&&iv(n,e.targetId,i.cc),i}async function lq(t,e){const n=B(t);return TA(n.localStore,e).then(r=>mi(n,r))}async function uq(t,e,n,r){const i=B(t),s=await function(o,a){const l=B(o),u=B(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",c=>u.Sn(c,a).next(d=>d?l.localDocuments.getDocuments(c,d):k.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await cl(i.remoteStore):n==="acknowledged"||n==="rejected"?(i1(i,e,r||null),r1(i,e),function(o,a){B(B(o).mutationQueue).Cn(a)}(i.localStore,e)):W(),await mi(i,s)):N("SyncEngine","Cannot apply mutation batch with id: "+e)}async function cq(t,e){const n=B(t);if(o1(n),a1(n),e===!0&&n.vc!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await yS(n,r.toArray());n.vc=!0,await rv(n.remoteStore,!0);for(const s of i)qp(n.remoteStore,s)}else if(e===!1&&n.vc!==!1){const r=[];let i=Promise.resolve();n._c.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(za(n,o),Va(n.localStore,o,!0))),lc(n.remoteStore,o)}),await i,await yS(n,r),function(s){const o=B(s);o.yc.forEach((a,l)=>{lc(o.remoteStore,l)}),o.Ic.Ts(),o.yc=new Map,o.gc=new Oe(U.comparator)}(n),n.vc=!1,await rv(n.remoteStore,!1)}}async function yS(t,e,n){const r=B(t),i=[],s=[];for(const o of e){let a;const l=r._c.get(o);if(l&&l.length!==0){a=await Ua(r.localStore,bn(l[0]));for(const u of l){const c=r.wc.get(u),d=await aq(r,c);d.snapshot&&s.push(d.snapshot)}}else{const u=await bA(r.localStore,o);a=await Ua(r.localStore,u),await n1(r,BA(u),o,!1,a.resumeToken)}i.push(a)}return r.dc.nu(s),i}function BA(t){return AR(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function dq(t){const e=B(t);return B(B(e.localStore).persistence).$i()}async function hq(t,e,n,r){const i=B(t);if(i.vc)return void N("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await TA(i.localStore,PR(s[0])),a=Vc.createSynthesizedRemoteEventForCurrentChange(e,n==="current",_t.EMPTY_BYTE_STRING);await mi(i,o,a);break}case"rejected":await Va(i.localStore,e,!0),za(i,e,r);break;default:W()}}async function fq(t,e,n){const r=o1(t);if(r.vc){for(const i of e){if(r._c.has(i)){N("SyncEngine","Adding an already active target "+i);continue}const s=await bA(r.localStore,i),o=await Ua(r.localStore,s);await n1(r,BA(s),o.targetId,!1,o.resumeToken),qp(r.remoteStore,o)}for(const i of n)r._c.has(i)&&await Va(r.localStore,i,!1).then(()=>{lc(r.remoteStore,i),za(r,i)}).catch(fs)}}function o1(t){const e=B(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eq.bind(null,e),e.dc.nu=WW.bind(null,e.eventManager),e.dc.Pc=qW.bind(null,e.eventManager),e}function a1(t){const e=B(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nq.bind(null,e),e}function pq(t,e,n){const r=B(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,h){const f=B(d),m=ct(h.createTime);return f.persistence.runTransaction("hasNewerBundle","readonly",v=>f.qs.getBundleMetadata(v,h.id)).then(v=>!!v&&v.createTime.compareTo(m)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress($A(a));const l=new KW(a,i.localStore,s.serializer);let u=await s.bc();for(;u;){const d=await l.zu(u);d&&o._updateProgress(d),u=await s.bc()}const c=await l.complete();return await mi(i,c.Ju,void 0),await function(d,h){const f=B(d);return f.persistence.runTransaction("Save bundle","readwrite",m=>f.qs.saveBundleMetadata(m,h))}(i.localStore,a),o._completeWith(c.progress),Promise.resolve(c.Hu)}catch(a){return hr("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class sv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return IA(this.persistence,new wA,e.initialUser,this.serializer)}createPersistence(e){return new vA(Wp.zs,this.serializer)}createSharedClientState(e){return new CA}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zA extends sv{constructor(e,n,r){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await a1(this.Vc.syncEngine),await cl(this.Vc.remoteStore),await this.persistence.Ii(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return IA(this.persistence,new wA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new rW(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new V6(n,this.persistence);return new U6(e.asyncQueue,r)}createPersistence(e){const n=Ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new jw(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,xA(),Zd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new CA}}class mq extends zA{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Vc.syncEngine;this.sharedClientState instanceof cg&&(this.sharedClientState.syncEngine={jr:uq.bind(null,n),zr:hq.bind(null,n),Wr:fq.bind(null,n),$i:dq.bind(null,n),Qr:lq.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ii(async r=>{await cq(this.Vc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=xA();if(!cg.D(n))throw new A(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ww(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cg(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class l1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sq.bind(null,this.syncEngine),await rv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jW}createDatastore(e){const n=zc(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new CW(i));var i;return function(s,o,a,l){return new AW(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>gS(this.syncEngine,a,0),o=hS.D()?new hS:new bW,new PW(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new YW(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=B(e);N("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ul(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new xt,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(e===null)return null;const n=this.xc.decode(e),r=Number(n);isNaN(r)&&this.Mc(`length string (${n}) is not valid number`);const i=await this.$c(r);return new HW(JSON.parse(i),e.length+r)}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(this.buffer.length===0)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const n=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}async Fc(){const e=await this.Cc.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new A(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=B(r),o=oc(s.serializer)+"/documents",a={documents:i.map(d=>sc(s.serializer,d))},l=await s.vo("BatchGetDocuments",o,a,i.length),u=new Map;l.forEach(d=>{const h=Lj(s.serializer,d);u.set(h.key.toString(),h)});const c=[];return i.forEach(d=>{const h=u.get(d.toString());G(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ll(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=U.fromPath(r);this.mutations.push(new Pw(i,this.precondition(i)))}),await async function(n,r){const i=B(n),s=oc(i.serializer)+"/documents",o={writes:r.map(a=>ac(i.serializer,a))};await i.Io("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw W();n=K.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new A(C.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(K.min())?je.exists(!1):je.updateTime(n):je.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(K.min()))throw new A(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return je.updateTime(n)}return je.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new Kw(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No(async()=>{const e=new yq(this.datastore),n=this.qc(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Uc(i)}))}).catch(r=>{this.Uc(r)})})}qc(e){try{const n=this.updateFunction(e);return!$c(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!HR(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=aR.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{N("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(N("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hl(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eh(t,e){t.asyncQueue.verifyOperationInProgress(),N("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ov(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u1(t);N("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>fS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fS(e.remoteStore,s)),t._onlineComponents=e}function jA(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function u1(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){N("FirestoreClient","Using user provided OfflineComponentProvider");try{await eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jA(n))throw n;hr("Error using user provided cache. Falling back to memory cache: "+n),await eh(t,new sv)}}else N("FirestoreClient","Using default OfflineComponentProvider"),await eh(t,new sv);return t._offlineComponents}async function Kp(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(N("FirestoreClient","Using user provided OnlineComponentProvider"),await ov(t,t._uninitializedComponentsProvider._online)):(N("FirestoreClient","Using default OnlineComponentProvider"),await ov(t,new l1))),t._onlineComponents}function WA(t){return u1(t).then(e=>e.persistence)}function c1(t){return u1(t).then(e=>e.localStore)}function qA(t){return Kp(t).then(e=>e.remoteStore)}function d1(t){return Kp(t).then(e=>e.syncEngine)}function Iq(t){return Kp(t).then(e=>e.datastore)}async function ja(t){const e=await Kp(t),n=e.eventManager;return n.onListen=XW.bind(null,e.syncEngine),n.onUnlisten=JW.bind(null,e.syncEngine),n}function Eq(t){return t.asyncQueue.enqueue(async()=>{const e=await WA(t),n=await qA(t);return e.setNetworkEnabled(!0),function(r){const i=B(r);return i.vu.delete(0),jc(i)}(n)})}function _q(t){return t.asyncQueue.enqueue(async()=>{const e=await WA(t),n=await qA(t);return e.setNetworkEnabled(!1),async function(r){const i=B(r);i.vu.add(0),await ul(i),i.bu.set("Offline")}(n)})}function Sq(t,e){const n=new xt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const u=B(a);return u.persistence.runTransaction("read document","readonly",c=>u.localDocuments.getDocument(c,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new A(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=hl(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await c1(t),e,n)),n.promise}function HA(t,e,n={}){const r=new xt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Hp({next:d=>{s.enqueueAndForget(()=>Zw(i,c));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new A(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&a.source==="server"?l.reject(new A(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new t1(ol(o.path),u,{includeMetadataChanges:!0,Ku:!0});return Jw(i,c)}(await ja(t),t.asyncQueue,e,n,r)),r.promise}function bq(t,e){const n=new xt;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await nf(r,i,!0),a=new FA(i,o.ir),l=a.sc(o.documents),u=a.applyChanges(l,!1);s.resolve(u.snapshot)}catch(o){const a=hl(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await c1(t),e,n)),n.promise}function KA(t,e,n={}){const r=new xt;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new Hp({next:d=>{s.enqueueAndForget(()=>Zw(i,c)),d.fromCache&&a.source==="server"?l.reject(new A(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new t1(o,u,{includeMetadataChanges:!0,Ku:!0});return Jw(i,c)}(await ja(t),t.asyncQueue,e,n,r)),r.promise}function Tq(t,e){const n=new Hp(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){B(r).ku.add(i),i.next()}(await ja(t),n)),()=>{n.Dc(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){B(r).ku.delete(i)}(await ja(t),n))}}function kq(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?GR().encode(s):s,function(l,u){return new gq(l,u)}(function(l,u){if(l instanceof Uint8Array)return vS(l,u);if(l instanceof ArrayBuffer)return vS(new Uint8Array(l),u);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,zc(e));t.asyncQueue.enqueueAndForget(async()=>{pq(await d1(t),i,r)})}function Cq(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=B(n);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(await c1(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t,e,n){if(!n)throw new A(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QA(t,e,n,r){if(e===!0&&r===!0)throw new A(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IS(t){if(!U.isDocumentKey(t))throw new A(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ES(t){if(U.isDocumentKey(t))throw new A(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Ee(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(t);throw new A(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YA(t,e){if(e<=0)throw new A(C.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new A(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new A(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new A(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new A(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Wc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _S({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _S(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new C6;switch(n.type){case"firstParty":return new N6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new A(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=wS.get(e);n&&(N("ComponentProvider","Removing Datastore"),wS.delete(e),n.terminate())}(this),Promise.resolve()}}function xq(t,e,n,r={}){var i;const s=(t=Ee(t,Wc))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&hr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=kt.MOCK_USER;else{o=JU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new A(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new kt(l)}t._authCredentials=new x6(new oR(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class $r extends Wt{constructor(e,n,r){super(e,n,ol(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new U(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function XA(t,e,...n){if(t=te(t),h1("collection","path",e),t instanceof Wc){const r=we.fromString(e,...n);return ES(r),new $r(t,null,r)}{if(!(t instanceof Ue||t instanceof $r))throw new A(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return ES(r),new $r(t.firestore,null,r)}}function Rq(t,e){if(t=Ee(t,Wc),h1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new A(C.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wt(t,null,function(n){return new fi(we.emptyPath(),n)}(e))}function af(t,e,...n){if(t=te(t),arguments.length===1&&(e=aR.A()),h1("doc","path",e),t instanceof Wc){const r=we.fromString(e,...n);return IS(r),new Ue(t,null,new U(r))}{if(!(t instanceof Ue||t instanceof $r))throw new A(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return IS(r),new Ue(t.firestore,t instanceof $r?t.converter:null,new U(r))}}function JA(t,e){return t=te(t),e=te(e),(t instanceof Ue||t instanceof $r)&&(e instanceof Ue||e instanceof $r)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ZA(t,e){return t=te(t),e=te(e),t instanceof Wt&&e instanceof Wt&&t.firestore===e.firestore&&Lc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kw(this,"async_queue_retry"),this.Xc=()=>{const n=Zd();n&&N("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Zd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new xt;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!ps(e))throw e;N("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw lt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Xw.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&W()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function av(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Nq{constructor(){this._progressObserver={},this._taskCompletionResolver=new xt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq=-1;class rt extends Wc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Aq,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eN(this),this._firestoreClient.terminate()}}function Dt(t){return t._firestoreClient||eN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eN(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new aj(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new wq(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Dq(t,e){nN(t=Ee(t,rt));const n=Dt(t);if(n._uninitializedComponentsProvider)throw new A(C.FAILED_PRECONDITION,"SDK cache is already specified.");hr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new l1;return tN(n,i,new zA(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Oq(t){nN(t=Ee(t,rt));const e=Dt(t);if(e._uninitializedComponentsProvider)throw new A(C.FAILED_PRECONDITION,"SDK cache is already specified.");hr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new l1;return tN(e,r,new mq(r,n.cacheSizeBytes))}function tN(t,e,n){const r=new xt;return t.asyncQueue.enqueue(async()=>{try{await eh(t,n),await ov(t,e),r.resolve()}catch(i){const s=i;if(!jA(s))throw s;hr("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function $q(t){if(t._initialized&&!t._terminated)throw new A(C.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!or.D())return Promise.resolve();const r=n+"main";await or.delete(r)}(Ww(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Mq(t){return function(e){const n=new xt;return e.asyncQueue.enqueueAndForget(async()=>rq(await d1(e),n)),n.promise}(Dt(t=Ee(t,rt)))}function Lq(t){return Eq(Dt(t=Ee(t,rt)))}function Fq(t){return _q(Dt(t=Ee(t,rt)))}function Uq(t,e){const n=Dt(t=Ee(t,rt)),r=new Nq;return kq(n,t._databaseId,e,r),r}function Vq(t,e){return Cq(Dt(t=Ee(t,rt)),e).then(n=>n?new Wt(t,null,n.query):null)}function nN(t){if(t._initialized||t._terminated)throw new A(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ur(_t.fromBase64String(e))}catch(n){throw new A(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ur(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new A(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=/^__.*__$/;class zq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new al(e,this.data,n,this.fieldTransforms)}}class rN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}class Yp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Yp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lf(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(iN(this.ca)&&Bq.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class jq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zc(e)}ya(e,n,r,i=!1){return new Yp({ca:e,methodName:n,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function So(t){const e=t._freezeSettings(),n=zc(t._databaseId);return new jq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Xp(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);g1("Data must be an object, but it was:",o,r);const a=aN(r,o);let l,u;if(s.merge)l=new yn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=lv(e,d,n);if(!o.contains(h))throw new A(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);uN(c,h)||c.push(h)}l=new yn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new zq(new Ft(a),l,u)}class qc extends _o{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qc}}function sN(t,e,n){return new Yp({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class f1 extends _o{_toFieldTransform(e){return new Uc(e.path,new Ma)}isEqual(e){return e instanceof f1}}class Wq extends _o{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=sN(this,e,!0),r=this.pa.map(s=>bo(s,n)),i=new uo(r);return new Uc(e.path,i)}isEqual(e){return this===e}}class qq extends _o{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=sN(this,e,!0),r=this.pa.map(s=>bo(s,n)),i=new co(r);return new Uc(e.path,i)}isEqual(e){return this===e}}class Hq extends _o{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new La(e.serializer,UR(e.serializer,this.Ia));return new Uc(e.path,n)}isEqual(e){return this===e}}function p1(t,e,n,r){const i=t.ya(1,e,n);g1("Data must be an object, but it was:",i,r);const s=[],o=Ft.empty();Eo(r,(l,u)=>{const c=y1(e,l,n);u=te(u);const d=i.da(c);if(u instanceof qc)s.push(c);else{const h=bo(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new yn(s);return new rN(o,a,i.fieldTransforms)}function m1(t,e,n,r,i,s){const o=t.ya(1,e,n),a=[lv(e,r,n)],l=[i];if(s.length%2!=0)throw new A(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(lv(e,s[h])),l.push(s[h+1]);const u=[],c=Ft.empty();for(let h=a.length-1;h>=0;--h)if(!uN(u,a[h])){const f=a[h];let m=l[h];m=te(m);const v=o.da(f);if(m instanceof qc)u.push(f);else{const _=bo(m,v);_!=null&&(u.push(f),c.set(f,_))}}const d=new yn(u);return new rN(c,d,o.fieldTransforms)}function oN(t,e,n,r=!1){return bo(n,t.ya(r?4:3,e))}function bo(t,e){if(lN(t=te(t)))return g1("Unsupported field value:",e,t),aN(t,e);if(t instanceof _o)return function(n,r){if(!iN(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=bo(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=te(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return UR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=We.fromDate(n);return{timestampValue:Fa(r.serializer,i)}}if(n instanceof We){const i=new We(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Fa(r.serializer,i)}}if(n instanceof Qp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ur)return{bytesValue:XR(r.serializer,n._byteString)};if(n instanceof Ue){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Fw(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Gp(n)}`)}(t,e)}function aN(t,e){const n={};return wR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eo(t,(r,i)=>{const s=bo(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Qp||t instanceof Ur||t instanceof Ue||t instanceof _o)}function g1(t,e,n){if(!lN(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Gp(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function lv(t,e,n){if((e=te(e))instanceof is)return e._internalPath;if(typeof e=="string")return y1(t,e);throw lf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kq=new RegExp("[~\\*/\\[\\]]");function y1(t,e,n){if(e.search(Kq)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new is(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new A(C.INVALID_ARGUMENT,a+t+l)}function uN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gq extends uc{data(){return super.data()}}function Jp(t,e){return typeof e=="string"?y1(t,e):e instanceof is?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new A(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v1{}class Hc extends v1{}function bi(t,e,...n){let r=[];e instanceof v1&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof w1).length,o=i.filter(a=>a instanceof Zp).length;if(s>1||s>0&&o>0)throw new A(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zp extends Hc{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zp(e,n,r)}_apply(e){const n=this._parse(e);return hN(e._query,n),new Wt(e.firestore,e.converter,Gy(e._query,n))}_parse(e){const n=So(e.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new A(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){bS(c,u);const h=[];for(const f of c)h.push(SS(a,i,f));d={arrayValue:{values:h}}}else d=SS(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||bS(c,u),d=oN(o,s,c,u==="in"||u==="not-in");return he.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qq(t,e,n){const r=e,i=Jp("where",t);return Zp._create(i,r,n)}class w1 extends v1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new w1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Te.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)hN(s,a),s=Gy(s,a)}(e._query,n),new Wt(e.firestore,e.converter,Gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class I1 extends Hc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new I1(e,n)}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new A(C.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new A(C.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ya(i,s);return function(a,l){if(Rw(a)===null){const u=Up(a);u!==null&&fN(a,u,l.field)}}(r,o),o}(e._query,this._field,this._direction);return new Wt(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new fi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Yq(t,e="asc"){const n=e,r=Jp("orderBy",t);return I1._create(r,n)}class em extends Hc{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new em(e,n,r)}_apply(e){return new Wt(e.firestore,e.converter,Jh(e._query,this._limit,this._limitType))}}function Xq(t){return YA("limit",t),em._create("limit",t,"F")}function Jq(t){return YA("limitToLast",t),em._create("limitToLast",t,"L")}class tm extends Hc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=dN(e,this.type,this._docOrFields,this._inclusive);return new Wt(e.firestore,e.converter,function(r,i){return new fi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function Zq(...t){return tm._create("startAt",t,!0)}function e8(...t){return tm._create("startAfter",t,!1)}class nm extends Hc{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new nm(e,n,r)}_apply(e){const n=dN(e,this.type,this._docOrFields,this._inclusive);return new Wt(e.firestore,e.converter,function(r,i){return new fi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function t8(...t){return nm._create("endBefore",t,!1)}function n8(...t){return nm._create("endAt",t,!0)}function dN(t,e,n,r){if(n[0]=te(n[0]),n[0]instanceof uc)return function(i,s,o,a,l){if(!a)throw new A(C.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const c of Gs(i))if(c.field.isKeyField())u.push(ao(s,a.key));else{const d=a.data.field(c.field);if(Fp(d))throw new A(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const h=c.field.canonicalString();throw new A(C.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(d)}return new ns(u,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=So(t.firestore);return function(s,o,a,l,u,c){const d=s.explicitOrderBy;if(u.length>d.length)throw new A(C.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let f=0;f<u.length;f++){const m=u[f];if(d[f].field.isKeyField()){if(typeof m!="string")throw new A(C.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof m}`);if(!Aw(s)&&m.indexOf("/")!==-1)throw new A(C.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${m}' contains a slash.`);const v=s.path.child(we.fromString(m));if(!U.isDocumentKey(v))throw new A(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const _=new U(v);h.push(ao(o,_))}else{const v=oN(a,l,m);h.push(v)}}return new ns(h,c)}(t._query,t.firestore._databaseId,i,e,n,r)}}function SS(t,e,n){if(typeof(n=te(n))=="string"){if(n==="")throw new A(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Aw(e)&&n.indexOf("/")!==-1)throw new A(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!U.isDocumentKey(r))throw new A(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ao(t,new U(r))}if(n instanceof Ue)return ao(t,n._key);throw new A(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function bS(t,e){if(!Array.isArray(t)||t.length===0)throw new A(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hN(t,e){if(e.isInequality()){const r=Up(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new A(C.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Rw(t);s!==null&&fN(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new A(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new A(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function fN(t,e,n){if(!n.isEqual(e))throw new A(C.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class E1{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Eo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qp(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);G(aA(r));const i=new es(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||lt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class r8 extends E1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ai extends uc{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wu extends ai{data(e={}){return super.data(e)}}class ss{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wu(this._firestore,this._userDataWriter,r.key,r,new Vs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new wu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Vs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new wu(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Vs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:i8(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}function pN(t,e){return t instanceof ai&&e instanceof ai?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ss&&e instanceof ss&&t._firestore===e._firestore&&ZA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){t=Ee(t,Ue);const e=Ee(t.firestore,rt);return HA(Dt(e),t._key).then(n=>_1(e,t,n))}class To extends E1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function o8(t){t=Ee(t,Ue);const e=Ee(t.firestore,rt),n=Dt(e),r=new To(e);return Sq(n,t._key).then(i=>new ai(e,r,t._key,i,new Vs(i!==null&&i.hasLocalMutations,!0),t.converter))}function a8(t){t=Ee(t,Ue);const e=Ee(t.firestore,rt);return HA(Dt(e),t._key,{source:"server"}).then(n=>_1(e,t,n))}function l8(t){t=Ee(t,Wt);const e=Ee(t.firestore,rt),n=Dt(e),r=new To(e);return cN(t._query),KA(n,t._query).then(i=>new ss(e,r,t,i))}function u8(t){t=Ee(t,Wt);const e=Ee(t.firestore,rt),n=Dt(e),r=new To(e);return bq(n,t._query).then(i=>new ss(e,r,t,i))}function c8(t){t=Ee(t,Wt);const e=Ee(t.firestore,rt),n=Dt(e),r=new To(e);return KA(n,t._query,{source:"server"}).then(i=>new ss(e,r,t,i))}function TS(t,e,n){t=Ee(t,Ue);const r=Ee(t.firestore,rt),i=rm(t.converter,e,n);return Kc(r,[Xp(So(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,je.none())])}function kS(t,e,n,...r){t=Ee(t,Ue);const i=Ee(t.firestore,rt),s=So(i);let o;return o=typeof(e=te(e))=="string"||e instanceof is?m1(s,"updateDoc",t._key,e,n,r):p1(s,"updateDoc",t._key,e),Kc(i,[o.toMutation(t._key,je.exists(!0))])}function d8(t){return Kc(Ee(t.firestore,rt),[new ll(t._key,je.none())])}function h8(t,e){const n=Ee(t.firestore,rt),r=af(t),i=rm(t.converter,e);return Kc(n,[Xp(So(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,je.exists(!1))]).then(()=>r)}function mN(t,...e){var n,r,i;t=te(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||av(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(av(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Ue)u=Ee(t.firestore,rt),c=ol(t._key.path),l={next:d=>{e[o]&&e[o](_1(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Ee(t,Wt);u=Ee(d.firestore,rt),c=d._query;const h=new To(u);l={next:f=>{e[o]&&e[o](new ss(u,h,d,f))},error:e[o+1],complete:e[o+2]},cN(t._query)}return function(d,h,f,m){const v=new Hp(m),_=new t1(h,v,f);return d.asyncQueue.enqueueAndForget(async()=>Jw(await ja(d),_)),()=>{v.Dc(),d.asyncQueue.enqueueAndForget(async()=>Zw(await ja(d),_))}}(Dt(u),c,a,l)}function f8(t,e){return Tq(Dt(t=Ee(t,rt)),av(e)?e:{next:e})}function Kc(t,e){return function(n,r){const i=new xt;return n.asyncQueue.enqueueAndForget(async()=>ZW(await d1(n),r,i)),i.promise}(Dt(t),e)}function _1(t,e,n){const r=n.docs.get(e._key),i=new To(t);return new ai(t,i,e._key,r,new Vs(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=So(e)}set(e,n,r){this._verifyNotCommitted();const i=Ai(e,this._firestore),s=rm(i.converter,n,r),o=Xp(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,je.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Ai(e,this._firestore);let o;return o=typeof(n=te(n))=="string"||n instanceof is?m1(this._dataReader,"WriteBatch.update",s._key,n,r,i):p1(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,je.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Ai(e,this._firestore);return this._mutations=this._mutations.concat(new ll(n._key,je.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new A(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ai(t,e){if((t=te(t)).firestore!==e)throw new A(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8 extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=So(e)}get(e){const n=Ai(e,this._firestore),r=new r8(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return W();const s=i[0];if(s.isFoundDocument())return new uc(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new uc(this._firestore,r,n._key,null,n.converter);throw W()})}set(e,n,r){const i=Ai(e,this._firestore),s=rm(i.converter,n,r),o=Xp(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Ai(e,this._firestore);let o;return o=typeof(n=te(n))=="string"||n instanceof is?m1(this._dataReader,"Transaction.update",s._key,n,r,i):p1(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Ai(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ai(e,this._firestore),r=new To(this._firestore);return super.get(e).then(i=>new ai(this._firestore,r,n._key,i._document,new Vs(!1,!1),n.converter))}}function y8(t,e,n){t=Ee(t,rt);const r=Object.assign(Object.assign({},p8),n);return function(i){if(i.maxAttempts<1)throw new A(C.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){const a=new xt;return i.asyncQueue.enqueueAndForget(async()=>{const l=await Iq(i);new vq(i.asyncQueue,l,o,s,a).run()}),a.promise}(Dt(t),i=>e(new g8(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(){return new qc("deleteField")}function w8(){return new f1("serverTimestamp")}function I8(...t){return new Wq("arrayUnion",t)}function E8(...t){return new qq("arrayRemove",t)}function _8(t){return new Hq("increment",t)}(function(t,e=!0){(function(n){sl=n})(us),Qi(new Mr("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new rt(new R6(n.getProvider("auth-internal")),new D6(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new es(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Dr(E_,"3.12.0",t),Dr(E_,"3.12.0","esm2017")})();const S8="@firebase/firestore-compat",b8="0.3.9";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new A("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){if(typeof Uint8Array>"u")throw new A("unimplemented","Uint8Arrays are not available in this environment.")}function xS(){if(!sj())throw new A("unimplemented","Blobs are unavailable in Firestore in this environment.")}class cc{constructor(e){this._delegate=e}static fromBase64String(e){return xS(),new cc(Ur.fromBase64String(e))}static fromUint8Array(e){return CS(),new cc(Ur.fromUint8Array(e))}toBase64(){return xS(),this._delegate.toBase64()}toUint8Array(){return CS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){return T8(t,["next","error","complete"])}function T8(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{enableIndexedDbPersistence(e,n){return Dq(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Oq(e._delegate)}clearIndexedDbPersistence(e){return $q(e._delegate)}}class gN{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof es||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&hr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){xq(this._delegate,e,n,r)}enableNetwork(){return Lq(this._delegate)}disableNetwork(){return Fq(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,QA("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Mq(this._delegate)}onSnapshotsInSync(e){return f8(this._delegate,e)}get app(){if(!this._appCompat)throw new A("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wa(this,XA(this._delegate,e))}catch(n){throw rn(n,"collection()","Firestore.collection()")}}doc(e){try{return new Hn(this,af(this._delegate,e))}catch(n){throw rn(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new nn(this,Rq(this._delegate,e))}catch(n){throw rn(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return y8(this._delegate,n=>e(new yN(this,n)))}batch(){return Dt(this._delegate),new vN(new m8(this._delegate,e=>Kc(this._delegate,e)))}loadBundle(e){return Uq(this._delegate,e)}namedQuery(e){return Vq(this._delegate,e).then(n=>n?new nn(this,n):null)}}class im extends E1{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(new Ur(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Hn.forKey(n,this.firestore,null)}}function C8(t){T6(t)}class yN{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new im(e)}get(e){const n=Bs(e);return this._delegate.get(n).then(r=>new dc(this._firestore,new ai(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Bs(e);return r?(S1("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Bs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Bs(e);return this._delegate.delete(n),this}}class vN{constructor(e){this._delegate=e}set(e,n,r){const i=Bs(e);return r?(S1("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Bs(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Bs(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class mo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new wu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hc(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=mo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new mo(e,new im(e),n),i.set(n,s)),s}}mo.INSTANCES=new WeakMap;class Hn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new im(e)}static forPath(e,n,r){if(e.length%2!==0)throw new A("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Hn(n,new Ue(n._delegate,r,new U(e)))}static forKey(e,n,r){return new Hn(n,new Ue(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Wa(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wa(this.firestore,XA(this._delegate,e))}catch(n){throw rn(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=te(e),e instanceof Ue?JA(this._delegate,e):!1}set(e,n){n=S1("DocumentReference.set",n);try{return n?TS(this._delegate,e,n):TS(this._delegate,e)}catch(r){throw rn(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?kS(this._delegate,e):kS(this._delegate,e,n,...r)}catch(i){throw rn(i,"updateDoc()","DocumentReference.update()")}}delete(){return d8(this._delegate)}onSnapshot(...e){const n=wN(e),r=IN(e,i=>new dc(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return mN(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=o8(this._delegate):(e==null?void 0:e.source)==="server"?n=a8(this._delegate):n=s8(this._delegate),n.then(r=>new dc(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Hn(this.firestore,e?this._delegate.withConverter(mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rn(t,e,n){return t.message=t.message.replace(e,n),t}function wN(t){for(const e of t)if(typeof e=="object"&&!uv(e))return e;return{}}function IN(t,e){var n,r;let i;return uv(t[0])?i=t[0]:uv(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class dc{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Hn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return pN(this._delegate,e._delegate)}}class hc extends dc{data(e){const n=this._delegate.data(e);return k6(n!==void 0),n}}class nn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new im(e)}where(e,n,r){try{return new nn(this.firestore,bi(this._delegate,Qq(e,n,r)))}catch(i){throw rn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new nn(this.firestore,bi(this._delegate,Yq(e,n)))}catch(r){throw rn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new nn(this.firestore,bi(this._delegate,Xq(e)))}catch(n){throw rn(n,"limit()","Query.limit()")}}limitToLast(e){try{return new nn(this.firestore,bi(this._delegate,Jq(e)))}catch(n){throw rn(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new nn(this.firestore,bi(this._delegate,Zq(...e)))}catch(n){throw rn(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new nn(this.firestore,bi(this._delegate,e8(...e)))}catch(n){throw rn(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new nn(this.firestore,bi(this._delegate,t8(...e)))}catch(n){throw rn(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new nn(this.firestore,bi(this._delegate,n8(...e)))}catch(n){throw rn(n,"endAt()","Query.endAt()")}}isEqual(e){return ZA(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=u8(this._delegate):(e==null?void 0:e.source)==="server"?n=c8(this._delegate):n=l8(this._delegate),n.then(r=>new cv(this.firestore,new ss(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=wN(e),r=IN(e,i=>new cv(this.firestore,new ss(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return mN(this._delegate,n,r)}withConverter(e){return new nn(this.firestore,e?this._delegate.withConverter(mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class x8{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new hc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cv{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new nn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new x8(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new hc(this._firestore,r))})}isEqual(e){return pN(this._delegate,e._delegate)}}class Wa extends nn{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Hn(this.firestore,e):null}doc(e){try{return e===void 0?new Hn(this.firestore,af(this._delegate)):new Hn(this.firestore,af(this._delegate,e))}catch(n){throw rn(n,"doc()","CollectionReference.doc()")}}add(e){return h8(this._delegate,e).then(n=>new Hn(this.firestore,n))}isEqual(e){return JA(this._delegate,e._delegate)}withConverter(e){return new Wa(this.firestore,e?this._delegate.withConverter(mo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Bs(t){return Ee(t,Ue)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(...e){this._delegate=new is(...e)}static documentId(){return new b1(ut.keyField().canonicalString())}isEqual(e){return e=te(e),e instanceof is?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this._delegate=e}static serverTimestamp(){const e=w8();return e._methodName="FieldValue.serverTimestamp",new Ps(e)}static delete(){const e=v8();return e._methodName="FieldValue.delete",new Ps(e)}static arrayUnion(...e){const n=I8(...e);return n._methodName="FieldValue.arrayUnion",new Ps(n)}static arrayRemove(...e){const n=E8(...e);return n._methodName="FieldValue.arrayRemove",new Ps(n)}static increment(e){const n=_8(e);return n._methodName="FieldValue.increment",new Ps(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8={Firestore:gN,GeoPoint:Qp,Timestamp:We,Blob:cc,Transaction:yN,WriteBatch:vN,DocumentReference:Hn,DocumentSnapshot:dc,Query:nn,QueryDocumentSnapshot:hc,QuerySnapshot:cv,CollectionReference:Wa,FieldPath:b1,FieldValue:Ps,setLogLevel:C8,CACHE_SIZE_UNLIMITED:Pq};function A8(t,e){t.INTERNAL.registerComponent(new Mr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},R8)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){A8(t,(e,n)=>new gN(e,n,new k8)),t.registerVersion(S8,b8)}N8(Ja);const P8=Ek({palette:{primary:Q2}}),D8=()=>{const[t,e]=I.useState(""),[n,r]=I.useState(""),[i,s]=I.useState(""),o=async a=>{a.preventDefault();try{await Ja.auth().signInWithEmailAndPassword(t,n),s("")}catch(l){s(l.message)}};return P.jsx(kM,{theme:P8,children:P.jsx(LF,{maxWidth:"xs",children:P.jsxs("div",{className:"login",children:[P.jsx(JL,{variant:"h4",component:"h1",align:"center",gutterBottom:!0,children:"Login"}),i&&P.jsx("div",{className:"error",children:i}),P.jsxs("form",{onSubmit:o,children:[P.jsx(AE,{label:"Email",type:"email",value:t,onChange:a=>e(a.target.value),required:!0,fullWidth:!0,margin:"normal"}),P.jsx(AE,{label:"Password",type:"password",value:n,onChange:a=>r(a.target.value),required:!0,fullWidth:!0,margin:"normal"}),P.jsx($F,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Login"})]})]})})})};fg.createRoot(document.getElementById("root")).render(P.jsx(sr.StrictMode,{children:P.jsx(D8,{})}));
